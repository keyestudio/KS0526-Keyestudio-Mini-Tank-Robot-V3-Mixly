# KS0526 Keyestudio Mini Tank Robot V3 Mixly

Thanks for your support on our products. We will continue to provide you with higher quality products and better services\!

#     **About keyestudio**

1.  Keyestudio is a best-selling brand owned by KEYES Corporation, our product lines range from Arduino boards, shields, sensor modules, Raspberry Pi, micro:bit extension boards and smart car to complete starter kits designed for customers of any level to learn Arduino knowledge.
    
2.  All of our products comply with international quality standards and are greatly appreciated in a variety of different markets throughout the world.
    
3.  Welcome check more contents from our official website:

4.  <http:/www.keyestudio.com>
    
    \*References and After-sales Service

5.  Download Profile：https:/fs.keyestudio.com/KS0526

6.  Feel free to contact us please, if there is missing part or you encounter some troubles. Welcome to send email to
    us：**[service@keyestudio.com](http:/m.138.gz.cn/webadmin/~CAmsnCrrNXhTAySKCerrIfWjjZuuWVfI/~/usr/mod_edituser.jsp?;uid=service@keyestudio.com;;clearCache=).** We will update projects and products continuously based on your sincere advice.
    
    \*Warning



1.  This product contains tiny parts(screws, copper pillars), keep it out of reach of children under 7 years old please.
    
2.  This product contains conductive parts (control board and electronic module). Please operate according to the requirements of this tutorial. Improper operation may cause overheating and damage parts. Do not touch and immediately disconnect the circuit power.

# **Copyright**

The keyestudio trademark and logo are the copyright of KEYES DIY ROBOT co.,LTD. All products under keyestudio brand can’t be copied, sold and resold without authorization by anyone or company. If you’re interested in our items, please contact to our sales representatives: [**fennie@keyestudio.com**](http:/m.138.gz.cn/webadmin/~CAmsnCrrNXhTAySKCerrIfWjjZuuWVfI/~/usr/mod_edituser.jsp?;uid=fennie@keyestudio.com;;clearCache=)

**Mini Tank Robot V3(Mixly toturial)**

![](/media/26173ee5c0c8a4a3cdbb208c91a2a7a5.png)

# **1. Introduction**

This STEM educational V3.0 tank robot is newly upgraded, adding an line-tracking and a fire- extinguishing function. It vigorously enhances the relationship between kids and parents, and sparks children’s imagination through programming and coding.

In the course of assembly process, you can see its multiple functions like light following, line tracking, IR and BT remote control, speed adjustment and so on. Additionally, there are some small parts that can help you assemble the robot car.

There are basic sensors and modules, such as a flame sensor, a BT sensor, an obstacle avoidance sensor, an line tracking sensor and an ultrasonic sensor are included.

The two tutorials for C language and Arduino are also suitable for the enthusiasts at different ages. It is really a best choice for you.

# **2.Features：**

1.Multiple functions：Confinement, line tracking, fire extingushing, light following, IR and BT remote control, speed control and so on

2\. Easy to build: assemble the robot with tiny parts

3\. High tenacity: Aluminum alloy brackets, metal motors, high quality wheels

4\. High extension: connect many sensors and modules through motor driver shield and sensor shield.

5\. Multiple controls: IR remote control, App control(iOS and Android system)

6.Basic programming：Mixly software

# **3.Parameters：**

Working voltage: 5v

Input voltage: 7-12V

Maximum output current: 2A

Maximum power dissipation: 25W (T=75℃)

Motor speed: 5V 200 rpm/min

Motor drive mode: dual H bridge drive(L298P)

Ultrasonic induction angle: \<15 degrees

Ultrasonic detection distance: 2cm-300cm

Infrared remote control distance: 10 meters (measured)

BT remote control distance: 30 meters (measured)

# **4.Kit List**

| #    | Picture                                                      | Name                                                      | QTY  |
| ---- | ------------------------------------------------------------ | --------------------------------------------------------- | ---- |
| 1    | ![img](./media/wps51-1696815496313-59-1696822915903-12.jpg)  | Wrench                                                    | 1    |
| 2    | ![img](./media/wps52-1696815554122-1.png)                    | Driving Wheels                                            | 2    |
| 3    | ![img](./media/wps53-1696815496313-60-1696822915903-13.jpg)  | M4*12mm Hexagon Screws                                    | 2    |
| 4    | ![img](./media/wps54-1696815496313-61-1696822915904-14.jpg)  | Caterpillar Band                                          | 2    |
| 5    | ![img](./media/wps55-1696815496313-62-1696822915904-16.png)  | Driven Wheel                                              | 2    |
| 6    | ![img](./media/wps56-1696815496313-63-1696822915904-17.jpg)  | M4*35mm Hexagon Screws                                    | 2    |
| 7    | ![img](./media/wps57-1696815496313-64-1696822915904-18.jpg)  | Bottom Parts                                              | 1    |
| 8    | ![img](./media/wps58-1696815496313-65-1696822915904-19.jpg)  | Tank Robot Chassis                                        | 1    |
| 9    | ![img](./media/wps59-1696815496313-66-1696822915904-20.jpg)  | Keyestudio V4.0 Development Board                         | 1    |
| 10   | ![img](./media/wps60-1696815496313-70-1696822915904-24.jpg)  | L298P Motor Driver Shield                                 | 1    |
| 11   | ![img](./media/wps61-1696815496313-67-1696822915904-21.jpg)  | Keyestudio HM-10 BT-4.0                                   | 1    |
| 12   | ![img](./media/wps62-1696815496313-68-1696822915904-22.jpg)  | HC-SR04 Ultrasonic Sensor                                 | 1    |
| 13   | ![img](./media/wps63-1696815496313-71-1696822915904-23.jpg)  | Keyestudio 8*16 LED Panel                                 | 1    |
| 14   | ![img](./media/wps64-1696815496313-69-1696822915904-25.jpg)  | Yellow LED Module                                         | 1    |
| 15   | ![img](./media/wps65-1696815496313-72-1696822915904-26.jpg)  | Flame Sensor                                              | 2    |
| 16   | ![img](./media/wps66-1696815496313-73-1696822915904-27.jpg)  | 130 Motor Module                                          | 1    |
| 17   | ![img](./media/wps67-1696815496313-74-1696822915904-28.jpg)  | IR Receiver Module                                        | 1    |
| 18   | ![img](./media/wps68-1696815496313-75-1696822915904-29.jpg)  | Photoresistor                                             | 2    |
| 19   | ![img](./media/wps69-1696815496313-76-1696822915904-31.jpg)  | Acrylic Board for8*16 LED Panel                           | 1    |
| 20   | ![img](./media/wps70-1696815496313-77-1696822915904-32.jpg)  | Upper Board                                               | 1    |
| 21   | ![img](./media/wps71-1696815496313-78-1696822915904-30.jpg)![img](./media/wps72-1696815496313-79-1696822915904-33.jpg) | Acrylic Board                                             | 2    |
| 22   | ![img](./media/wps73-1696815496313-80-1696822915904-34.jpg)  | Keyestudio JMFP-4 17-KeyRemote Control(Without Batteries) | 1    |
| 23   | ![img](./media/wps74-1696815496313-81-1696822915904-35.jpg)  | Keyestudio 9G 180 °Servo                                  | 1    |
| 24   | ![img](./media/wps75-1696815496313-82-1696822915904-36.jpg)  | USB Cable                                                 | 1    |
| 25   | ![img](./media/wps76-1696815496313-83-1696822915904-37.jpg)  | 3.0*40MM Screwdriver                                      | 1    |
| 26   | ![img](./media/wps77-1696815496313-84-1696822915904-39.jpg)  | 4P M-F PH2.0mm to 2.54 Dupont Wire(Green-Blue-Red-Black)  | 1    |
| 27   | ![img](./media/wps78-1696822915904-40.jpg)                   | 4P HX-2.54 Dupont Wire (Black-Red-White-Brown)            | 1    |
| 28   | ![img](./media/wps79-1696815496313-85-1696822915904-41.jpg)  | 5P JST-PH2.0MM Dupont Wire                                | 1    |
| 29   | ![img](./media/wps80-1696815496314-86-1696822915904-38.jpg)  | 3P-3P XH2.54 to 2.54 Dupont Wire（Yellow-Red-Black)       | 1    |
| 29   | ![img](./media/wps81-1696815496314-87-1696822915904-42.jpg)  | 3P-3P XH2.54 to PH2.0 Dupont Wire（Yellow-Red-Black)      | 3    |
| 30   | ![img](./media/wps82-1696815496314-88-1696822915904-44.jpg)  | 4P-3P XH2.54 to PH2.0  Dupont Wire（Yellow-Red-Black)     | 2    |
| 31   | ![img](./media/wps83-1696815496314-89-1696822915904-45.jpg)  | 4P XH2.54 to PH2.0Dupont Wire（Green-Blue-Red-Black)      | 1    |
| 32   | ![img](./media/wps84-1696815496314-90-1696822915904-46.jpg)  | M1.4*8MM Round-head Screws                                | 6    |
| 33   | ![img](./media/wps85-1696815496314-91-1696822915904-43.jpg)  | M1.4 Nuts                                                 | 6    |
| 34   | ![img](./media/wps86-1696822915909-123.jpg)                  | M2 Nuts                                                   | 8    |
| 35   | ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps87.jpg) | M2*8MM Round-head Screws                                  | 8    |
| 36   | ![img](./media/wps88-1696815496314-94-1696822915904-47.jpg)  | M1.2*5MM Round-head Screws                                | 6    |
| 37   | ![img](./media/wps89-1696815496314-95-1696822915904-49.jpg)  | M3*6MM Round-head Screws                                  | 18   |
| 38   | ![img](./media/wps90-1696815496314-96-1696822915904-48.jpg)  | M3*10MM Round-head Screws                                 | 3    |
| 39   | ![img](./media/wps91-1696822915904-50.jpg)                   | M3 Nuts                                                   | 3    |
| 40   | ![img](./media/wps92-1696815496314-97-1696822915904-51.jpg)  | M3*10MM Dual-pass Copper Pillar                           | 4    |
| 41   | ![img](./media/wps93-1696815496314-98-1696822915904-52.jpg)  | M3*40MM Dual-pass Copper Pillar                           | 4    |
| 42   | ![img](./media/wps94-1696815496314-99-1696822915904-53.jpg)  | 43093 Blue Technic Axle Pin with Friction Ridges          | 13   |
| 43   | ![img](./media/wps95-1696822915905-54.jpg)                   | 4265c Technic Bush                                        | 13   |
| 44   | ![img](./media/wps96-1696815496314-100-1696822915905-56.jpg) | Winding Pipe                                              | .12  |
| 45   | ![img](./media/wps97-1696815496314-101-1696822915905-55.jpg) | 3*100MM Ties                                              | 5    |
| 46   | ![img](./media/wps98-1696822915910-164.jpg)                  | L Type M2.5 Wrench                                        | 1    |
| 47   | ![img](./media/wps99-1696822915905-57.jpg)                   | L Type M3 Wrench                                          | 1    |
| 48   | ![img](./media/wps100.jpg)                                   | L Type M1.5 Wrench                                        | 1    |
| 49   | ![img](./media/wps101-1696815496314-103-1696822915905-72.jpg) | Cardboard                                                 | 1    |

# **5.Installation**

It is recommended to start the installation part after all projects are learned.

## **Caution**

Set the initial angle of the servo Peel thin films off boards before installing this robot.

## **Step 1**

1.Required Parts

![image-20231009094539006](./media/image-20231009094539006-1696822915905-58.png)

2.install

![image-20231009094637676](./media/image-20231009094637676.png)

![image-20231009094647182](./media/image-20231009094647182.png)



## **Step 2**

1.Required  Parts

![image-20231009094839124](./media/image-20231009094839124.png)

2.install

![image-20231009094846723](./media/image-20231009094846723.png)

![image-20231009094856514](./media/image-20231009094856514.png)

## **Step 3**

1.Required  Parts

![image-20231009113027822](./media/image-20231009113027822.png)

2.install

![image-20231009113036076](./media/image-20231009113036076-1696822915905-66.png)

![image-20231009113043523](./media/image-20231009113043523-1696822915905-68.png)

## **Step 4**

1.Required  Parts

![image-20231009113107100](./media/image-20231009113107100.png)

2.install

![image-20231009113114434](./media/image-20231009113114434.png)

![image-20231009113123387](./media/image-20231009113123387.png)

## **Step 5**

1.Required  Parts

![image-20231009094935792](./media/image-20231009094935792.png)

2.install

![image-20231009094945586](./media/image-20231009094945586.png)

![image-20231009094951684](./media/image-20231009094951684.png)

## **Step 6**

1.Required  Parts

![image-20231009095004628](./media/image-20231009095004628.png)

2.install

![image-20231009095013237](./media/image-20231009095013237.png)

![image-20231009095020626](./media/image-20231009095020626.png)

## **Step 7**

1.Required  Parts

![image-20231009095035512](./media/image-20231009095035512.png)

2.install

![image-20231009095046621](./media/image-20231009095046621.png)![image-20231009095052494](./media/image-20231009095052494-1696822915908-81.png)

![image-20231009095105695](./media/image-20231009095105695.png)

## **Step 8**

1.Required  Parts

![image-20231009095209594](./media/image-20231009095209594.png)

2.install

<p style="color:red;font-size:20px;">(Note: The direction of jumper caps)</p> 

![image-20231009095306255](./media/image-20231009095306255.png)

![image-20231009095313295](./media/image-20231009095313295.png)

## **Step 9**

1.Required  Parts

![image-20231009095520528](./media/image-20231009095520528.png)

2.install

![image-20231009095527902](./media/image-20231009095527902.png)

![image-20231009095534216](./media/image-20231009095534216.png)



## **Step 10**

1.Required  Parts

![image-20231009095548552](./media/image-20231009095548552.png)

2.install

![image-20231009095558279](./media/image-20231009095558279-1696822915909-91.png)

![image-20231009095608248](./media/image-20231009095608248-1696822915909-90.png)

## **Step 11**

1.Required  Parts  

![](./media/image-20231009100240361.png)

2.install

<p style="color:red;font-size:36px">（Need to adjust the angle of the servo）</p>

Find the code file for setting the servo to 90 degrees through the path and open it.

![image-20231009110539936](./media/image-20231009110539936-1696822915909-93.png)

Code image：

Servo will first rotate from 0 to 180 degrees and then return to 90 degrees.

![image-20231009110210727](./media/image-20231009110210727-1696822915909-94.png)

install：

![image-20231009110916077](./media/image-20231009110916077.png)

![image-20231009110921944](./media/image-20231009110921944-1696822915909-96.png)

## **Step 12**

1.Required  Parts  

![image-20231009110936889](./media/image-20231009110936889.png)

2.install

![image-20231009111101203](./media/image-20231009111101203.png)

![image-20231009111110046](./media/image-20231009111110046.png)

![image-20231009111122032](./media/image-20231009111122032.png)

![image-20231009111129990](./media/image-20231009111129990.png)

![image-20231009111139765](./media/image-20231009111139765.png)

## **Wiring up**

1.Hook Up the photo-resistor

![image-20231009111434791](./media/image-20231009111434791.png)

![image-20231009111215603](./media/image-20231009111215603.png)![image-20231009111222214](./media/image-20231009111222214.png)

2.Wire up the line tracking sensor

![image-20231009111536502](./media/image-20231009111536502.png)

![image-20231009111512519](./media/image-20231009111512519.png)

![image-20231009111520732](./media/image-20231009111520732.png)

![image-20231009111527180](./media/image-20231009111527180.png)

3.Hook up the IR Receiver Module

![image-20231009111624483](./media/image-20231009111624483.png)

![image-20231009111607949](./media/image-20231009111607949.png)

![image-20231009111615268](./media/image-20231009111615268.png)

4.Wire up the Ultrasonic Sensor

![image-20231009111701718](./media/image-20231009111701718.png)

![image-20231009111654584](./media/image-20231009111654584.png)



5.Wire up the Servo

![image-20231009111717684](./media/image-20231009111717684.png)

![image-20231009111722605](./media/image-20231009111722605.png)

6.Hook Up the 8*16LED Panel

![image-20231009111754910](./media/image-20231009111754910.png)

![image-20231009111740575](./media/image-20231009111740575.png)

![image-20231009111748310](./media/image-20231009111748310.png)

7.Motor and power wiring

![](./media/image-20231009111947122-1696821810679-3-1696822915909-120.png)

![image-20231009111858627](./media/image-20231009111858627.png)

![image-20231009111905802](./media/image-20231009111905802.png)

![image-20231009111911482](./media/image-20231009111911482.png)

![image-20231009111919105](./media/image-20231009111919105.png)

## **Tank robot for extinguishing fire**

1.Dismantle two photoresistors and ultrasonic sensor, as shown below.

![image-20231009112500929](./media/image-20231009112500929.png)

![image-20231009112512429](./media/image-20231009112512429.png)

2.Replace them with a fan module and two flame sensors.

![image-20231009112529138](./media/image-20231009112529138.png)

Then we get a tank robot for extinguishing fire.

![image-20231009112549797](./media/image-20231009112549797.png)

3.Connection Diagram

Hook up the fan module and two flame sensors.

![image-20231009112758898](./media/image-20231009112758898-1696822915909-130.png)

![image-20231009112728208](./media/image-20231009112728208.png)

![image-20231009112733450](./media/image-20231009112733450.png)

![image-20231009112740147](./media/image-20231009112740147.png)

![image-20231009112745805](./media/image-20231009112745805.png)



# **6.Install Mixly Software and Driver**

## **1.Download and Install Mixly**

### **①Description**

Mixly is a free open-source graphical Arduino programming software, based on Google’s Blockly graphical programming framework, and developed by Mixly Team@ BNU.

It is a complete support ecosystem for creative e-education, a stage for maker educators to realize their dreams.

### **② Download Mixly1.0**

Windows System：<https:/fs.keyestudio.com/Mixly1-Windows>

MACOS System：<https:/fs.keyestudio.com/Mixly1-MACOS>

We will take Mixly1.0 (Windows version) as example, and the installation method of MAC version is similar with it.

You will get installation package after downloading. As shown below:

![](./media/2c120c5b3e52fbec94b62b48a016a4d5-1696815208795-2-1696815496314-104-1696822915910-134.png)

Unzip the package, you will see “Mixly 1.0 for keyestudio.exe”

![](./media/f8201facff78d06aad9ced9f5fe65e0f-1696815208795-3-1696815496314-105-1696822915910-135.png)

Double-click ![](./media/8ec85e7035e6acc2271635f7c03dfc8e-1696815208796-5-1696815496314-106-1696822915910-137.png)”Mixly 1.0 for keyestudio.exe”, the following interface pops up.

![](./media/3b4de4ee8a8535e2e316c38e4c95e28f-1696815208795-4-1696815496314-107-1696822915910-138.png)

We have to choose correct Arduino development board and name, as shown below:

![](./media/afbba18511c277cd0cf580353d22ac7f-1696815208796-7-1696815496314-108-1696822915910-140.png)

Select correct COM port(the corresponding port will be shown after installing driver successfully)

![](./media/cf570d717ad63f4d9c1793dcdbd65254-1696815208796-6-1696815496314-109-1696822915910-136.png)

You have to know the function of every area and interface on Mixly software before uploading program on Arduino development board

![](./media/c3360c388c06334c2d06c168763a3bed-1696815208796-8-1696815496314-110-1696822915910-142.png)

![](./media/c09dc67b6729cab1451932399afcbde6-1696815208796-9-1696815496314-111-1696822915910-145.png)

## **2.Keyestudio V4.0 Development Board**

We need to know keyestudio V4.0 development board, as a core of this smart car.

![](./media/d48e310dbb7f60760a02fbd88c17d97a-1696822419508-5.png)

Keyestudio V4.0 development board is an Arduino uno compatible board, which is based on ATmega328P MCU, and with a cp2102 Chip as a UART-to-USB converter. 

![](./media/308315eef3c603cdf0e8babfc4d9c297-1696815208796-11.jpeg)

It has 14 digital input/output pins (of which 6 can be used as PWM outputs), 6 analog inputs, a 16 MHz quartz crystal, a USB connection, a power jack, 2 ICSP headers and a reset button.

![](/media/9652daf1229f38442c4c31934022be39.png)

It contains everything needed to support the microcontroller; simply connect it to a computer with a USB cable or power it via an external DC power jack (DC 7-12V) or via female headers Vin/ GND(DC 7-12V) to get started.

<table>
<tbody>
<tr class="odd">
<td>Microcontroller</td>
<td>ATmega328P-PU</td>
</tr>
<tr class="even">
<td>Operating Voltage</td>
<td>5V</td>
</tr>
<tr class="odd">
<td>Input Voltage (recommended)</td>
<td>DC7-12V</td>
</tr>
<tr class="even">
<td>Digital I/O Pins</td>
<td><p>14 (D0-D13)</p>
<p>(of which 6 provide PWM output)</p></td>
</tr>
<tr class="odd">
<td>PWM Digital I/O Pins</td>
<td>6 (D3, D5, D6, D9, D10, D11)</td>
</tr>
<tr class="even">
<td>Analog Input Pins</td>
<td>6 (A0-A5)</td>
</tr>
<tr class="odd">
<td>DC Current per I/O Pin</td>
<td>20 mA</td>
</tr>
<tr class="even">
<td>DC Current for 3.3V Pin</td>
<td>50 mA</td>
</tr>
<tr class="odd">
<td>Flash Memory</td>
<td>32 KB (ATmega328P-PU) of which 0.5 KB used by bootloader</td>
</tr>
<tr class="even">
<td>SRAM</td>
<td>2 KB (ATmega328P-PU)</td>
</tr>
<tr class="odd">
<td>EEPROM</td>
<td>1 KB (ATmega328P-PU)</td>
</tr>
<tr class="even">
<td>Clock Speed</td>
<td>16 MHz</td>
</tr>
<tr class="odd">
<td>LED_BUILTIN</td>
<td>D13</td>
</tr>
</tbody>
</table>
## **3.Installing V4.0 board Driver**

Let’s install the driver of keyestudio V4.0 board. The USB-TTL chip on V4.0 board adopts CP2102 serial chip. The driver program of this chip is included in Arduino 1.8 version and above, which is convenient. Plug on USB port of board, the computer can recognize the hardware and automatically install the driver of CP2102.

![](./media/5a7574db1405f5759eaa51fd01ac45bc-1696815208796-13.png)

If install unsuccessfully, or you intend to install manually, open the device manager of computer. Right click Computer----- Properties----- Device Manager![](./media/afa5b0dde9342bd7ad9f385333cb6f55-1696815208796-14-1696815496315-116-1696822915910-144.png)

There is a yellow exclamation mark on the page, which implies installing unsuccessfully. Then we double click the hardware and update the driver.

![](./media/c26ca0ef1bf1506c815b6e3e239cf525-1696815208796-15-1696815496315-117-1696822915910-146.png)

Click “OK” to enter the following page, click “browse my computer for updated driver software”, find out the installed or downloaded ARDUINO software. As shown below:

![](./media/4ec7a5ea3c8a1fd9663eef4768b687c5-1696815208796-16-1696815496315-118-1696822915910-148.png)

There is a DRIVERS folder in Arduino software installed package（![](./media/f50a31a59716594afbd7c2254cfd521e-1696815208796-17-1696815496315-119-1696822915910-149.png)), open driver folder and you can see
the driver of CP210X series chips.

![](./media/6b2096635947dee069104f6032b6fd15-1696815208796-18-1696815496315-120-1696822915910-150.png)
![](./media/f4b45a57d6b1e965d611b14915e7b440-1696815208796-20-1696815496315-121-1696822915910-151.png)

We click “Browse”, then find out the driver folder, or you could enter “driver” to search in rectangular box, then click “next”, the driver will be installed successfully. (I place Arduino software folder on the desktop, you could follow my way)

![](./media/417de936fa9720c7a7427c4d07718292-1696815208796-19-1696815496315-122-1696822915910-152.png)

Open device manager, we will find the yellow exclamation mark disappear. The driver of CP2102 is installed successfully.

> ![](/media/efce0ba96c48d853f302730b4d481ee9.jpeg)

![](./media/9b8ddc1c8af12e5f363817d49cea8571-1696815208796-22-1696815496315-124-1696822915910-153.png)

## **4.Start the first program**

Click “Open”→ sample → arduino→ Arduino → 01 IN-OUT→01-LED Blink.mix

![](./media/b8191b5c11060a48ca25c2d605a57183-1696815208796-23-1696815496315-125-1696822915910-154.png)

The corresponding board and COM port will be shown after setting board and COM port.

![](./media/c6ae6346cfadc1500c91cd9096b835a1-1696815208796-24-1696815496315-126-1696822915910-155.png)

Click **Compile** to start compiling the program, check errors.

![](./media/3cc4f50c5a62d3356fc0c5cc9af85643-1696815208796-25-1696815496315-127-1696822915910-157.png)

Click **Upload** to upload the program, upload successfully.

![](./media/f01375e7ffb9caa13906b04ec77ed381-1696815208796-26-1696815496315-130-1696822915910-158.png)

After uploading the program successfully, the onboard LED lights up for 1s, lights off for 1s. Congratulations, you finish the first program.

# **7.Projects：**

<p style="color:red;font-size:25px">Note: (G), marked on each sensor and module, is the negative pole and connected to“G”, ”-”or “GND”on the sensor shield or control board ; (V) is the positive pole and linked with V , VCC, + or 5V on the sensor shield or control board.</p>

## **Project 1: LED Blinks**

### (1) Description：

![](./media/ae87aea86f6c7e427f7adfc0e7c0efe3-1696815208796-27-1696815496315-128-1696822915910-160.png)

For starters and enthusiasts, LED Blink is a fundamental program. LED, the abbreviation of light emitting diodes, consists of Ga, As, P, N chemical compounds and so on. The LED can flash in diverse colors by altering the delay time in the test code. When in control, power on GND and VCC, the LED will be on if S end is in high level; nevertheless, it will go off.

![](./media/0ea85307e1317c25f2a8d92f25319aa8-1696822666056-7-1696822915910-159.png)

### (2)Parameters：

Control interface: digital port

Working voltage: DC 3.3-5V

Pin spacing: 2.54mm

LED display color: yellow

### (3) Components Needed:

| Keyestudio V4.0 Development Board *1                | L298P Motor Driver Shield*1 | Yellow LED Module*1        |
| --------------------------------------------------- | --------------------------- | -------------------------- |
| ![img](./media/wps102.jpg)                          | ![img](./media/wps103.jpg)  | ![img](./media/wps104.jpg) |
| 3P-3P XH2.54 to 2.54 Dupont Wire（Yellow-Red-Black) | USB Cable*1                 |                            |
| ![img](./media/wps105.jpg)                          | ![img](./media/wps106.jpg)  |                            |

### (4) Motor Drive Shield V2：

There are many ways to drive a motor. Our robot car uses the most common solution--L298P--which is an excellent high-power motor driver IC produced by STMicroelectronics. It can directly drive DC motors, two-phase and four-phase stepping motors. The driving current is up to 2A, and the output terminal of motor adopts eight high-speed Schottky diodes as protection.

We designed a shield based on the circuit of L298p.

The stacked design reduces the technical difficulty of using and driving the motor.

![](/media/693acafee3fa4f31c8067009b193f2b1.png)

5)  ### Connection Diagram：

![](./media/d4b4ac75507402fce61ee29ed00ff7a8-1696815208796-30.png)

LED is connected to D3 port, and remember to install jumper caps onto the shield

### (6)Test Code：

The program will be generated if you find the following file and drag it into Mixly software.

| File Type | Route                                                  | File Name               |
| --------- | ------------------------------------------------------ | ----------------------- |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_1\_LED Blinks | lesson\_1.1\_LED Blinks |
|           |                                                        |                         |

You could edit code step by step as follows:

（1）Click“robot”to choose Mini Tank Robot V3![](./media/2858a9cf7fbf16f11105bdf0e13ea8d8-1696815208796-31-1696822915910-163.png)

（2）To find and drag![](./media/d8948444bdcbe5b7c21bbea63a6728bd-1696815208796-32-1696815496315-134-1696822915910-165.png) and the S end of yellow LED is connected to D3 of sensor shield

（3）Copy ![](./media/d8948444bdcbe5b7c21bbea63a6728bd-1696815208796-32-1696815496315-134-1696822915910-165.png) once，click the little triangle behind“HIGH”to choose”HIGH”，and others remain unchanged; click “Control”to find and drag![](./media/b33422dd8f4a5af9ce2008cb6b537f64-1696815208796-33-1696815496315-135-1696822915910-167.png) and keep it the same; ![](./media/204ee5432597021a565bebc8d6eb0ba2-1696815208796-34-1696815496315-136-1696822915910-166.png)

Copy ![](./media/204ee5432597021a565bebc8d6eb0ba2-1696815208796-34-1696815496315-136-1696822915910-166.png)once，click the little triangle behind “HIGH” to choose“LOW”，and others remain unchanged;

![](./media/38836e2f59503b1114ae329e47666022-1696815208796-36-1696815496315-137-1696822915910-169.png)

**Complete code：**

![](./media/38836e2f59503b1114ae329e47666022-1696815208796-36-1696815496315-137-1696822915910-169.png)

### (7) Test Results：

Upload the program, LED blinks at the interval of 1s.

### （8）Extension Practice：

We have succeeded in blinking LED. Next, let’s observe what will happen to the LED if we modify pins and delay time.

The program will be generated if you find the following file and drag it into Mixly software.

| File Type | Route                                                  | File Name               |
| --------- | ------------------------------------------------------ | ----------------------- |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_2\_LED Blinks | lesson\_1.2\_LED Blinks |
|           |                                                        |                         |

You could edit code step by step as follows:

Complete Program：

![](./media/1db3205c80bd5183154b6cb95d3f3ae7-1696815208796-35-1696815496315-138-1696822915910-168.png)

The LED flickers faster through the test result, therefore, pins and delay time affect flash frequency.

## **Project 2: Adjust LED Brightness**

### (1) Description：

In previous lesson, we control LED on and off and make it blink.

In this project, we will control LED’s brightness through PWM simulating breathing effect. Similarly, you can change the step length and delay time in the code so as to demonstrate different breathing effects.

PWM is a means of controlling the analog output via digital means. Digital control is used to generate square waves with different duty cycles (a signal that constantly switches between high and low levels) to control the analog output.In general, the input voltages of ports are 0V and 5V. What if the 3V is required? Or a switch among 1V, 3V and 3.5V? We cannot change resistors constantly. For this reason, we resort to PWM.

![](/media/bbcfcb9ae56abb7e80ee587246fc4be9.GIF)

For Arduino digital port voltage outputs, there are only LOW and HIGH levels, which correspond to the voltage outputs of 0V and 5V respectively. You can define LOW as“0”and HIGH as“1’, and let the Arduino output five hundred‘0’or‘1’within 1 second. If output five hundred‘1’, that is 5V; if all of which is‘0’,that is 0V; if output 25001 pattern, that is 2.5V.

This process can be likened to showing a movie. The movie we watch are not completely continuous. Actually, it generates 25 pictures per second, which cannot be told by human eyes. Therefore, we mistake it as a continuous process. PWM works in the same way. To output different voltages, we need to control the ratio of 0 and 1. The more ‘0’or‘1’ output per unit time, the more accurate the control.

PWM is a technology to obtain analog quantity through digital method. Digital control forms a square wave, and the square wave signal only has two states of turning on and off (that is, high or low levels). By controlling the ratio of the duration of turning on and off, a voltage varying from 0 to 5V can be simulated. The time turning on(academically referred to as high level) is called pulse width, so PWM is also called pulse width modulation.

Through the following five square waves, let’s acknowledge more about PWM.

![](/media/553f3d1b6ca04e1aa0479841dd075fa2.png)

In the above figure, the green line represents a period, and value of analogWrite() corresponds to a percentage which is called Duty Cycle as well. Duty cycle implies that high-level duration is divided by low-level duration in a cycle. From top to bottom, the duty cycle of first square wave is 0% and its corresponding value is 0. The LED brightness is lowest, that is, turn off. The more time high level lasts, the brighter the LED. Therefore, the last duty cycle is 100%, which correspond to 255, LED is brightest. 25% means darker.

PWM mostly is used for adjusting the LED brightness or rotation speed of motor.

It plays vital role in controlling smart robot car. I believe that you can’t wait to enter next project.

### (2) Parameters：

![](./media/0ea85307e1317c25f2a8d92f25319aa8-1696822908576-9.png)

Control interface: Digital port 3

Working voltage: DC 3.3-5V

Pin spacing: 2.54mm

LED display color: yellow

(3)Components Needed:：

| Keyestudio V4.0 Development Board *1                         | L298P Motor Driver Shield*1                                  | Yellow LED Module*1                                          |
| ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps107.jpg) | ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps108.jpg) | ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps109.jpg) |
| 3P-3P XH2.54 to 2.54 Dupont Wire（Yellow-Red-Black)*1        | USB Cable*1                                                  |                                                              |
| ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps110.jpg) | ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps111.jpg) |                                                              |

### (4)Connection Diagram：



![](./media/d4b4ac75507402fce61ee29ed00ff7a8-1696815208796-30.png)

### (5)Test Code：

The program will be generated if you find the following file and drag it into Mixly software.

|           |                                                                   |                                    |
| --------- | ----------------------------------------------------------------- | ---------------------------------- |
| File Type | Route                                                             | File Name                          |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_2\_Adjust LED Brightness | lesson\_2.1\_Adjust LED Brightness |

You could edit code step by step as follows:

（1）Click"Control"to find and drag![](./media/d551cec2b04e244ba508705b13925c97-1696815208797-39-1696815496315-141-1696822915911-173.png)，change the 1
in front of “to” to 0， the 10 behind“to”to 255，and others remain unchanged;

![](./media/ed65220e4e5a60e70a5ce4ba2f2d0bb0-1696815208797-40-1696815496315-142-1696822915911-174.png)

（2）Click“Mini Tank Robot V3”of “robot”to find and drag![](./media/a0a309c00c343f70d5417a14a5bba47b-1696815208797-41-1696815496316-143-1696822915911-175.png)，and alter the default “255”according to the PMW to output;

(3) Click![](./media/a0a309c00c343f70d5417a14a5bba47b-1696815208797-41-1696815496316-143-1696822915911-175.png) to change 255 to i：![](./media/aef5101f7b5f5d2a84d74dcc1c97f266-1696815208797-42-1696815496316-144.png);

(4) Click “Control”to find and drag![img](./media/wps119.jpg)into![img](./media/wps120.jpg); change delay in 1000ms to 5ms; 

![](./media/79bfb19dc6332f9817711dda59d115a5-1696815208797-43-1696815496316-145-1696822915911-177.png)

（5）Copy ![](./media/79bfb19dc6332f9817711dda59d115a5-1696815208797-43-1696815496316-145-1696822915911-177.png)once， change the 0 before “to”to 255, the 255 to 0，and the 1 behind step to -1，and others remain unchanged;![](./media/616d732861aa7a058b9949c807c6b8d3-1696815208797-44-1696815496316-146-1696822915911-194.png)

**Complete code：**

![](./media/3fb60bc6cfc945c9157e2bac46e7ced0-1696815208797-45-1696815496316-147.png)![img](./media/wps121.png)

### (6)Test Results：

Upload test code successfully, LED gradually changes from bright to dark, like human’s breath, rather than turning on and off immediately.

### (7）Extension Practice：

Let’s modify the value of delay and remain the pin unchanged, then observe how LED changes.

The program will be generated if you find the following file and drag it into Mixly software.

| File Type | Route                                                        | File Name                          |
| --------- | ------------------------------------------------------------ | ---------------------------------- |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_2\_Adjust LED Brightness | lesson\_2.2\_Adjust LED Brightness |
|           |                                                              |                                    |

You could edit code step by step as follows:

**Complete code：**

![](./media/c065d02a5a60b7e8b14fe81a19098a9f-1696815496316-148-1696822915911-179.png)

Upload the code to development board, LED flashes more slowly.

## **Project 3: Photoresistor**

### (1) Description：

The photosensitive resistor is a special resistor made of a semiconductor material such as a sulfide or selenium, and a moisture-proof resin is also coated with a photoconductive effect. The photosensitive resistance is most sensitive to the ambient light, different illumination strength, and the resistance of the photosensitive resistance is different. We use the photosensitive
resistance to design the photosensitive resistor module. The module signal is connected to the microcontroller analog port. 

When the light intensity is stronger, the larger the analog port voltage, that is, the simulation value of the microcontroller is also large; in turn, when the light intensity is weaker, the smaller the analog port voltage, that is, the simulation value of the microcontroller is also small. . In this way, we can read the corresponding analog value using the photosensitive resistor module, and the intensity of the light in the inductive environment.

### (2)Parameters：

![](./media/0d9daba6454ef099fe1ceb0e6cb56ec4-1696815208797-47-1696815496316-149-1696822915911-180.png)

Photosensitive resistance resistance value: 5K Ou-0.5m

Interface type: simulation port A0, A1

Working voltage: 3.3V-5V

Pin spacing: 2.54mm

### (3)Components Needed:：

| Keyestudio V4.0 Development Board *1                         | L298P Motor Driver Shield*1                                  | Yellow LED Module*1                                          | 3P-3P XH2.54 to 2.54 Dupont Wire（Yellow-Red-Black)*1        |
| ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps122.jpg) | ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps123.jpg) | ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps124.jpg) | ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps125.jpg) |
| Photoresistor *1                                             | 3P-3P XH2.54 to PH2.0 Dupont Wire（Yellow-Red-Black)*1       | USB Cable*1                                                  |                                                              |
| ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps126.jpg) | ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps127.jpg) | ![img](./media/wps128.jpg)                                   |                                                              |

### (4)Connection Diagram

![](/media/ae641c0d437fc4bac686039086e8d697.png)

We connect a photoresistor to A0 and make an experiment. Let’s read its analog value first.

### (5)Test Code：

The program will be generated if you find the following file and drag it into Mixly software.

| File Type | Route                                                      | File Name                   |
| --------- | ---------------------------------------------------------- | --------------------------- |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_3\_ Photoresistor | lesson\_3.1\_ Photoresistor |
|           |                                                            |                             |

You could edit code step by step as follows:

（1）Click “Control”to find and drag![](./media/3b9464e5c3dd4437bc5486d58cc9e039-1696815208797-49-1696815496316-151-1696822915911-181.png); please note that the code in ![](./media/3b9464e5c3dd4437bc5486d58cc9e039-1696815496316-152-1696822915911-183.png)only runs once;

（2）Click“Serial”to find and drag![img](./media/wps129.jpg)into![img](./media/wps130.jpg);

![](./media/ab706faf61854a4bb27663a5cac4325c-1696815208797-50-1696822915911-184.png)

（3）Click“Mini Tank Robot V3”of “robot”to find and drag![](./media/7bbb1777c0b3d895c9aa18b0697e64e9-1696822915911-185.png)，click the little triangle behind“Left”to choose “Left”(if A1 is connected then choose “Right”.)

（4）Click“SerialPort”to find and drag![img](./media/wps131.jpg) and drag ![img](./media/wps132.jpg) to it：![img](./media/wps133.jpg);

（5）Click “Control”to find and drag![](./media/b36d41f8c3f679d192b1f7a4045b2f50-1696829765205-1250.png) and change delay in 1000ms to 100ms:

![](./media/5cc8ac16a7aa062d9e6263c8244ef994-1696822915911-189.png)

**Complete code：**

![](./media/57799a5add2bf6e2b874d1cee7305f53-1696822915911-190.png)

### (6)Test Results：

Upload test code to the development board and open serial port monitor.

![](./media/7c6ae738366c565c9a952877b1aebb09-1696822915911-191.png)

When covering it, the value gets smaller; if not, the value gets larger.

### (7)Extension Practice:

We know the value of the photoresistor. How about controlling the LED’s brightness by it?

![](./media/d4549a47bdcd40157756b09f9b93bdf8-1696829733717-1248.png)

The LED’s brightness is controlled by PWM. Therefore, we connect the LED to PMW pin(pin 3) of the shield.

The program will be generated if you find the following file and drag it into Mixly software.

| File Type | Route                                                      | File Name                  |
| --------- | ---------------------------------------------------------- | -------------------------- |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_3\_ Photoresistor | lesson\_3.2\_Photoresistor |
|           |                                                            |                            |

You could edit code step by step as follows:

（1）Click “Control”to find and drag![](./media/3b9464e5c3dd4437bc5486d58cc9e039-1696815496316-152-1696822915911-183.png);

（2）Click“serial”to find and drag![img](./media/wps134.jpg)into![img](./media/wps135.jpg);

![](./media/ab706faf61854a4bb27663a5cac4325c-1696815208797-50-1696822915911-184.png)

（3）Click“Mini Tank Robot V3”of “robot”to find and drag，![](./media/c55f0f5df7801ba70faa4168126d880a-1696822915911-195.png);

（4）Click“SerialPort”to find and drag![](./media/36812f244ceb4e3b789290aecde17332-1696815496316-155-1696822915911-186.png)

（5）Click“Mini Tank Robot V3”of “robot”to find and drag![img](./media/wps136.jpg)into![img](./media/wps137.jpg)中; click the little triangle to choose Left（if A1is connected then choose Right):

![](./media/8b0f1c9a6e0b323643a97fcbc09ffece-1696822915911-196.png);

（6）click“Math”to find and drag![img](./media/wps138.jpg) to the 0 behind value; copy![img](./media/wps139.jpg) of ![img](./media/wps140.jpg) and place it in front of from; change the 1 in front of “to”to 0,  100 to 1023；change the 1behind “to” to 0，1000 to 255;

![](./media/fa975a8b657dd075edebd62d5be2b3d5-1696822915911-198.png)

（7）Click “Control”to find and drag![](./media/b36d41f8c3f679d192b1f7a4045b2f50-1696829765205-1250.png)，and change delay in 1000ms to 50ms;

**Complete code：**

![](./media/6147751304163bbab4153140eb817e30-1696822915911-201.png)

![img](./media/wps144.png)

Upload code to the development board, then cove the photoresistor and observe the LED’s brightness.

## **Project 4: Line Tracking Sensor**

### (1) Description：

![](./media/d37c24e508361ab86b019135ab6950a9-1696824483882-1246.png)

The tracking sensor is actually an infrared sensor. The component used here is the TCRT5000 infrared tube.

Its working principle is to use different reflectivity of infrared light to colors, then convert the strength of the reflected signal into a current signal.

During the process of detection, black is active at HIGH level while white is active at LOW level. The detection height is 0-3 cm.

Keyestudio 3-channel line tracking module has integrated 3 sets of TCRT5000 infrared tube on a single board, which is more convenient for wiring and control.

By rotating the adjustable potentiometer on the sensor, it can adjust the detection sensitivity of the sensor.

### (2)Parameters：

Operating Voltage: 3.3-5V (DC)

Interface: 5PIN

Output Signal: Digital signal

Detection Height: 0-3 cm

Special note: before testing,rotate the potentiometer on the sensor to adjust the detection sensitivity. When adjust the LED at the threshold between ON and OFF, the sensitivity is the best.

### (3)Components Needed:

| Keyestudio V4.0 Development Board *1                         | L298P Motor Driver Shield                                    | Yellow LED Module*1                                          | 3P-3P XH2.54 to 2.54 Dupont Wire（Yellow-Red-Black)*1        |
| ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps145.jpg) | ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps146.jpg) | ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps147.jpg) | ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps148.jpg) |
| Tank Robot Chassis *1                                        | 5P JST-PH2.0MM Dupont Wire*1                                 | USB Cable*1                                                  |                                                              |
| ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps149.jpg) | ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps150.jpg) | ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps151.jpg) |                                                              |

<p style="color:red;">Note: the line tracking sensor is installed under the bottom of the robot.</p>

### (4)Connection Diagram：

![](/media/99fbd4f55c270c0a29ce284dbdf58c75.png)

### (5)Test Code：

The program will be generated if you find the following file and drag it into Mixly software.

| File Type | Route                                                        | File Name                         |
| --------- | ------------------------------------------------------------ | --------------------------------- |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_4\_Line Tracking Sensor | lesson\_4.1\_Line Tracking Sensor |
|           |                                                              |                                   |

You could edit code step by step as follows:

(1) Click“Variables”to find and drag![](./media/88e7b7401b4848dd5a179a42bf3c3510-1696822915911-204.png)and click”Math” to drag ![](./media/3be2c3159f1535aa7f5bb08c71329a4a-1696822915911-202.png);change item to L\_val、M\_val、R\_val and change “int”：![](./media/8b1fc74625ebc0232450c0aaf5e49eb3-1696822915911-203.png);

（2）Click“Serial”to find and drag![img](./media/wps152.jpg)into![img](./media/wps153.jpg);

![](./media/ab706faf61854a4bb27663a5cac4325c-1696815208797-50-1696822915911-184.png)

（3）Click“Variables”to find and drag![img](./media/wps159.jpg)、![img](./media/wps160.jpg)and![img](./media/wps161.jpg);click“Mini Tank Robot V3”of “Robot”to choose![img](./media/wps162.jpg);copy it twice; click the little triangle to select“center_tracking”and“right_tracking”respectively and place them into the corresponding variable:![img](./media/wps163.jpg);

（4）Click“SerialPort”to find and drag![](./media/b4102d16e92bebdecaf1c2f428d01539-1696822915911-210.png);

（5）Click“Variables”to find and drag![img](./media/wps171.jpg)、![img](./media/wps172.jpg)and![img](./media/wps173.jpg)into![img](./media/wps174.jpg);click“Text”to find![img](./media/wps175.jpg) and change “hello” to “  “(two spaces):![img](./media/wps176.jpg);use ![img](./media/wps177.jpg)for newline printing;

（6）Click “Control”to find and drag![](./media/b36d41f8c3f679d192b1f7a4045b2f50-1696829765205-1250.png) and change delay in 1000ms to 100ms.

**Complete code：**

![](./media/d9a544195d4c4ff0eeae1aaf8b774075-1696822915911-209.png)![img](./media/wps178.png)

### (6)Test Results：

Upload the code on development board, open serial monitor to check line tracking sensors. And the displayed value is 1(high level) when no signals are received. The value shifts into 0 when the sensor is covered with paper.

![](./media/f31ddfcfed9e4d9175cdb0c1f0c05bc9-1696822915911-211.png)

### (7)Extension Practice：

After knowing its working principle, you can connect an LED to D3 so as to control LED by line tracking sensor.

![](./media/7c12f5aea1113f8d0df322255388e5d4-1696830136959-1268.png)

The program will be generated if you find the following file and drag it into Mixly software.

| File Type | Route                                                        | File Name                         |
| --------- | ------------------------------------------------------------ | --------------------------------- |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_4\_Line Tracking Sensor | lesson\_4.2\_Line Tracking Sensor |
|           |                                                              |                                   |

You could edit code step by step as follows:

**Complete code：**

![](./media/50d6159b11cc9a8638164a7364aac0e2-1696822915911-213.png)

## **Project 5: Flame Sensor**

![](./media/7cf8c051f489b06119c262cd059c23c5-1696822915911-214.jpeg)

### (1)Description：

The flame sensor uses IR receiving tube to detect flames, converts the brightness of the flame into signals with high and low levels, input them into the central processor. The corresponding program processing. In both flames close to and without flames, the voltage value of the analog port is varied.

If there is no flame, the analog port is about 0.3V; when there is a flame, the analog port is 1.0V. The closer the flame is , the more the voltage value is. It can be used to detect the fire source or make a smart robot.

Note the probe of flame sensors only bears the temperature between -25 ℃ and ～85℃

In the process of use, pay attention to keep the flame sensor in certain distance to avoid getting damaged.

### (2)Parameters：

![](./media/e2c77a94067ccd3e634fb3674c02b80f-1696830216834-1270.png)

Working voltage: 3.3V-5V (DC)

Current: 100mA

Maximum power: 0.5W

Work temperature: -10 ° C to +50 degrees Celsius

Sensor size: 31.6mmx23.7mm

Interface: 4pin turn 3PIN interface

Output signal: analog signals A1, A2

### (3)Components Needed:

| Keyestudio V4.0 Development Board *1                         | L298P Motor Driver Shield                                    | Yellow LED Module*1                                          | 3P-3P XH2.54 to 2.54 Dupont Wire（Yellow-Red-Black)*1        |
| ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps179.jpg) | ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps180.jpg) | ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps181.jpg) | ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps182.jpg) |
| Flame Sensor*1                                               | 4P-3P XH2.54 to PH2.0  Dupont Wire（Yellow-Red-Black)        | USB Cable*1                                                  |                                                              |
| ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps183.jpg) | ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps184.jpg) | ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps185.jpg) |                                                              |

### (4)Connection Diagram：

![](./media/40930671badca28f9120fd80e47f3496-1696830289061-1272.png)

We can use two flame sensors to make a fire-distinguishing robot car. But in this experiment, we aim to read its analog value

### (5)Test Code：

The program will be generated if you find the following file and drag it into Mixly software.

| File Type | Route                                                    | File Name                 |
| --------- | -------------------------------------------------------- | ------------------------- |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_5\_Flame Sensor | lesson\_5.1\_Flame Sensor |
|           |                                                          |                           |

You could edit code step by step as follows:

（1）Click “Control”to find and drag![](./media/fd08de0f00082d1ce4c623e2c14f4acb-1696822915912-220.png);click”SerialPort” to drag![](./media/9a7541ac9f4df59d489fffd4e7458fc3-1696822915911-218.png)into

![](./media/34b1558af84785a4840769c374785778-1696822915912-219.png);

（2）Click the “Mini Tank Robot V3”of “robot” to drag![img](./media/wps186.jpg);click the little triangle of “Left” to select Left（if A1 is connected then select Right）;click“SerialPort”to find and drag![img](./media/wps187.jpg)and put![img](./media/wps188.jpg)into![img](./media/wps189.jpg);

（3）Click “Control”to find and drag![](./media/b36d41f8c3f679d192b1f7a4045b2f50-1696829765205-1250.png) and change delay in 1000ms to 100ms;

**Complete code：**

![](./media/07484236cd79875690edded68e236af5-1696822915912-224.png)![img](./media/wps190.png)

### (6)Test Results：

Wire up components, burn the code, open the serial monitor and set the baud rate to 9600.

You can view the simulation value of flame sensor.

The closer the flame, the smaller the simulation value.

Adjust the potentiometer on the module to maintain D1 at the critical point. When the sensor does not detect flame, the D1 will be off, but if the sensor detects flame, the D1 will be on.

![](./media/aab3ea75a36564c4aff04b13a913c0da-1696822915912-227.png)

### (7)Extension Practice:

Next, connect an LED to pin 3 and we can control it by a flame sensor, as shown below;

![](./media/3dcc4e980c7ff7418ea7eda1991a9bd2-1696830499555-1279.png)

The program will be generated if you find the following file and drag it into Mixly software.

| File Type | Route                                                     | File Name                  |
| --------- | --------------------------------------------------------- | -------------------------- |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_5\_ Flame Sensor | lesson\_5.2\_ Flame Sensor |
|           |                                                           |                            |

You could edit code step by step as follows:

![](./media/71e2d52e9da27d6a6bbee23e3395284c-1696822915912-225.png)

## **Project 6: Fan**

### (1) Description：

![](./media/4afc1c9720d36beba8adfac0ee22ff10-1696830536592-1281.png)

This fan module uses a HR1124S motor-controlling chip, a single-channel H-bridge driver chip containing a low-conductivity resistance PMOS and NMOS power tubes. The low-conducting resistance can ease the power consumption, contributing to the safe work of the chip for longer time.

In addition, its low standby current and low static working current makes itself apply to toys. We can control the rotation direction and speed of the fan by outputting IN + and IN- signals and PWM signals.

### (2)Parameters：

Working voltage: 5V

Current: 200mA

Maximum power: 2W

Work temperature: -10 ° C to +50 degrees Celsius

Size: 47.6mm \* 23.8mm

### (3)Components Needed:

| Keyestudio V4.0 Development Board *1                         | L298P Motor Driver Shield                                    | 130 Motor  *1                                                | 4P XH2.54 to PH2.0Dupont Wire（Green-Blue-Red-Black) *1      |
| ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps191.jpg) | ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps192.jpg) | ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps193.jpg) | ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps194.jpg) |
| Flame Sensor*1                                               | 4P-3P XH2.54 to PH2.0  Dupont Wire（Yellow-Red-Black)        | USB Cable*1                                                  | Tank Robot Chassis                                           |
| ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps195.jpg) | ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps196.jpg) | ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps197.jpg) | ![img](./media/wps198.jpg)                                   |


The fan module needs driving by large current; therefore, we install a battery holder.

### (4)Connection Diagram

![](./media/16d538040098004c0b4965c3a1e12c14-1696830625706-1284.png)

<p style="color:red;">The pin GND, VCC, IN+ and IN- of the fan module are connected to pin G, V, 12 and 13 of the shield.</p>

### (5)Test Code：

The program will be generated if you find the following file and drag it into Mixly software.

| File Type | Route                                           | File Name        |
| --------- | ----------------------------------------------- | ---------------- |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_6\_Fan | lesson\_6.1\_Fan |
|           |                                                 |                  |

You could edit code step by step as follows:

（1）Click the “Mini Tank Robot V3”of “robot”to drag![](./media/1a8a2ff3f06321b1c742bd2a43ad2d8f-1696822915912-231.png); copy it twice; click the little triangle
of”forward” to select stop![](./media/f88b1a6813307a4f6d2a7780c7141331-1696822915912-233.png) and back![](./media/d2fbf95114f1bb17ad1ee19b7648759c-1696822915912-232.png) respectively;

（2）Click “Control”to find and drag![](./media/b36d41f8c3f679d192b1f7a4045b2f50-1696829765205-1250.png) and change delay in 1000ms to 2000ms.

**Complete code：**

![](./media/8ad1c77984f344e2850c32e6314299ef-1696822915912-234.png)![img](./media/wps199.png)

### (4)Test Results：

Upload code, wire up components and plug in power. The small fan will turn clockwise for 2000ms, stop for 2000ms, and rotate anticlockwise for 2000ms.

### (5)Extension Practice:

We have understood the working principle of the flame sensor. Next, hook up a flame sensor to pin A0 as shown below. Then control the fan to blew out fire with the flame sensor.

![](./media/6481e392363896712bf854f06ab466ab-1696830818683-1287.png)

The program will be generated if you find the following file and drag it into Mixly software.

| File Type | Route                                           | File Name        |
| --------- | ----------------------------------------------- | ---------------- |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_6\_Fan | lesson\_6.2\_Fan |
|           |                                                 |                  |

You could edit code step by step as follows:

![](./media/c23c0a12af8845ef3c192d6575cc0348-1696822915912-239.png)![img](./media/wps200.png)

## **Project 7: Servo Control**

![](./media/ae51208a3f560ad6edefe370eb588c13-1696830840567-1290.png)

### (1)Description

Servo motor is a position control rotary actuator. It mainly consists of a housing, a circuit board, a core-less motor, a gear and a position sensor. Its working principle is that the servo receives the signal sent by MCU or receiver and produces a reference signal with a period of 20ms and width of 1.5ms, then compares the acquired DC bias voltage to the voltage of the potentiometer and obtain the voltage difference output.

In general, servo has three lines in brown, red and orange. The brown wire is grounded, the red one is a positive pole line and the orange one is a signal line.

![](./media/69be958142b773acdae33eeef12afed7-1696822915912-237.png)

The rotation angle of servo motor is controlled by regulating the duty cycle of PWM (Pulse-Width Modulation) signal. The standard cycle of PWM signal is 20ms (50Hz). Theoretically, the width is distributed between 1ms-2ms, but in fact, it's between 0.5ms-2.5ms. The width corresponds the rotation angle from 0° to 180°. But note that for different brand motors, the same signal may have different rotation angles. 

![](./media/49467dfa70799401a5a5acc691014aee-1696822915912-238.png)

The angle of the servo:

![](./media/ddc74f62dc936c925d28d70a1a9c2214-1696822915912-242.png)

### (2)Parameters：

Working voltage: DC 4.8V \~ 6V

Operating angle range: about 180 ° (at 500 → 2500 μsec)

Pulse width range: 500 → 2500 μsec

No-load speed: 0.12 ± 0.01 sec / 60 (DC 4.8V) 0.1 ± 0.01 sec / 60 (DC 6V)

No-load current: 200 ± 20mA (DC 4.8V) 220 ± 20mA (DC 6V)

Stopping torque: 1.3 ± 0.01kg · cm (DC 4.8V) 1.5 ± 0.1kg · cm (DC 6V)

Stop current: ≦ 850mA (DC 4.8V) ≦ 1000mA (DC 6V)

Standby current: 3 ± 1mA (DC 4.8V) 4 ± 1mA (DC 6V)

### (3) Components Needed:

| Keyestudio V4.0 Development Board *1                         | L298P Motor Driver Shield                                    | Yellow LED Module*1                                          | 3P-3P XH2.54 to 2.54 Dupont Wire（Yellow-Red-Black)*1        |
| ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps201.jpg) | ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps202.jpg) | ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps203.jpg) | ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps204.jpg) |
| HC-SR04 Ultrasonic Sensor*1                                  | 4P M-F PH2.0mm to 2.54 Dupont Wire                           | USB Cable*1                                                  | Tank Robot Chassis *1                                        |
| ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps205.jpg) | ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps206.jpg) | ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps207.jpg) | ![img](./media/wps208.jpg)                                   |

### (4) Connection Diagram：

![](./media/9aa3508d69cf0e26ea96f6975c64f2da-1696830891003-1292.png)

<p style="color:red">Note: The brown, red and orange wire of the servo are respectively attached to Gnd(G), 5v(V) and 10 of the shield. Remember to connect an external power because of the high current of the servo. If not, the development board will be burnt out.</p>

### (5)Test Code：

The program will be generated if you find the following file and drag it into Mixly software.

| File Type | Route                                                     | File Name                |
| --------- | --------------------------------------------------------- | ------------------------ |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_7\_Servo Control | lesson\_7\_Servo Control |
|           |                                                           |                          |

You could edit code step by step as follows:

（1）Click“Mini Tank Robot V3”of “robot”to find and drag![](./media/ff5251e97616ab6a0ed35968c4a09027-1696822915912-241.png); the number is the angle of the servo;

（2）Click![](./media/b6d2620bfc41e51a7a10a6a96195eb55-1696822915912-244.png) of “Control”to set the default time delay in 1000ms:

![](./media/c3cff3a84da44439d1ccecf63cf78218-1696830927553-1295.png) ;

（3）Copy ![](./media/c3cff3a84da44439d1ccecf63cf78218-1696830927553-1295.png) three times and change the 0 to 90,180 and 0 respectively;and others remain unchanged;

![](./media/6d671188a4cfdc802ff41ff4229e1bb4-1696822915912-246.png)

**Complete code：**

![](./media/6d671188a4cfdc802ff41ff4229e1bb4-1696822915912-246.png)

### (6)Test Results：

After uploading the test code and powering it up, the servo rotates to the angle of 90°,180° and 0° and repeats this pattern.



## **Project 8: Ultrasonic Sensor**

### (1)Description：

![](./media/0180b169a1c3b228394b43df704fac32-1696831052383-1297.png)



The HC-SR04 ultrasonic sensor uses sonar to determine distance to an object like bats do. It offers excellent non-contact range detection with high accuracy and stable readings in an easy-to-use package. It comes complete with ultrasonic transmitter and
receiver modules.

The HC-SR04 or the ultrasonic sensor is being used in a wide range of electronics projects for creating obstacle detection and distance measuring application as well as various other applications. Here we have brought the simple method to measure the distance with arduino and ultrasonic sensor and how to use ultrasonic sensor with arduino.

![](/media/9779999818cbbe4e1adf5b57081be431.png)

### (2) Specification

Power Supply :+5V DC

Quiescent Current : \<2mA

Working Current: 15mA

Effectual Angle: \<15°

Ranging Distance : 2cm – 400 cm

Resolution : 0.3 cm

Measuring Angle: 30 degree

Trigger Input Pulse width: 10uS

### (3) Components Needed:

| Keyestudio V4.0 Development Board *1                         | L298P Motor Driver Shield                                    | Yellow LED Module*1                                          | 3P-3P XH2.54 to 2.54 Dupont Wire（Yellow-Red-Black)*1        |
| ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps209.jpg) | ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps210.jpg) | ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps211.jpg) | ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps212.jpg) |
| HC-SR04 Ultrasonic Sensor*1                                  | 4P M-F PH2.0mm to 2.54 Dupont Wire                           | USB Cable*1                                                  | Tank Robot Chassis *1                                        |
| ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps213.jpg) | ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps214.jpg) | ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps215.jpg) | ![img](./media/wps216.jpg)                                   |

### (4) The principle of ultrasonic sensor

As the above picture shown, it is like two eyes. One is transmitting end, the other is receiving end.

The ultrasonic module will emit the ultrasonic waves after triggering a signal. When the ultrasonic waves encounter the object and are reflected back, the module outputs an echo signal, so it can determine the distance of the object from the time difference between the trigger signal and echo signal.

The t is the time that emitting signal meets obstacle and returns. And the propagation speed of sound in the air is about 343m/s, and distance = speed \* time. However, the ultrasonic wave emits and comes back, which is 2 times of distance. Therefore, it needs to be divided by 2, the distance measured by ultrasonic wave = (speed \* time)/2

1. Use method and timing chart of ultrasonic module:

2. Setting the delay time of Trig pin of SR04 to 10μs at least, which can trigger it to detect distance.

3. 2\. After triggering, the module will automatically send eight 40KHz ultrasonic pulses and detect whether there is a signal return. This step will be completed automatically by the module.

4. 3\. If the signal returns, the Echo pin will output a high level, and the duration of the high level is the time from the transmission of the ultrasonic wave to the return.

   ![image-20230614132943702](./media/image-20230614132943702-1696822915912-250.png)

Circuit diagram of ultrasonic sensor:

![](./media/b573604e96ca595da17452d9b126f2ba-1696831208535-1300.png)

4. **Connection Diagram：**

![](/media/a5bdd6bb9bbe9db82c93e9193cbac4cd.png)



<p style="color:red;">Note: The pin VCC, Trig, Echo and Gnd of the ultrasonic sensor are respectively connected to 5v(V), 12(S), 13(S) and Gnd(G) of the shield</p>

### (5)Test Code：

The program will be generated if you find the following file and drag it into Mixly software.

| File Type | Route                                                        | File Name                      |
| --------- | ------------------------------------------------------------ | ------------------------------ |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_8\_Ultrasonic Sensor | lesson\_8.1\_Ultrasonic Sensor |
|           |                                                              |                                |

You could edit code step by step as follows:

（1）Click “Control”to find and drag![](./media/3b9464e5c3dd4437bc5486d58cc9e039-1696815496316-152-1696822915911-183.png);

（2）Click“Serial”to find and drag![img](./media/wps217.jpg)into![img](./media/wps218.jpg);

![](./media/ab706faf61854a4bb27663a5cac4325c-1696815208797-50-1696822915911-184.png)

（3）Click“Variables”to find and drag![](./media/1ae07a66a021f66804a4db9141d3e6f5-1696822915912-252.png);click“Math”to find and drag![](./media/0171c9b9d68df2b854ebded805ca3371-1696831432690-1302.png) behind value; change item to distance 1 and distance 2 respectively:

![](./media/fe83943498fb36a4bf053c28dc5dee76-1696831436035-1304.png) ;

（4）Click“Variables”to find and drag![img](./media/wps219.jpg);click“Mini Tank Robot V3”of “robot”to find and drag![img](./media/wps220.jpg)into![img](./media/wps221.jpg) and others remain unchanged;

（5）Click“Variables”to find and drag![img](./media/wps222.jpg);click“Math”to find and drag![img](./media/wps223.jpg)into![img](./media/wps224.jpg); click “Variables”to find and drag![img](./media/wps225.jpg)into the 1 on the left of“+”; change the 1 on the right of“+”to 0.3937; and click the little triangle behind “+”to choose“×”:

![](./media/bff6099d44652493344f4c68a3f38340-1696831496588-1310.png);

（6）Click“SerialPort”to find and drag![img](./media/wps226.jpg); click "Variables" to find and drag ![img](./media/wps227.jpg)into![img](./media/wps228.jpg):

![](./media/61de2eb218f101a2676c4d6a1e5a76f1-1696832002524-1314.png);

（7）Click“SerialPort”to find and drag![img](./media/wps232.jpg); click“text”to find and drag![img](./media/wps233.jpg)into![img](./media/wps234.jpg); and change hello to cm:

![](./media/5d0c6b4e20431b366e96cb45eb5a06b6-1696832252811-1331.png);

（8）Copy ![](./media/f7b953fdc572454ef36907f95ac669ca-1696832257989-1333.png)once; change distance1 to distance2 and cm to in:

![](./media/fb1790fa1f3a51b7b1fb485493ab2035-1696832260536-1335.png);

（9）Click “Control”to find and drag![](./media/b36d41f8c3f679d192b1f7a4045b2f50-1696829765205-1250.png) and change delay in 1000ms to 100ms:

![](./media/759a9893d0b06257576a30fa5d97dc91-1696832288613-1337.png) ;

**Complete code：**

![](./media/fcc8da650985321069760da123a4046b-1696832300899-1339.png)![img](./media/wps235.png)

### (6)Test Results：

Upload test code on the development board, open serial monitor and set baud rate to 9600. The detected distance will be displayed, and the unit is cm and inch. Hinder the ultrasonic sensor by hand, the displayed distance value gets smaller.

![](./media/29c4fb91375ae77ada8d3f9b5f1bd3c3-1696832312484-1341.png)

### (7)Extension Practice:

We have just measured the distance displayed by the ultrasonic. How about controlling the LED with the measured distance? Let's try it and connect an LED light module to the D3 pin.

![](./media/71ffab35eef1e5c034fda3a4ec192e17-1696832322143-1343.png)

The program will be generated if you find the following file and drag it into Mixly software.

| File Type | Route                                                        | File Name                      |
| --------- | ------------------------------------------------------------ | ------------------------------ |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_8\_Ultrasonic Sensor | lesson\_8.2\_Ultrasonic Sensor |
|           |                                                              |                                |

You could edit code step by step as follows:

（1）Click “Control”to find and drag![](./media/3b9464e5c3dd4437bc5486d58cc9e039-1696815496316-152-1696822915911-183.png);

（2）Click“SerialPort”to find and drag![img](./media/wps236.jpg)into![img](./media/wps237.jpg):

![](./media/ab706faf61854a4bb27663a5cac4325c-1696815208797-50-1696822915911-184.png);

（3）Click“Variables”to find and drag![](./media/1ae07a66a021f66804a4db9141d3e6f5-1696822915912-252.png) twice into![](./media/3b9464e5c3dd4437bc5486d58cc9e039-1696815496316-152-1696822915911-183.png); click”Math”to find and drag![](./media/0171c9b9d68df2b854ebded805ca3371-1696831432690-1302.png) twice behind value; and change item to distance 1 and distance 2:

![](./media/57c14206426c33316cfee574abd253a8-1696832407352-1348.png) ;

（4）Click“Variables” to find and drag![img](./media/wps243.jpg); click“Mini Tank Robot V3”of “robot”to find and drag ![img](./media/wps244.jpg)into![img](./media/wps245.jpg):

​     ![img](./media/wps246.jpg);

（5）Click“Variables”to find and drag![img](./media/wps247.jpg); click“Math”to find and drag![img](./media/wps248.jpg)into![img](./media/wps249.jpg); click “Variables”to find and drag![img](./media/wps250.jpg) to the 1 on the left of +”; change the 1 on the right of “+” to 0.3937; and click the little triangle behind “+” to choose“×”:

​     ![img](./media/wps251.jpg);

（6）Click“SerialPort”to find and drag![img](./media/wps252.jpg);click "Variables"to find and drag![img](./media/wps253.jpg)into![img](./media/wps254.jpg):

​     ![img](./media/wps255.jpg);

（7）Click”Serial”to find and drag![img](./media/wps256.jpg); click”Text”to find and drag![img](./media/wps257.jpg)into![img](./media/wps258.jpg); and change hello to cm:

​     ![img](./media/wps259.jpg);

（8）Copy ![img](./media/wps261.jpg) once; change distance1 to distance2 and in to cm:

​     ![img](./media/wps262.jpg);

（9）Click “Control”to find and drag![img](./media/wps263.jpg) and change delay in 1000ms to 100ms:。

​     ![img](./media/wps264.jpg) ;

（10）（10）Click"Control" to find and drag![img](./media/wps265.jpg); click“logic”to find and drag![img](./media/wps266.jpg) behind the if of ![img](./media/wps267.jpg); click “logic”to find and drag ![img](./media/wps268.jpg) into the left of “and”; click”Variables”to find and drag ![img](./media/wps269.jpg) into the left of “=”; click”Math”to drag![img](./media/wps270.jpg) to the right of“=”; change the 0 to 2;click the little triangle behind “=”to select“≥”; copy![img](./media/wps271.jpg) once behind “and “;click the little triangle behind“≥” to choose“≤”，and change 2 to 10:

​     ![img](./media/wps272.jpg) ;

（11）Click“Mini Tank Robot V3”of “robot”to find and drag![img](./media/wps273.jpg) into do:

​    ![img](./media/wps274.jpg);

**Complete code：**

![](./media/306a611115058839a6958148cfc67267-1696832733439-1386.png)![img](./media/wps275.png)

Upload test code to development board, block ultrasonic

sensor by hand, and keep the distance between 2cm to 10cm, then check if LED is on

## **Project 9: IR Reception**

### (1)Description：

There is no doubt that infrared remote control is ubiquitous in daily life. It is used to control various household appliances, such as TVs, stereos, video recorders and satellite signal receivers. Infrared remote control is composed of infrared transmitting and infrared receiving systems, that is, an infrared remote control and infrared receiving module and a single-chip microcomputer capable of decoding.​    

The 38K infrared carrier signal emitted by remote controller is encoded by the encoding chip in the remote controller. It is composed of a section of pilot code, user code, user inverse code, data code, and data inverse code. The time interval of the pulse is used to distinguish whether it is a 0 or 1 signal and the encoding is made up of these 0, 1 signals.

The user code of the same remote control is unchanged while the data code can distinguish the key.

When the remote control button is pressed, the remote control sends out an infrared carrier signal. When the IR receiver receives the signal, the program will decode the carrier signal and determines which key is pressed. The MCU decodes the received 01 signal, thereby judging what key is pressed by the remote control.

Infrared receiver we use is an infrared receiver module. Mainly composed of an infrared receiver head, which is a device that integrates reception, amplification, and demodulation. Its internal IC has completed demodulation, and can achieve from infrared reception to output and be compatible with TTL signals. Additionally, it is suitable for infrared remote control and infrared data transmission. The infrared receiving module made by the receiver has only three pins, signal line, VCC and GND. It is very convenient to communicate with Arduino and other microcontrollers.

### (2)Parameters:

![image-20231009142753955](./media/image-20231009142753955.png)![](./media/3434d75335432418ecff2bd64df180bd-1696832847304-1389.png)

Operating Voltage: 3.3-5V（DC）

Interface: 3PIN

Output Signal: Digital signal

Receiving Angle: 90 degrees

Frequency: 38khz

Receiving Distance: 10m

### (3)Components Needed:

| Keyestudio V4.0 Development Board *1                         | L298P Motor Driver Shield*1                                  | Yellow LED Module*1                                          | 3P-3P XH2.54 to 2.54 Dupont Wire（Yellow-Red-Black)*1        |
| ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps276.jpg) | ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps277.jpg) | ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps278.jpg) | ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps279.jpg) |
| IR Receiver Module *1                                        | 3P-3P XH2.54 to PH2.0 Dupont Wire（Yellow-Red-Black)         | USB Cable                                                    | Tank Robot Chassis *1                                        |
| ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps280.jpg) | ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps281.jpg) | ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps282.jpg) | ![img](./media/wps283.jpg)                                   |

### (4)Connection Diagram：

![](./media/13872c10e2dc6889da0b4203785bd67a-1696832953458-1392.png)

<p style="color:red;">Note: the pin “-”,“+”and S of the IR receiver are respectively connected to pin G（GND）, V（VCC）and A2 of the sensor expansion board. On the condition that digital ports are not enough, the analog ports also can be served as digital ports. A0 is equal to the digital port 14, A1 means the digital port15.</p>

### (5)Test Code：

The program will be generated if you find the following file and drag it into Mixly software.

| File Type | Route                                                    | File Name                 |
| --------- | -------------------------------------------------------- | ------------------------- |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_9\_IR Reception | lesson\_9.1\_IR Reception |
|           |                                                          |                           |

You could edit code step by step as follows:

（1）Click “Control”to find and drag![](./media/3b9464e5c3dd4437bc5486d58cc9e039-1696815496316-152-1696822915911-183.png);

（2）Click“Serial”to find and drag![img](./media/wps284.jpg)into![img](./media/wps285.jpg):

![](./media/ab706faf61854a4bb27663a5cac4325c-1696815208797-50-1696822915911-184.png);

（3）Click“Mini Tank Robot V3”of “robot”to find and drag![img](./media/wps286.jpg);click ![img](./media/wps287.jpg) of “SerialPort” to choose default “hex”(represent for hexadecimal); click”Variables” to place ![img](./media/wps288.jpg) into ![img](./media/wps289.jpg):

​     ![img](./media/wps290.jpg).

Complete code：

![](./media/d08c6c0e1f16251380526483727e50bc-1696833095883-1411.png)![img](./media/wps291.png)

### (6)Test Results：

Upload test code, open serial monitor and set baud rate to 9600, point remote control to IR receiver. Then the corresponding value will be shown. If holding down keys for a while, the error codes will appear.

![](./media/724d48117b210f88fe40b9cde5748e0a-1696833112701-1414.png)

Below we have listed out each key value of keyestudio remote control. So you can keep it for reference.

> ![](./media/ebcf0cb2055f7784505f76ceeaef9f47-1696833116424-1416.jpeg)

### (7)Extension Practice:

We decoded the key value of IR remote control. How about controlling LED by the measured value? We could design an experiment.

Attach an LED to D3, then press the keys of remote control to make LED light on and off.

![](./media/d412834a77bbf58119e2e003f2227b4b-1696833129333-1418.png)

The program will be generated if you find the following file and drag it into Mixly software.

| File Type | Route                                                    | File Name                 |
| --------- | -------------------------------------------------------- | ------------------------- |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_9\_IR Reception | lesson\_9.2\_IR Reception |
|           |                                                          |                           |

You could edit code step by step as follows:

（1）Click “Control”to find and drag![](./media/3b9464e5c3dd4437bc5486d58cc9e039-1696815496316-152-1696822915911-183.png).

（2）Click“Serial”to find and drag![img](./media/wps292.jpg)into![img](./media/wps293.jpg):

![](./media/ab706faf61854a4bb27663a5cac4325c-1696815208797-50-1696822915911-184.png);

（3）Click“Mini Tank Robot V3”of “robot”to find and drag![](./media/84156aad87cea8f3a756f6e73a2c2a2c-1696833170726-1422.png) and choose the default “hex”;

（4）Click“Variables”to find and drag![img](./media/wps294.jpg)into![img](./media/wps295.jpg);click “Math”to find and drag![img](./media/wps296.jpg) behind value; and change item to a:

​      ![img](./media/wps297.jpg);

（5）Click “Control”to find ![img](./media/wps298.jpg);click![img](./media/wps299.jpg); drag ![img](./media/wps300.jpg) into![img](./media/wps301.jpg) to get ![img](./media/wps302.jpg); click“Ligic”to find and drag![img](./media/wps303.jpg) behind if; click “Logic” to drag ![img](./media/wps304.jpg) to the left side of and; click“Variables”to find and drag ![img](./media/wps305.jpg) to the left side of “=”; click “Math ”to drag ![img](./media/wps306.jpg) to the right side of“=”; change the 0 to 0xFF02FD;copy![img](./media/wps307.jpg)once and place it behind “and” ; and change ir_rec to a，and 0xFF02FD to 0:

​     ![img](./media/wps308.jpg);

（6）Click“Minit Tank Robot V3”of “robot”to find and drag![](./media/2436687ad49ba160546511c1fa8572b3-1696833234968-1439.png)into the first do of
![](./media/3741b8db1f2fc112ed6b4141672db7a1-1696833237395-1441.png):

> ![](./media/405e0052eed4f213bab414a7580b9590-1696833240440-1443.png)

（7）Click "Variables"to find and drag![img](./media/wps309.jpg) into the first “do”; click "math"，to find and drag![img](./media/wps310.jpg)into![img](./media/wps311.jpg); change the 0 to 1:

![](./media/ad277ed8a4e223d6b0b71503dbc1a893-1696833259057-1448.png)

（8）Copy![](./media/5e562d1fc59668d8ebc7df62f9495caa-1696833261917-1450.png) once and place it behind else if ; change the 0 behind a to 1;and others remain unchanged;

![](./media/88d8b2b63231bbfbc23edff39fdb77bb-1696833273511-1452.png)

（9）Copy ![](./media/a111648ee5db22b631d01564d685b9b7-1696833275838-1454.png) once and place it into the second “do”;click the little triangle behind “HIGH”to choose “LOW”and change the 1 to 0; ![](./media/cfea0cf22d095860c512b5cb6c8c9cc7-1696833279513-1456.png)

**Complete code：**

![](./media/57d25979bd568405f97eef6ff59ee765-1696833287038-1458.png)![img](./media/wps312.png)

Upload code to development board, press the“OK”key on remote control to make LED on and off.

## **Project 10: Bluetooth Remote Control**

![](./media/aa5546baeb5afe1adfe9fff51f497fe8-1696833312939-1461.png)

### (1)Description：

 Bluetooth, a simple wireless communication module most popular since the last few decades and easy to use are being used in most of the battery-powered devices.

Over the years, there have been many upgrades of Bluetooth standard to keep fulfil the demand of customers and technology according to the need of time and situation.

Over the few years, there are many things changed including data transmission rate, power consumption with wearable and IoT Devices and Security System.

Here we are going to learn about HM-10 BLE 4.0 with Arduino Board. The HM-10 is a readily available Bluetooth 4.0 module. This module is used for establishing wireless data communication. The module is designed by using the Texas Instruments CC2540 or CC2541 Bluetooth low energy (BLE) System on Chip (SoC).

### (2)Parameters：

Bluetooth protocol: Bluetooth Specification V4.0 BLE

No byte limit in serial port Transceiving

In open environment, realize 100m ultra-distance communication with iphone4s

Working frequency: 2.4GHz ISM band

Modulation method: GFSK(Gaussian Frequency Shift Keying)

Transmission power: -23dbm, -6dbm, 0dbm, 6dbm, can be modified by AT command.

Sensitivity: ≤-84dBm at 0.1% BER

Transmission rate: Asynchronous: 6K bytes ; Synchronous: 6k Bytes

Security feature: Authentication and encryption

Supporting service: Central & Peripheral UUID FFE0, FFE1

Power consumption: Auto sleep mode, stand by current 400uA\~800uA, 8.5mA during transmission.

Power supply: 5V DC

Working temperature: –5 to +65 Centigrade

### (3)Components Needed：

| Keyestudio V4.0 Development Board *1                         | Keyestudio L298P Motor Driver Shield                         | Yellow LED Module*1                                          | 3P-3P XH2.54 to 2.54 Dupont Wire（Yellow-Red-Black)          |
| ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps313.jpg) | ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps314.jpg) | ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps315.jpg) | ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps316.jpg) |
| Keyestudio HM-10 BT-4.0 Module*1                             | USB Cable*1                                                  |                                                              |                                                              |
| ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps317.jpg) | ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps318.jpg) |                                                              |                                                              |

### (4)Connection Diagram：

1\. STATE: state test pins, connected to internal LED, generally keep it unconnected.

2\. RXD: serial interface, receiving terminal.

3\. TXD: serial interface, transmitting terminal.

4\. GND: Ground.

5\. VCC: positive pole of the power source.

6\. EN/BRK: break connect, it means breaking the Bluetooth connection, generally, keep it unconnected.

![](./media/5fad63a7f6b9cacc9fcf71cbf83c58f3-1696833403078-1463.png)

### (5)Test Code：

The program will be generated if you find the following file and drag it into Mixly software.

| File type | Route                                                        | File Name                              |
| --------- | ------------------------------------------------------------ | -------------------------------------- |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_10\_Bluetooth Remote Control | lesson\_10.1\_Bluetooth Remote Control |
|           |                                                              |                                        |

You could edit code step by step as follows:

1. Click “Control”to get block![](./media/3b9464e5c3dd4437bc5486d58cc9e039-1696815496316-152-1696822915911-183.png)

2. (1) Enter “Serial Port”to move block![img](./media/wps319.jpg)into![img](./media/wps320.jpg)

     ![img](./media/wps321.jpg)+ ![img](./media/wps322.jpg)= ![img](./media/wps323.jpg)


3. Click“Mini Tank Robot V3”of “robot”to find and drag
   ![](./media/39f4c270c16f53091907abd97f0900a7-1696833447941-1470.png).

4. Click “SerialPort” to find and drag ![img](./media/wps324.jpg) into do; click”Variables”to find and drag![img](./media/wps325.jpg)into ![img](./media/wps326.jpg); put this combination![img](./media/wps327.jpg)into ![img](./media/wps328.jpg)to have ![img](./media/wps329.jpg).

Complete code:

![](./media/29742d238c0dac1fb638a4250ff0ef70-1696833533350-7.png)![img](./media/wps330.png)



<p style="color:red;font-size:25px">(Note: Do not connect the Bluetooth module before uploading the code, because the uploading of the code also uses serial communication, and there may be conflicts with the serial communication of the Bluetooth, which can cause the uploading of the code to fail.)</p>

Upload the code to the development board, then plug in the Bluetooth module, and then wait for the instructions from the mobile phone.

### (6)Download Bluetooth APP:D

The above code is for reading the signals received by the serial port. Then a device used to send out signals is required. In this project, this device is a smart phone. The phone transmits signals and the Bluetooth receives these signals and prints them on the serial port of the development board. And we also need to download an App on our phones.

 **1. Download instructions for Apple system:**

Go to APP STORE→search for BLE Scanner 4.0→download it to your phone.

![](/media/e836eea937bddabb291c2cb6f711ca10.png)

**2. Download instructions for Android system:**

Go to Google Play→search for BLE Scanner 4.0→download it to your phone.

![](/media/cf5e6cd8b98346d3e90faf4a10e92dc1.png)

After the installation is complete, open the app and enable the "Location and Bluetooth" permission

The usage of this App is almost the same for Apple system and Android system. And here we intend to take Apple system as an example to explain how to use it properly.

Scan for Bluetooth devices and the name of Bluetooth BLE 4.0 is HMSoft which does not have a pairing password. Therefore, click connect to connect to HMSoft and then you can start using it.

![](./media/cc2ad4236eb001676ae447e8033edd2f-1696833708147-10.png)

After the pairing, click it, and you will get many options, such as device information, general access rights, general attributes, custom services and others. Among all these options, select "Customize Service".

![](/media/af36b3e8e815a539c07c18738ee5366f.png)

Then the following page pops up.

![](./media/f74e64f9f29e0813db44971d2896d7f2-1696833730809-12.png)

Click words（Read,Notify,WriteWithoutResponse) in blue to enter the following page.

![](/media/c769ffa7b68eb36516a429147d5f65b6.png)

Tap Write Value and the page HEX or Tex appears as shown in the figure below.

![](./media/767ed0b7d1876e63ff109d8a355209ac-1696833757556-14.png)



Open the serial port monitor of Arduino and input a 0 or other character.

![](./media/767ed0b7d1876e63ff109d8a355209ac-1696833776748-16.png)

Click Write and open serial port monitor to confirm whether it the signal 0 or other character is received.

![](/media/5254b35b30451fc6dbf7de998cf5e16b.png)



### (7)Extension Practice:

In the above project, we have explained that the Bluetooth receives the signal sent by the mobile phone and displayed it on the serial port of the development board. Now let’s think about a question that can we use the received signal to do something else? The answer is positive. Here we plans to use the command sent by the mobile phone to turn on or off an LED. From the wiring diagram, we can find that an LED is connected to pin D3.

![](/media/46adc3fdd061772e09a977db42b7e5d8.png)

The program will be generated if you find the following file and drag it into Mixly software.

The program will be generated if you find the following file and drag it into Mixly software.

| File type | Route                                                        | File Name                              |
| --------- | ------------------------------------------------------------ | -------------------------------------- |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_10\_Bluetooth Remote Control | lesson\_10.2\_Bluetooth Remote Control |
|           |                                                              |                                        |

You could edit code step by step as follows:

（1）Click“Control” to get block![](./media/3b9464e5c3dd4437bc5486d58cc9e039-1696815496316-152-1696822915911-183.png)

（2）(1) Enter“Serial Port”to move block![img](./media/wps331.jpg)into![img](./media/wps332.jpg)

![](./media/ab706faf61854a4bb27663a5cac4325c-1696815208797-50-1696822915911-184.png)

（3）Click“Mini Tank Robot V3”of “robot” to find and drag
![](./media/39f4c270c16f53091907abd97f0900a7-1696833447941-1470.png).

（4）Click“Control”to find and frag![](/media/2ca74f70e4001ad5a00d135a596025ab.png); then click“Logic”to find and drag![](/media/a4c954b2483cfdf0130916768d69f56e.png)to if;click“Variables”to find and frag ![](/media/1b8a2f05a937fb4d7a4c14b4874086b6.png)onto the left side of“=”;Click“Text”to find and drag ![](/media/a3e5bd1b881a89edee91f44d22ff0640.png)onto the right side of“=”and change the a into 1; ![](/media/de9d823986c9dfe4af343575ab81612c.png)

（5）Click“Mini Tank Robot V3t”of “robot” to find and drag![](/media/14c16d7218c953caffc9bd0399360408.png)into do;

![](/media/2f98de481ebd3afe16bc6032db0a9d12.png)

（6）Copy![](/media/53a5ad7e8d90f73bff7a05ed2c95ef00.png) once and place it into the second do;and change the DATA RECEIVED into led on。

![](/media/c8b7eedf849e088d9244477592e44f57.png)

（7）Copy ![](/media/41c084fd0bff495d332024cc3ad216f5.png)once and place it into the first do and change 1 into 0; click the little triangle of “high” to choose”low”; change led on into led off。

![](/media/df3a35a754c608137d00ca3ba39a7f10.png)

**Complete code:**

![](./media/29f8761684fe51d5ac8b2797f15f199e-1696833929319-20.png)![img](./media/wps333.png)

![](./media/767ed0b7d1876e63ff109d8a355209ac-1696833938869-23.png)

Click “Write” on APP, when you enter 1, LED will be on, when you input 0, LED will be off. (Remember to remove the Bluetooth module after finishing experiment, otherwise, burning code will be affected)



## **Project 11: Motor Driving and Speed Control**

### (1)Description:

There are many ways to drive motors. Our smart car uses the most common solution called L298P. L298P, produced by STMicroelectronics, is an excellent driving chip specially designed for driving high-power motors. It can directly drive DC motors, two-phase and four-phase motors with the driving current reaching 2A. And the motor’s output terminal adopts 8 high-speed Schottky diodes as protection. We have designed an expansion board based on the L298P circuit of which the laminated design can be directly plugged into the UNO R3 board for use reducing the technical difficulties for users in using and driving the motor.

Stack the expansion board on the board, power the BAT , turn the DIP switch to the ON end, and power the expansion board and the UNO R3 board at the same time via external power supply. In order to facilitate wiring, the expansion board is equipped with anti-reverse interface (PH2.0 -2P -3P -4P -5P) and thus it can be directly plug with motors, power supply, and sensors /modules. 

The Bluetooth interface of the drive expansion board is fully compatible with the Keyestudio HM-10 Bluetooth module. Therefore, we only need to insert the HM-10 Bluetooth module into the corresponding interface when connecting. At the same time, the drive extension board also uses 2.54 pin headers to extend out some available digital ports and analog ports, so that you can continue to add other sensors and carry out expansion experiments.

The expansion board can be connected to 4 DC motors. In the default jumper cap connection mode, the A and A1, B and B1 interface motors are connected in parallel, and their motion pattern is the same. 8 jumper caps can be used to control the rotation direction of the 4 motor interfaces. For example, when the two jumper caps in front of the motor A interface are changed from a horizontal connection to a vertical connection, the rotation direction of the motor A now is opposite to the
original rotation direction.

### （2）Circuit

![](/media/6c3731f639e113c8f32fe1829f239898.png)

### (3)Specifications:

1.Logic part input voltage: DC 5V

2.Driving part input voltage: DC 7-12V

3.Logic part working current: ≤36mA

4.Driving part working current: ≤ 2A

5.Maximum dissipation power: 25W (T=75℃)

6.Control signal input level:

​	High level: 2.3V ≤ Vin ≤ 5V

​	Low level: 0V ≤ Vin ≤ 1.5V

7.Working temperature: -25℃～＋130℃

### (4)Drive the robot to move

From the circuit above, it is known that for motor A D4 is its direction pin and D5 the speed pin while for motor B D2 is its direction pin and D8 the speed pin.

According to the table below, we can know how to control the movement of the robot by controlling the rotation of two motors through the digital ports and PWM ports . Among them, the range of PWM value is 0-255. The larger the value is, the faster the motor rotates.

| Movements    | D4 D5 | (PWM) | Motor(on the left)   | D2   | D9(PWM) | Motor(on the right)  |
| ------------ | ----- | ----- | -------------------- | ---- | ------- | -------------------- |
| Move Forward | LOW   | 200   | Rotate Clockwise     | LOW  | 200     | Rotate Clockwise     |
| Step Back    | HIGH  | 200   | Rotate Anticlockwise | HIGH | 200     | Rotate Anticlockwise |
| Rotate Right | HIGH  | 200   | Rotate Anticlockwise | LOW  | 200     | Rotate Clockwise     |
| Rotate Right | LOW   | 200   | Rotate Clockwise     | HIGH | 200     | Rotate Anticlockwise |
| Stop         | /     | 0     | Stop                 | /    | 0       | Stop                 |
|              |       |       |                      |      |         |                      |

### (5)Components Needed:

| Keyestudio V4.0 Development Board *1                         | Keyestudio L298P Motor Driver Shield                         | Tank Robot Chassis                                           | USB Cable*1                |
| ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ | -------------------------- |
| ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps334.jpg) | ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps335.jpg) | ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps336.jpg) | ![img](./media/wps337.jpg) |

### (6)Connection Diagram:

![](/media/240537c0722089b5846b312dd9708ff9.png)

<p style="color:red;">Note:There is a silk screen 1234 on the front of the 4pin connector. One of the two motors should be connected with pin A (marked as the right one)and the other with pin B(marked as the left one).</p>

### (7)Test Code

The program will be generated if you find the following file and drag it into Mixly software.

| File type | Route                                                        | File Name                                     |
| --------- | ------------------------------------------------------------ | --------------------------------------------- |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_11\_Motor Driving and Speed Control | lesson\_11.1\_Motor Driving and Speed Control |
|           |                                                              |                                               |

You could edit code step by step as follows:

（1）Click the“Mini Tank Robot V3”of “robot”to find and drag![](/media/b979775dd54a7b029c5519074df8a0ea.png);change the 255 to 200![](/media/d1ea5b1275fcc1377087334361438cd0.png).

（2）Copy![](/media/d1ea5b1275fcc1377087334361438cd0.png)，and change the Left to Right![](/media/862ef5ec192bc07d5a610e2965793754.png).

（3）Click“Control”to find and drag ![](./media/b36d41f8c3f679d192b1f7a4045b2f50-1696829765205-1250.png); change delay in 1000 ms to 2000 ms![](/media/5f5c5a4565a150d617982b4bd3c153c0.png).

（4）Copy![](/media/5f5c5a4565a150d617982b4bd3c153c0.png)once and change the Left and the“forward”of Right to“back”; others remain unchanged.

![](/media/e91732834f0155f2054ce0b0d52b8b65.png)

（5）Copy![](/media/5f5c5a4565a150d617982b4bd3c153c0.png)once; change the“forward”of Left to“back”and others remain unchanged.

![](/media/a6567be04b18679f3358460976d358e3.png)

（6）Copy ![](/media/5f5c5a4565a150d617982b4bd3c153c0.png)once;changethe “forward”of Right to“back”and others remain unchanged.

![](/media/baa07651b4f6bebe3703abecf5433998.png)

（7）Click“Mini Tank Robot V3”of“robot”to find and drag![](/media/b0972cf7dfcde65c9017efbc076a43f1.png);click“Control”to find and drag![](./media/b36d41f8c3f679d192b1f7a4045b2f50-1696829765205-1250.png);change delay in 1000ms to 2000ms![](/media/140554eb8ffd6047de7474c6b36d9b02.png).

**Complete code:**

![](./media/178f8f8b7bdf83e8de030b10fe7d1585-1696834945919-26.png)![img](./media/wps338.png)

### (8)Test Results:

After wiring according to the diagram, uploading the test code and powering it up, the smart car moves forward for 2s, steps back for 2s, turns left for 2s, turns right for 2s and stops for 2s and repeats this sequence.

### (9)Extension Practice:

The program will be generated if you find the following file and drag it into Mixly software.

| File type | Route                                                        | File Name                                     |
| --------- | ------------------------------------------------------------ | --------------------------------------------- |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_11\_Motor Driving and Speed Control | lesson\_11.2\_Motor Driving and Speed Control |
|           |                                                              |                                               |

You could edit code step by step as follows:

（1）Click“Mini Tank Robot V3”of “robot”to drag and find![](/media/b979775dd54a7b029c5519074df8a0ea.png);change the 255 into 100![](/media/b1fdcd371d5b63044ef8b3a1af80e20f.png).

（2）Copy![](/media/b1fdcd371d5b63044ef8b3a1af80e20f.png)and change the Left into Right![](/media/6b141ae555f19f06dfe65d24c2ddcd02.png).

（3）Click“Control”to find and drag![](./media/b36d41f8c3f679d192b1f7a4045b2f50-1696829765205-1250.png) and change time delay in 1000ms to 2000ms![](/media/fea65f2259edcf4b40bf72362024eac9.png).

（4）Copy![](/media/fea65f2259edcf4b40bf72362024eac9.png)once and change the Left and the“forward”of Right to“back”and others remain unchanged.

![](/media/aa17837fa556ec1b850c6f4d477cd871.png)

（5）Copy![](/media/fea65f2259edcf4b40bf72362024eac9.png)once and change the“forward”of Left to“back”others remain unchanged. ![](/media/a6567be04b18679f3358460976d358e3.png)

（6）Copy![](/media/fea65f2259edcf4b40bf72362024eac9.png)once and change the “forward”of Right to“back””and others remain unchanged.

![](/media/85aebcb7bd85220691cb0cad3e9e8eca.png)

（7）Click“Mini Tank Robot V3”of “robot” to find and drag![img](./media/wps339.jpg);click“Control”to find and frag![img](./media/wps340.jpg);change delay in 1000ms to 2000ms![img](./media/wps341.jpg).

**Complete code:**

![](./media/13869ff2d3bbe5739448f5a245ed17c3-1696835055340-32.png)![img](./media/wps342.png)

## **Project 12: 8x16 Facial Expression LED Dot Matrix**

### (1)Description:

![](./media/2c6708cb4d9bb775c0b6001b47ad0392-1696835071418-35.jpeg)

If we add a 8\*16 LED board to the robot, it will be amazing. Keyestudio's 8\*16 dot matrix can meet your requirements. You can create facial emoticons, patterns or other interesting displays yourself. 8\*16 LED light board comes with 128 LEDs. The data of the microprocessor (arduino) communicates with the AiP1640 through the two-wire bus interface, so as to control the 128 LEDs on the module, which produce the patterns you need on dot matrix. To facilitate wiring, we also provide a HX-2.54 4Pin wiring.

### (2)Parameters：

Working voltage: DC 3.3-5V

Power loss: 400mW

Oscillation frequency: 450KHz

Drive current: 200mA

Working temperature: -40\~80℃

Communication method: two-wire bus

### (3)Components Needed:



### (4)About the 8x16 Dot Matrix

**Circuit of the 8\*16 LED dot matrix**

![](/media/edf6c77d05904eebbaa89d557e9e9c1a.png)

**Principle of the 8\*16 LED dot matrix**

How to control each LED of the 8\*16 dot matrix? It is known that each byte has 8 bits and each bit is 0 or 1. when it is 0, LED is off while when it is 1 LED is on. One byte can control one column of the LED,and naturally 16 bytes can control 16 columns of LEDs, that’s the 8\*16 dot matrix.

**Pins description and communication protocol**

The data of the microprocessor (Arduino) communicates with the AiP1640 through a two-wire bus cable.

The communication protocol diagram is as follows (SCLK) is SCL, (DIN) is SDA

![](/media/ea2bab37f23c09453c680590b84653d6.png)

①The starting condition for data input: SCL is high level and SDA changes from high to low.

②For data command setting, there are methods as shown in the figure below

In our sample program, select the way to **add 1 to the address automatically**, the binary value is 0100 0000 and the corresponding hexadecimal value is 0x40

![image-20230614133150541](media/image-20230614133150541.png)

③For address command setting, the address can be selected as shown below.

The first 00H is selected in our sample program, and the binary number 1100 0000 corresponds to the hexadecimal 0xc0.

![image-20230614133226743](media/image-20230614133226743.png)

④The requirement for data input is that when SCL is at high level when inputting data, the signal on SDA must remain unchanged. Only when the clock signal on SCL is at low level, can the signal on SDA be changed. The input of data is the low bit first, and the high bit later.

⑤The condition for the end of data transmission is that when SCL is at low level, SDA at low level and SCL at high level, the level of SDA becomes high.

⑥Display control, set different pulse width, pulse width can be selected as shown in the figure below

In the example, the pulse width is 4/16, and the hexadecimal corresponding to 1000 1010 is 0x8A

![](media/image-20230614133248217.png)

Instructions for the use of modulus tool

The dot matrix tool uses the online version, and the link is : [http://dotmatrixtool.com/](http://dotmatrixtool.com/)

①Enter the link and the page appears as shown below

![](/media/354693b5679a2615c62e99b7025d6355.png)

②The dot matrix is 8\*16, so adjust the height to 8 and width to 16, as shown in the figure below

![](/media/5f0278d66ade370e871b447d360d6e7b.png)

③Generate hexadecimal data from the pattern

As shown in the figure below, press the left mouse button to select, right click to cancel; draw the pattern you want, click Generate, and the hexadecimal data we need will be generated.

![](/media/586e88bf13c61b0918046437ed7f6796.png)

### (5)Connection Diagram:

![](/media/dda0ca74f11653a0c7d59e89dcc638ea.png)

The GND, VCC, SDA, and SCL of the 8x16 LED light board are respectively connected to the keyestudio sensor expansion board-(GND), + (VCC), A4, A5 for two-wire serial communication.

<p style="color:red;">(Note: though it is connected with the IIC pin of Arduino, this module is not for IIC communication. And the IO port here is to simulate I2C communication and can be connected with any two pins )</p>

### (6) Test Code

The program will be generated if you find the following file and drag it into Mixly software.

| File Type | Route                                                        | File Name                                           |
| --------- | ------------------------------------------------------------ | --------------------------------------------------- |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_8x16 Facial Expression LED Dot Matrix | lesson\_12.1\_8x16 Facial Expression LED Dot Matrix |
|           |                                                              |                                                     |

You could edit code step by step as follows:

1.  Click“Control”to find and drag ![](./media/3b9464e5c3dd4437bc5486d58cc9e039-1696815496316-152-1696822915911-183.png);

2.  （1）Click“Mini Tank Robot V3”of “robot”to find and drag![img](./media/wps343.jpg)into ![img](./media/wps344.jpg);
    
    ![](/media/df218043e03d9c9fa10e523121ded2de.png)
    
3.  Click“Mini Tank Robot V3”of “robot”to find and drag![](/media/82e6e82eaad07bb740b6915c10c60ec7.png);lick the little triangle behind“↑”to select“![](/media/97215168f939260e175fbbb0e347f0bc.png)”;
    
    ![](/media/23f1b85d639628b01f6063cbd7fff4e4.png)

Complete code:

![](./media/1fd1eeac35cdac6980e7c0d5e5152f3b-1696835425463-39.png)![img](./media/wps345.png)

### (7 )Test Results:

After uploading the test code successfully, connecting according to the wiring diagram, dialing the DIP switch to the right end and powering it on, a smile-shaped pattern shows on the dot matrix.

![](/media/0fd4831db288e04e75828346ea66a3f5.png)

### （8）Extension Practice:

We use the module tool we just learned, http:/dotmatrixtool.com/\#, to make the dot matrix display the pattern start , going forward, and stop and then clear the pattern. The time interval is 2000 ms.

![image-20231009151121159](./media/image-20231009151121159.png)![image-20231009151127295](./media/image-20231009151127295.png)![image-20231009151134880](./media/image-20231009151134880.png)

   

Code obtained from the module tool：

The command block for starting：

![](/media/a1a035a99a1a21a8d95a3db6100a026d.png)

The command block for moving forward：![](/media/ae729b7a53f18024eb02ad5c94a8aa7a.png)

The command block for stepping back：

![](/media/784ddc73c12e819d69a6c84019215c42.png)

The command block for turning left：

![](/media/548a4f105f9d4bff392ca999c4942033.png)

The command block for turning right：

![](/media/e82bc58855c80cfbefcc77f9b66aebe1.png)

The command block for stopping：

![](/media/318b9e4fb8e1d46e93e23c53eff47319.png)

The command block for clearing screen：![](/media/56d466c89e53a38332cec4d755d451bd.png)

The program will be generated if you find the following file and drag it into Mixly software.

| File Type | Route                                                        | File Name                                           |
| --------- | ------------------------------------------------------------ | --------------------------------------------------- |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_12\_8x16 Facial Expression LED Dot Matrix | lesson\_12.2\_8x16 Facial Expression LED Dot Matrix |
|           |                                                              |                                                     |

You could edit code step by step as follows:

（1）Click“Control”to find and drag ![](./media/3b9464e5c3dd4437bc5486d58cc9e039-1696815496316-152-1696822915911-183.png);

( 2）Click“Mini Tank Robot V3”of “robot”to find and drag![img](./media/wps346.jpg)into ![img](./media/wps347.jpg);

![](/media/df218043e03d9c9fa10e523121ded2de.png)

（3）Click“Mini Tank Robot V3”of “robot”to find and drag![](/media/82e6e82eaad07bb740b6915c10c60ec7.png);click the little triangle behind“↑”to select“V”;

![](/media/984cba99fe549c9250c3499fe0351ab8.png)

（4）Click “Control”to find and drag![](./media/b36d41f8c3f679d192b1f7a4045b2f50-1696829765205-1250.png)，change the delayed time 1000ms to 2000ms.

![](/media/73898405aaaf91027903c7041132ac36.png)

（5）copy the code string for![](/media/73898405aaaf91027903c7041132ac36.png)3 times，click“V”, “↑”、“STOP” and “clear”.

![](/media/c12d191481185a9cad774c0323a184a6.png)

**Complete code：**

![](./media/9fb560e6db19e980ee42c9a395d941f6-1696835574980-44.png)![img](./media/wps348.png)

After uploading test code,the facial expression board shows these patterns orderly and repeats this sequence.

![image-20231009151312033](./media/image-20231009151312033.png)![image-20231009151317134](./media/image-20231009151317134.png)![image-20231009151322758](./media/image-20231009151322758.png)

## **Project 13: Light-following Tank**

![](./media/ecf3b259b6bce18922959388dc4a8466-1696835612617-47.jpeg)

### **(1)Description**:****

In previous projects, we introduced in detail the use of various sensors, modules, and expansion boards on the smart car. Now let’s move to the projects of the smart car . The light-following smart cars, as the name suggests, is a smart car that can follow the light.

We can combine the knowledge from projects photoresistor and motor drive to make a light-seeking smart car. In the project, we use two photoresistor modules to detect the light intensity on the left and right sides of the smart car, read the corresponding analog values, and then control the rotation of the two motors based on these two data so as,to control the movements of the smart car.

The specific logic of the light-following smart car is shown as below.

![image-20231009151438512](./media/image-20231009151438512.png)

### (2)Flow chart

![image-20231009151538135](./media/image-20231009151538135.png)

### (3)Connection Diagram:

![](/media/210342dc6ecc994c26f2a1bca0df58b1.png)

<p style=color:red;>Note: The "-", "+" and S pins of the photoresistor module on the left are connected to G (GND), V (VCC), A0 respectively;</p>

<p style="color:red;">the "-", "+" and S pins of the photoresistor module on the right are connected to the G (GND), V (VCC), and A1 respectively.</p>

<p style="color:red;">There is a silk screen 1234 on the front of the 4pin cable. The rear right motor is connected to A and the front left motor is connected to B.</p>

### (4)Test Code

The program will be generated if you find the following file and drag it into Mixly software.

| File Type | Route                                                        | File Name                        |
| --------- | ------------------------------------------------------------ | -------------------------------- |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_13\_Light-following Tank | lesson\_13\_Light-following Tank |
|           |                                                              |                                  |

（1）Click“Control”to find and drag ![](./media/3b9464e5c3dd4437bc5486d58cc9e039-1696815496316-152-1696822915911-183.png);

（2）Click”Serial”to find and drag![img](./media/wps349.jpg)into![img](./media/wps350.jpg);

![](./media/ab706faf61854a4bb27663a5cac4325c-1696815208797-50-1696822915911-184.png)

（3）Click”Variable”to find and drag![img](./media/wps351.jpg)into![img](./media/wps352.jpg);click”Math”to find and drag![img](./media/wps353.jpg)into![img](./media/wps354.jpg);copy![img](./media/wps355.jpg)once and place it into ![img](./media/wps356.jpg); change”item”to left_light and right_light respectively;

![](/media/e351cd0edff687946d20b78927f569ee.png)

（4）Click“Variables”to drag and fins![img](./media/wps357.jpg);click“Mini Tank Robot V3”of “robot”to find and drag![img](./media/wps358.jpg)into![img](./media/wps359.jpg)；copy ![img](./media/wps360.jpg) once and change left_light to right_light;click the little triangle behind left_light_sensor to select right_light_sensor;

![](/media/344d2f9f37a12812a0830a13cf74956d.png)

（5）Click“SerialPort”to find and drag![img](./media/wps361.jpg);click “text”“to find and drag![img](./media/wps362.jpg)into![img](./media/wps363.jpg)and change hello into left_light_value=;

![](/media/18be4aeab79f408255c05faed16efe45.png)

（6）Click“SerialPort”to find and drag![img](./media/wps364.jpg); click”Variable”to find and drag ![img](./media/wps365.jpg)into![img](./media/wps366.jpg);

![](/media/b0fb4cf3057be662fe8a0994983f9c48.png)

（7）Copy![](/media/df6909ab086ef6d608d9b040d19625ed.png)once; change left\_light\_value= to right\_light\_value= and left\_light to right\_light; print in other line ![](/media/c8c6663394c0c56365206707d57febda.png).

（8）Click“Control”to find and drag![img](./media/wps367.jpg);click ![img](./media/wps368.jpg) to drag ![img](./media/wps369.jpg)into ![img](./media/wps370.jpg)twice; drag![img](./media/wps371.jpg)into ![img](./media/wps372.jpg); make ![img](./media/wps373.jpg)into ![img](./media/wps374.jpg);click”logic”to find![img](./media/wps375.jpg)and place it behind if; click “logic”to find and drag![img](./media/wps376.jpg)into the left of and; click”variable”to find and drag![img](./media/wps377.jpg)into the left of“=”;click “math”to find and drag![img](./media/wps378.jpg)into the right of“=”and change 0 into 650; click the little triangle behind“=”to select“>”;copy![img](./media/wps379.jpg)once and put it behind and ; change left_light to right_light。

![](/media/94fab0a5b668ff4ae5e3faa5c7aefc85.png)

（9）Click“Mini Tank Robot V3”of “robot”to find and drag![](/media/739b43f88561149fced150b307609427.png);copy it once; change Left to Right out it into the first do;change the 0 in front of PWM to 200;

![](/media/379c2059b73eea07787cb234df7896bd.png)

（10）Copy ![](/media/a95ba1fb7793c9c7af29d90011ed812f.png)once and place it behind the first else if ; change the “\>” behind right\_light to“≤”and others remain unchanged;

![](/media/1b0469087f186b77247d5b195cb5e54e.png)

（11）Click“Mini Tank Robot V3”of “robot”to find and drag![](/media/739b43f88561149fced150b307609427.png); copy it once; change the forward of Left motor to back and the Right motor to forward and put it into the second do; change all the 0s in front of PWM to 200;

![](/media/4619e2ead01942b2fee989b9a89f6135.png)

（12）Copy![](/media/995abd2d216d2293dd6cbc065e483ef3.png)once and place it in behind the second else if; change the “\>” behind left\_light to“≤”，“≤” behind right\_light to“\>”and others remind unchanged;

![](/media/0dd95df50f006eefcb9e3f2508daccd1.png)

(13)Copy![](/media/1ac62f71322c1bd33000a43d39661e33.png)once; change the back of the Left motor
to forward, and forward of the Right motor to back and place them into the third do; change all the 0s in front of PWM to 200;

![](/media/c2f996559a730aba4d015e3b82d1953c.png)

（14）Click“Mini Tank Robot V3”of “robot”to find and drag![](/media/5b8cdab87bfd6faa51dd27f507c547b1.png) into else;

![](/media/16c6733c14d16896f6df827edf7f164e.png)

**Complete code：**

![](./media/fbdb3c05dca5b786ebe880e963da3e34-1696836032555-80.png)![](./media/wps380.png)

### (5 )Test Results:

After uploading the test code successfully, connecting according to the wiring diagram, dialing the DIP switch to the right end and powering it on, the smart car follows the light to move.

## **Project 14: Ultrasonic Sound-following Tank**

![](./media/26de2c574af94f92874749054eacf3e9-1696836106520-83.jpeg)

### (1)Description:

In the previous lesson, we learned about the light-following smart car. And in this lesson, we can combine the knowledge to make an ultrasonic sound-following car. In the project, we use ultrasonic sensors to detect the distance between the car and the obstacle in front, and then control the rotation of the two motors based on this data so as to control the movements of the smart car.

The specific logic of the ultrasonic sound- following smart car is shown in the table blow:

![image-20231009152248392](./media/image-20231009152248392.png)

**(2)Flow chart**

![image-20231009152310715](./media/image-20231009152310715.png)

### (3)Connection Diagram:

![](/media/19d05faf06476538560c7cc0b18623b5.png)

<p style="color:red;">Notes: The wiring of ultrasonic, servo and motor is the same as in the previous lesson.
<p style="color:red">The GND, VCC, SDA, and SCL of the 8x16 LED dot matrix are respectively connected to the-(GND), + (VCC), SDA, and SCL of the V5 expansion for communication;</p>



### (4) Test Code

The program will be generated if you find the following file and drag it into Mixly software.

| File Type | Route                                                        | File Name                                   |
| --------- | ------------------------------------------------------------ | ------------------------------------------- |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_14\_Ultrasonic Sound-following Tank | lesson\_14\_Ultrasonic Sound-following Tank |
|           |                                                              |                                             |

You could edit code step by step as follows:

（1）Click“Control”to find and drag![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png);

（2 )Click“Mini Tank Robot V3”of “robot”to find and drag ![img](./media/wps381.jpg)、![img](./media/wps382.jpg)into ![img](./media/wps383.jpg) orderly; click the little triangle behind“↑”to choose“clear”;

![](/media/1bd533c363886083cd362758fcb1cb34.png)

（3）Copy ![img](./media/wps384.jpg)of ![img](./media/wps385.jpg)once and place it onto![img](./media/wps386.jpg); click the little triangle behind“clear”to choose“V”;Click”tank robot”to find and drag ![img](./media/wps387.jpg)into ![img](./media/wps388.jpg);change the 0 to 90;

![](/media/117e6efa655154fefa4c0580914bd53e.png)

（4）Click“Variables”to find and drag ![img](./media/wps389.jpg) into![img](./media/wps390.jpg);click“Math”to find and drag![img](./media/wps391.jpg) into![img](./media/wps392.jpg); and change item to distance.

![](/media/0337e4265ad6b00b9ea608496d1c57c3.png)

（5）Click“Variables”to find and drag ![img](./media/wps393.jpg);click“Minit Tank Robot V3”of “robot”to find and drag![img](./media/wps394.jpg) into ![img](./media/wps395.jpg);

![](/media/275fd3c60a3385066aa2440b25938d16.png)

（6）Click “Control”to find and drag![img](./media/wps396.jpg); click ![img](./media/wps397.jpg);drag ![img](./media/wps398.jpg) into![img](./media/wps399.jpg)twice; drag ![img](./media/wps400.jpg) into![img](./media/wps401.jpg);make ![img](./media/wps402.jpg)into![img](./media/wps403.jpg);click“Logic”to find and drag![img](./media/wps404.jpg)behind if; click“Logic”to find and place![img](./media/wps405.jpg)to the left side of and; click “variables”to find and drag![img](./media/wps406.jpg)to the left side of“=”;click“Math”to find and drag![img](./media/wps407.jpg) to the right side of“=”;change the 0 to 20; click the little triangle behind“=”to choose “≥”; copy![img](./media/wps408.jpg)once and place it behind and ; and change“≥”to“≤”and 20 to 60;

（7）click“Mini Tank Robot V3”of “robot”to find and drag![img](./media/wps409.jpg)change all the 0s in front of PWM to 200; copy it again and change Left to Right and place in into the first do;change Left to Right and place in into the first do;

![](/media/fb059b4f82b70253bd42c2324db6b605.png)

（8）copy![](/media/39968d98ef56dc2ac6266f8a915c2ed6.png)once and place it behind else if ;change the“≥”on the left side of and to“\>”, and change 20 to 10; change the“≤”on the right side of and to“\<”and 60 to 20;

![](/media/62a2b433b44baef35b9c06c90936d5b7.png)

（9）click“Mini Tank Robot V3”of “robot”to find and drag![](/media/915d04ba6ba87669d2c80cd6fdffe813.png)into the second do。

![](/media/c99107240d3f31592c6e956c0c4f7d66.png)

（10）Copy![](/media/19f8c9efba5c14917055875998276f7d.png)once and place it behind the second else if; change“\>”to“\<”，and others remain unchanged; copy![](/media/27ce42a123b0c334c29fdf430c25864c.png);change the two forward of the Left motor and Right motor forward to back, and put them in the third do;

![](/media/517ae381f302e158ea846a5fce0aca2b.png)

（11）Click“Mini Tank Robot V3”of “robot”to find and drag![](/media/24378858156d6de23589c8a142e1a885.png)into else;

![](/media/69f78ed7ebc829e3b74dbefb2db72a13.png)

**Complete code：**

![](./media/5ef325689f61a99fc45f11bb3a39a34f-1696836487742-114.png)![img](./media/wps411.png)

### (5 )Test Results:

After uploading the test code successfully, connecting according to the wiring diagram, dialing the DIP switch to the right end, powering it on, and setting the servo to 9°，the smart car moves with the obstacle. 

## **Project 15: Ultrasonic Obstacle Avoidance Tank**

![](./media/7bdae4a3b3bd2c295d9ff61ca9bd792f-1696836499336-117.jpeg)

### (1)Description:

In the previous project,we have made a ultrasonic following smart car. Actually, with the same components and wiring, we just need to make a slight change in code to turn it into a obstacle avoidance car.

The specific logic of the ultrasonic obstacle avoidance smart car is shown in the table blow:

![image-20231009153313034](./media/image-20231009153313034.png)

### (2)Flow chart

![img](media/wps27.png)

**(3)Connection Diagram:**

![](/media/2ba32b8e2038fbc344fea3c24c0105a3.png)

<p style="color:red;">(Note: the “-”, “+” and S pins of the servo are respectively connected to G (GND), V (VCC) and D10 of the expansion board；and for the ultrasonic sensor,the VCC pin is connected to the 5v (V) ,the Trig pin to digital 12 (S), the Echo pin to digital 13 (S), and the Gnd pin to Gnd (G); the same as last project.）</p>

### (4)Test Code

The program will be generated if you find the following file and drag it into Mixly software.

| File Type | Route                                                        | File Name                                      |
| --------- | ------------------------------------------------------------ | ---------------------------------------------- |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_15\_Ultrasonic Obstacle Avoidance Tank | lesson\_15\_Ultrasonic Obstacle Avoidance Tank |
|           |                                                              |                                                |

You could edit code step by step as follows:

1.Click “Control”to find and drag![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png).

2.Click "Variables" to find and drag![img](./media/wps412.jpg)into![img](./media/wps413.jpg);click "math"，to find and drag![img](./media/wps414.jpg)into;copy![img](./media/wps415.jpg)twice and place it into![img](./media/wps416.jpg); change item to a、a1、a2 respectively; the variable "a" saves the distance at which the ultrasonic sensor detects the obstacle ahead when the servo is at an angle of 90°；the variable "a1" saves the distance at which the ultrasonic sensor detects the obstacle to the left when the servo is at an angle of 180°；the variable "a2" saves the distance at which the ultrasonic sensor detects the obstacle to the right when the servo is at an angle of 0°；

![](/media/0364c4fcecf9249444e3f37e506f8725.png)

3.Click“Mini Tank Robot V3”of “robot”to find and drag![img](./media/wps417.jpg)into![img](./media/wps418.jpg); change the 0 to 90;

![](/media/5d11e6f8e5dbeef72561fcfa76a26009.png)

4.Click“Variables”to find and drag![img](./media/wps422.jpg);click“Mini Tank Robot V3”of “robot”to find and drag![img](./media/wps423.jpg)into![img](./media/wps424.jpg);

![](/media/9983a26cf38481955b90dadf04b2fc94.png)

5.Click“Control”to find and drag![img](./media/wps425.jpg);click![img](./media/wps426.jpg);drag ![img](./media/wps427.jpg)into![img](./media/wps428.jpg) to get![img](./media/wps429.jpg); click“Logic”to find and drag![img](./media/wps430.jpg)behind if;click“Variables”to find and drag ![img](./media/wps431.jpg) into the left side of“=”; click“Math”to find and drag![img](./media/wps432.jpg)to the right side of“=”;change 0 to 20，click the little triangle behind “=” to choose“＜;

![](/media/dbc4b4380e31b3e120204977f1791483.png)

6.Click“Mini Tank Robot V3”of “robot”to find and drag![img](./media/wps433.jpg)into do; click “Control”to find and drag![img](./media/wps434.jpg) into do; change delay in 1000ms to 500ms; click“Mini Tank Robot V3”to find and drag![img](./media/wps435.jpg)into do;change 0 to 180。

![](/media/385a84868490e073c1ebf0b6450de432.png)

7.Click “Control”to find and drag![img](./media/wps436.jpg)into do;change delay in1000ms to 500ms; copy![img](./media/wps437.jpg)once;click”control”to dear![img](./media/wps438.jpg)into do and change 1000 into 100; copy![img](./media/wps439.jpg)of ![img](./media/wps440.jpg) once and place it into do; the number 0 remain unchanged;copy ![img](./media/wps441.jpg)once again;

![](/media/e7c3e2e4240ff1d3d62b0e7a93615e1b.png)

8.copy![](/media/7b3187943a73db7aacf0b6fa3b95294e.png)and place it into do;change a1 to a2，0° to 90°，and others remain unchanged;

![](/media/bb29dcace330bd8bfd9862bd67e8f364.png)

9.Click“Control”to find and drag ![img](./media/wps442.jpg)into do;，click![img](./media/wps443.jpg);drag ![img](./media/wps444.jpg)to ![img](./media/wps445.jpg) to get ![img](./media/wps446.jpg); click“Logic”to find and drag ![img](./media/wps447.jpg)into“if”;click“Variables”to find and drag ![img](./media/wps448.jpg)into the left side of “>”; click“Math” to find and drag![img](./media/wps449.jpg) into the right side of“>”;change 0 to 50; click the little triangle behind“=” to select“>”;

![](/media/1c6975fdaccbdb8b9d8823e07e4f4523.png)

10.Click“Mini Tank Robot V3”of “robot”to find and drag![img](./media/wps450.jpg); change speed 255 to 200; copy it once and change the forward of the Left motor to back，and the other Left motor to Right![img](./media/wps451.jpg) and place them to ![img](./media/wps452.jpg)do;click“Control”to drag ![img](./media/wps453.jpg)into![img](./media/wps454.jpg)do; and change delay in 1000ms to 700ms;

![](/media/f7eba52513106816a65dbdf0464e6c39.png)

11.Copy ![](/media/70bfc4ea37c0827e2f448193f5569d4d.png)once and place it into![](/media/76f054d430e7207b48ec9e2069e6d016.png)of else; change the Left motor to forward and the Right motor to back![](/media/9d5449280e6e0634a4e153b61e1f3f4d.png)，and others remain unchanged;

![](/media/f37b59c8d00caaf70ab19f6c5472e6d4.png)

12.copy![](/media/755ce3b1a24c1d50452d2c8711812d1d.png)once and change back to forward![](/media/b4f34baf50e54b40d340615513378ae7.png) and place them into the second else;

![](/media/9be82980a8a1c56fc1218df1624b41ff.png)

**Complete code：**

![1212](./media/1212.png)![img](./media/wps455.png)



### (5)Test Results:

After uploading the test code successfully, connecting according to the wiring diagram, dialing the DIP switch to the right end, and powering it on, the smart car moves forward and it automatically avoid obstacles.

# **Project 16: Move-in-Confined-Space Tank**

![](./media/b519c777b40a0de462f10814d4c3ca48-1696838215032-164.jpeg)

### (1)Description:

The ultrasonic sound-following and obstacle avoidance functions of the smart car have been introduced in previous projects. Here we intend to combine the knowledge in the previous courses to confine the smart car to move in a certain space. In the experiment, we use the line-tracking sensor to detect whether there is a black line around the smart car, and then control the rotation of the two motors according to the detection results, so as to lock the smart car in a circle drawn in black line.

The specific logic of the line-tracking smart car is shown in the table blow:

![image-20231009160125752](./media/image-20231009160125752.png)

### (2)Flow chart

![](./media/image-20231009160215455.png)

### (3)Connection Diagram:

![](/media/aca72dc201de41ce9edd42c30ea4628d.png)

### (4)Test Code

The program will be generated if you find the following file and drag it into Mixly software.

| File Type | Route                                                        | File Name                                |
| --------- | ------------------------------------------------------------ | ---------------------------------------- |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_16\_ Move-in-Confined-Space Tank | lesson\_16\_ Move-in-Confined-Space Tank |
|           |                                                              |                                          |

You could edit code step by step as follows:

（1）Click "Variables"to find and drag![](/media/6f172be17940bbd0c635924742208b16.png); click "math"to find and drag![](/media/6f172be17940bbd0c635924742208b16.png);
copy![](/media/c376f71ce273bc7c11f361d0dc8906a1.png) twice and item to L\_val、M\_val、R\_val respectively; variable L\_val”saves the value of the line-tracking sensor on the left; variable“M\_val”saves the value of the line-tracking sensor in the middle；variable“R\_val”saves the value of the line-tracking sensor on the right ![](/media/308e39cf1c9f2764a946aeab1fe3ad94.png);

(2) Click“Mini Tank Robot V3”of “robot”to find and drag![](/media/aa976a69a7767ef29b5c8507afa6c402.png);copy it twice and change to “center tracking”and “right tracking”respectively; click“Variables”to drag![](/media/8fce82a76c53c50394b0f424c07baea5.png)and ![](/media/75cd784d03627885512529dcb59a1487.png)orderly;

![](/media/6e6433993d01d00a4d555dcdd77332a9.png)

（3）Click“Control”to find and drag![img](./media/wps456.jpg);click“Logic”to find and drag![img](./media/wps457.jpg); change and to or and copy it again; put one into the other![img](./media/wps458.jpg);click“Logic”to copy![img](./media/wps459.jpg)twice;put ![img](./media/wps460.jpg),![img](./media/wps461.jpg) and ![img](./media/wps462.jpg)into one side of“Variables” and click“Math”to drag![img](./media/wps463.jpg)three times to the other side![img](./media/wps464.jpg); and place them to if 
![](/media/f04c55f94d3ff5927a1d4ff945e281fe.png).

（4）Click“Mini Tank Robot V3”of “robot”to find and drag![](/media/11490c4a2a83f87b804a725ff39f3274.png) and change 255 to 200 and copy it once;
change Left to Right and place them to do![](/media/89e3be42a295d6ccca4b15ce255c7d04.png);

（5）Copy ![](/media/89e3be42a295d6ccca4b15ce255c7d04.png)once, change forward to back and
click“Control”to drag ![](/media/c64a4711125d642ed6e519a5bea80273.png) and change 1000 to 500![](/media/53709a5933406ca21f4b9639f74b9bec.png)and place them into else
![](/media/7189188c32dfe23a859df2fc8c7dfeec.png).

（6）Copy![](/media/7a723d678920950f6616752306afde33.png)once, change the back of the Right motor to forward, change 1000ms![](/media/c64a4711125d642ed6e519a5bea80273.png)to 700 and put them in else;

![](/media/2666132bc58362b3733dc94dc4db5bbb.png)

**Complete code：**

![](./media/5e04ceffd8f988d4a76243a7948c104d-1696838704646-176.png)![img](./media/wps465.png)

### (5 )Test Results:

After uploading the test code successfully and powering it up, the smart car moves in a confined space, the circle drawn in black line.

# **Project 17: Line-tracking Tank**

![](./media/f07697b638146afdcd6dea654f5d2137-1696838752769-179.jpeg)

### (1)Description:

The previous project has introduced how to confine the smart car to move in a certain space. In this project, we could use the knowledge learned before to make it a line-tracking smart car. In the experiment, we use the line-tracking sensor to detect whether there is a black line around the smart car, and then control the rotation of the two motors according to the detection results, so as to make the smart car to move along the black line.

The specific logic of the line-tracking smart car is shown in the table blow:

![image-20231009160828075](./media/image-20231009160828075.png)

### (2)Flow chart

![](./media/image-20231009160914686.png)

### (3)Connection Diagram:

![](/media/aca72dc201de41ce9edd42c30ea4628d.png)

<p style="color:red;">Note: it is the same as last project</p>

### (4)Test Code

The program will be generated if you find the following file and drag it into Mixly software.

| File Type | Route                                                        | File Name                      |
| --------- | ------------------------------------------------------------ | ------------------------------ |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_17\_Line-tracking Tank | lesson\_17\_Line-tracking Tank |
|           |                                                              |                                |

You could edit code step by step as follows:

1.Click "Variables" to find and drag![img](./media/wps466.jpg)，click "math"，to find and drag![img](./media/wps467.jpg)into![img](./media/wps468.jpg),copy![img](./media/wps469.jpg)twice and change item to L_val、M_val、R_val; variable L_val”saves the value of the line-tracking sensor on the left; variable“M_val”saves the value of the line-tracking sensor in the middle；variable“R_val”saves the value of the line-tracking sensor on the right  

![](/media/308e39cf1c9f2764a946aeab1fe3ad94.png).

2.Click“Mini Tank Robot V3”of “robot”to find and drag![img](./media/wps470.jpg);copy it twice and change to “center tracking”and “right tracking”respectively; click“Variables”to drag![img](./media/wps471.jpg),![img](./media/wps472.jpg)and ![img](./media/wps473.jpg)orderly;

![](/media/6e6433993d01d00a4d555dcdd77332a9.png)

3.Click“Control”to find and drag ![img](./media/wps474.jpg) and ![img](./media/wps475.jpg); copy![img](./media/wps476.jpg)once，and place them to do and else respectively![img](./media/wps477.jpg); click“Logic” to drag![img](./media/wps478.jpg)and copy it twice;click “Variables” to find and drag ![img](./media/wps479.jpg) to the one side of = ; click “Math” to drag ![img](./media/wps480.jpg) and change o to 1 and put it in the other side of =![img](./media/wps481.jpg); and then put them on the top of if
![](/media/9a327385290f60d316b325e8fe8aeb2f.png);

4.Click“Logic”to drag ![img](./media/wps482.jpg) and copy it twice![img](./media/wps483.jpg); change“M_val” to “L_val” and “R_val”respectively ; for R_val,change the 1 to 0; and place them in the two sides of and![img](./media/wps484.jpg);and them it the second if;

5.Click“Mini Tank Robot V3”of “robot”to find and drag
![](/media/11490c4a2a83f87b804a725ff39f3274.png), change 255 to 200, copy it once, change
Left to Right, change the forward of the Left motor to back and place them in into the second do ![](/media/0bcbdf42f2de8939fddf2d7b6c7562e6.png);

6.Copy![](/media/46f5c143972d1baf718b3e14cad0b3d9.png) and change the 1on the left to 0 and
the 0 on the right o 1, and place them to else if;

7.Copy ![](/media/0bcbdf42f2de8939fddf2d7b6c7562e6.png)once and change the back of the Right
motor to forward, and the forward of the Left motor to back and place them all to the third do;

![](/media/b5733365dcc5a37854f3617df6082329.png)

8.Copy ![](/media/0bcbdf42f2de8939fddf2d7b6c7562e6.png)once and change the back of the Left motor to forward and place them in else;

![](/media/3a23a6bfb21f65604816cc5e5d49205e.png)

9.Copy ![](/media/ded364e239da94982c070e404c9cb655.png)once and replace ![](/media/219a1f0cdf2942ad4aa42ef4d54dc539.png) to get
![](/media/6d8f34fe3525fdf54cf7a3ace92b8c1b.png);

**Complete code：**

![](/media/9c7722234be7e3b4751c6f0efe9a97da.png)

![](./media/658dfcd137c636c4999e020dad135c9a-1696839303275-205.png)![img](./media/wps485.png)

### (5)Test Results:

After uploading the test code successfully and powering it up, the smart car moves along the black line.

# **Project 18: Fire Extinguishing Tank**

![](./media/b407e190f2308dcdb0a1570795fe2b54-1696839315655-208.jpeg)

### (1)Description:

The line-tracking function of the smart tank has been explained in the previous project. And in this project we use the flame sensor to make a fire extinguishing robot. When the car encounters flames, the motor of the fan will rotate to blow out the fire. Of course, we need to replace the ultrasonic sensor and two photoresistors with a fan module and flame sensors first.

The specific logic of the line-tracking smart car is shown in the table blow:

![image-20231009161734925](./media/image-20231009161734925.png)

### (2)Flow chart

![img](media/wps30.png)

### (3)Connection Diagram:

![](/media/2356806a8a8f49b9964b90f0babcde9d.png)

<p style="color:red">Note: the GND, VCC, SDA, and SCL of the 8x16 LED dot matrix are respectively connected to-(GND), + (VCC), SDA, SCL on the expansion board of V5 ;</p>

<p style="color:red;">The "-", "+" and S pins of the infrared receiving sensor are respectively connected to the G (GND), V (VCC), A0 of the expansion board with wires. When the digital port is not enough, the analog port can be used as a digital port, and analog port A0 is equivalent to digital port 14, A1 is equivalent to digital port 15, and so on.</p>>

### (4)Test Code

The program will be generated if you find the following file and drag it into Mixly software.

| File Type | Route                                                        | File Name                           |
| --------- | ------------------------------------------------------------ | ----------------------------------- |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_18\_Fire Extinguishing Tank | lesson\_18\_Fire Extinguishing Tank |
|           |                                                              |                                     |

You could edit code step by step as follows:

（1）Click "Variables"to find and drag![img](./media/wps486.jpg); click "math"to find and drag![img](./media/wps487.jpg)into![img](./media/wps488.jpg); copy![img](./media/wps489.jpg) twice and item to L_val、M_val、R_val respectively; variable L_val”saves the value of the line-tracking sensor on the left; variable“M_val”saves the value of the line-tracking sensor in the middle；variable“R_val”saves the value of the line-tracking sensor on the right ; and copy it twice again and change item to flame_L and flame_R respectively;

![](/media/aa4affa6d3f60fa190f87c9f53a7967c.png)

（2）（1）Click“Mini Tank Robot V3”of “robot”to find and drag![img](./media/wps490.jpg);copy it twice and change to “center tracking”and “right tracking”respectively; then drag![img](./media/wps491.jpg) and copy it once and change to “Left” and “Right”![img](./media/wps492.jpg);click“Variables”to drag![img](./media/wps493.jpg)、![img](./media/wps494.jpg)、![img](./media/wps495.jpg)，![img](./media/wps496.jpg) and ![img](./media/wps497.jpg)orderly;

![](/media/6e6433993d01d00a4d555dcdd77332a9.png)

（3）Click“Control”to find and drag![img](./media/wps498.jpg);click“Logic”to find and drag ![img](./media/wps499.jpg) and drag ![img](./media/wps500.jpg)and copy twice; place the ![img](./media/wps501.jpg)of Variables to the left side of ≤ and click“Math”to drag ![img](./media/wps502.jpg), change 0 to 700 and place it to the other side![img](./media/wps503.jpg); copy once,change flame_L to flame_R![img](./media/wps504.jpg),and place them in the two sides of or![img](./media/wps505.jpg)and then put them in the top of if;

（4）Click“Mini Tank Robot V3”of “robot”to find and drag![img](./media/wps506.jpg)，and drag![img](./media/wps507.jpg)to the first do ![img](./media/wps508.jpg);

（5）Click“Mini Tank Robot V3”of “robot”to find and drag![img](./media/wps509.jpg)and change forward to stop![img](./media/wps510.jpg)to get

![img](./media/wps511.jpg)；

（6）Click“Control”to find and drag ![img](./media/wps512.jpg) and ![img](./media/wps513.jpg),copy ![img](./media/wps514.jpg)once to place to do and else ![img](./media/wps515.jpg);click“Logic”to drag“Logic”![img](./media/wps516.jpg) and copy it twice; put ![img](./media/wps517.jpg) of “Variables” to one side of = and and click“Math” to drag ![img](./media/wps518.jpg) and change 0 to 20 and put it on the other side![img](./media/wps519.jpg); and place them on the top of if ![img](./media/wps520.jpg);

（7）Click“Logic”to drag ![](/media/5d866efffe131dd34b392ff3b640da62.png) and copy it twice![](/media/b5e98487777fcf598f4c2de943276a3e.png);respectively change "M\_val" to "L\_val" and "R\_val", for R\_val change 1 to 0 and put them on both sides of and![](/media/46f5c143972d1baf718b3e14cad0b3d9.png); and place them on the second if;

（8）Click“Mini Tank Robot V3”of “robot”to find and drag，to find and drag![](/media/11490c4a2a83f87b804a725ff39f3274.png); change 255 to 200;copy it once; change Left to Right, and the forward of the Left motor to back and place them into the second do![](/media/0bcbdf42f2de8939fddf2d7b6c7562e6.png);

（9）Copy![](/media/46f5c143972d1baf718b3e14cad0b3d9.png) and change the 1 of L\_val to 0 and 0 of R\_val to 1 and put them to else if;

（10）Copy ![](/media/0bcbdf42f2de8939fddf2d7b6c7562e6.png)once ;change the back of the Right motor to forward, and the forward of the Left motor to back and place them in the third do;

![](/media/b5733365dcc5a37854f3617df6082329.png)

（11）Copy![](/media/0bcbdf42f2de8939fddf2d7b6c7562e6.png)once,change the back of the Left motor to forward and put them to else;

![](/media/3a23a6bfb21f65604816cc5e5d49205e.png)

（12）Copy ![](/media/ded364e239da94982c070e404c9cb655.png)once,replace![](/media/219a1f0cdf2942ad4aa42ef4d54dc539.png) to get
![](/media/6d8f34fe3525fdf54cf7a3ace92b8c1b.png)

**Complete code：**

![2323](./media/2323.png)![img](./media/wps521.png)

### (5)Test Results:

After uploading the test code successfully and powering it up, the smart car puts out the fire when it detects flame and continues moving along the black line.

# **Project 19:** **IR Remote Control Tank**

![](./media/fe3319362c94d0bcf196e86b0de2b885-1696841212420-247.jpeg)

### (1)Description:

Infrared remote control is one of the most common remote control found applications in electric motors, electric fans, and many other household appliances. In this project,we use the knowledge we learned before to make an infrared remote control smart car.

In the 9th lesson, we have tested the corresponding key value of each key of the infrared remote control. In the project, we can set the code (key value) to make the corresponding button to control the movements of the smart car, and display the movement patterns on the 8X16 LED dot matrix.

The specific logic of the line-tracking smart car is shown in the table blow:

![image-20231009165130761](./media/image-20231009165130761.png)

### (2)Flow chart

![img](media/wps31.png)

### (3)Connection Diagram:

![](/media/66a2c26ffac90f8e7fa633b8613aa573.png)

<p style="color:red;">Note: The GND, VCC, SDA, and SCL of the 8x16 LED dot matrix are respectively connected to-(GND), + (VCC), SDA, SCL on the sensor expansion board of V5.</p>

<p style="color:red;">The pins "-", "+" and S of the infrared receiving sensor module are respectively connected to G (GND), V (VCC), and A0 of the Keyestudio expansion board. When the digital port is not enough, the analog port can be used as a digital port. And analog port A0 is equivalent to digital port 14, A1 is equivalent to digital port 15, and so on.</p>

### (4)Test Code

The program will be generated if you find the following file and drag it into Mixly software.

| File Type | Route                                                        | File Name                          |
| --------- | ------------------------------------------------------------ | ---------------------------------- |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_19\_IR Remote Control Tank | lesson\_19\_IR Remote Control Tank |
|           |                                                              |                                    |

You could edit code step by step as follows:

（1）Click “Control”to find and drag![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png).

(2) Click“Mini Tank Robot V3”of “robot”to find and drag![](/media/2f996f40986807997788ac079439f960.png)and
![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png);click the little triangle of“↑”to choose“clear”![](/media/69c1eb0cc79361ecf61e0105734c21d5.png);

(3)Copy![img](./media/wps529.jpg) of ![img](./media/wps530.jpg) once and place it into![img](./media/wps531.jpg) and click click the little triangle of“clear”to choose“V”;

![](/media/5d22cd02d07ffbfa62d6ea6c09d78170.png)

（4）Click“Mini Tank Robot V3”of “robot”to find and drag![](/media/83e3f8ec823132eb456b4b158b7520db.png);

(5)Click “Control”to find and drag![img](./media/wps532.jpg); click“Logic”to find and drag![img](./media/wps533.jpg) behind if;clic“Variables”to find and drag ![img](./media/wps534.jpg) into the left side of “=”;click“Math”to drag ![img](./media/wps535.jpg) to the right side of“=”; change 0 to 0xFF629D; click“Mini Tank Robot V3”of “robot”to find and drag![img](./media/wps536.jpg),![img](./media/wps537.jpg) and ![img](./media/wps538.jpg) orderly and change all the 0s in front of PWM to 200:

![](./media/0cfe61f2a13336056c59d6b224e765ce-1696815208809-416.png);



(6)Copy ![img](./media/wps539.jpg) four times; change 0xFF629D to 0xFFA857, 0xFF22DD, 0xFFC23D and 0xFF02FD；click“Mini Tank Robot V3” to find and change ![img](./media/wps540.jpg)to ![img](./media/wps541.jpg)、![img](./media/wps542.jpg)、![img](./media/wps543.jpg)and ![img](./media/wps544.jpg) respectively; click the little triangle behind“↑”to choose“↓”、“←”、“→” and “STOP”respectively;

(7)Copy ![img](./media/wps545.jpg) twice;  change 0xFF629D to 0xFF30CF and 0xFF7A85 respectively；click “Tank Robot”to find and  replace ![img](./media/wps546.jpg) with ![img](./media/wps547.jpg)and ![img](./media/wps548.jpg);change all the 0s in front of PWM to 200；click the little triangle behind“↑” to choose“←” and “→”.

**Complete code：**

![](./media/0fa55edb12f69e3e0f4d98274703d0a0-1696815208810-424.png)

![](/media/177cf3c5739f3217476dbfb2a6ad8bb1.png)

### (5)Test Results:

After uploading the test code successfully and powering it up, the smart car can be controlled to move by IR remote control and the 8\*16 shows the corresponding patterns of its movements.

# **Project 20: Bluetooth Control Tank**

![](./media/8472e049f0ac03340b68b64e7593d9a1-1696842129292-269.jpeg)

### (1)Description:

We have learned the basic knowledge of Bluetooth in the previous project . In this lesson, we will use Bluetooth to control the smart car. Since it involves Bluetooth, a sending end and a receiving end are needed. In the project, we use the mobile phone as the sender(master), and the smart car connected with the HM-10 Bluetooth module (slave) as the receiver.

We have learned earlier that sending a bit can control LEDs. And the principle of controlling this robot car is the same.

In order to better control the intelligent tank robot, we specially made an APP. In this lesson, we will read all the key value on this APP through code, and then introduce the exclusive APP of our tank robot.



### (2)About the APP KeyesRobot

**Download instructions for Apple System**

Open App Store→search for KeyesRobot→download it to your phone.

![](/media/38b61289e05c2e37ee7e10890303f130.png)

Open the APP Motorhome →the following page pops up→select Tank Robot.

![](/media/31879907eebdbcf596766e1f87506189.png)

Turn on the Bluetooth on mobile phone → click the Bluetooth button in the upper right corner of this APP →search and pair them.

<p style="color:red">(Note: we need to turn on the location permission when we pair Bluetooth.)</p>

![](/media/a368e3381590429b53bc7a17fbff6464.png)

Select TANK ROBOT and the following page appears:

![](/media/2a9b5222a3dd4ec16e2f479d00b82b24.png)

The usage of this App is almost the same for Apple system and Android system. And here we intend to take Android system as an example to explain how to use it properly.

**Download instructions for Android System**

Search KeyesRobot in Google Play or click following link:

https:/play.google.com/store/apps/details?id=com.keyestudio.keyestudio

![](/media/ec232996a18b4cad2a22379fc795f0ee.png)

Click Sign in to download the APP

![](/media/2ecba5bc20bf85129a394d2b9b99321a.png)

The following icon implies a successful installation.

![](/media/1e01c31ab01988cbcd9bd52554d8bc3b.png)

Click the icon to enter the APP and choose TANK ROBOT;

Enable "location and Bluetooth" permission, then connect and pair Bluetooth;

Scan for Bluetooth devices and the name of Bluetooth BLE 4.0 is HMSoft which does not have a pairing password.

![](/media/31879907eebdbcf596766e1f87506189.png)

After uploading the test code successfully, powering it up and connecting it with Bluetooth, the LED on the Bluetooth module flashed;

Click icon ![](/media/a368e3381590429b53bc7a17fbff6464.png) and search for Bluetooth as shown below.

![](/media/a32f0b37bea6bc13a2f785c6aeb35d22.png)

Click connect and the pairing is done and the LED remains on.

![](/media/afdedea4a9a7235766e67c22744d725f.png)

Connect the Bluetooth module and open the serial monitor to set the baud rate to 9600;

Press the button of the Bluetooth APP, and the corresponding characters are displayed in the serial monitor as shown in the picture below:

![](/media/6886bcc40850b08182b6970bdafd1ed0.png)

### (3)Test Code 1

The program will be generated if you find the following file and drag it into Mixly software.

| File Type | Route                                                        | File Name                          |
| --------- | ------------------------------------------------------------ | ---------------------------------- |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_20\_Bluetooth Control Tank | lesson\_20\_Bluetooth Control Tank |
|           |                                                              |                                    |

You could edit code step by step as follows:

（1）Click “Control”to find and drag![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png);

（2）Click“Serial”to find and drag![img](./media/wps549.jpg)into![img](./media/wps550.jpg);

![](./media/ab706faf61854a4bb27663a5cac4325c-1696815208797-50-1696822915911-184.png)

（3）Click“Mini Tank Robot V3”of “robot”to find and drag![](/media/d0e5da46eafb0483a9891d870e2d9eae.png);

（4）Click“Serial”to find and drag![img](./media/wps551.jpg)into![img](./media/wps552.jpg);click“Variables”to find and drag ![img](./media/wps553.jpg) into ![img](./media/wps554.jpg);

 ![img](./media/wps555.jpg)

**Complete code：**

![](./media/397731af0dc0cc46f408f812745d05a0-1696842316036-278.png)![img](./media/wps556.png)

First remove the Bluetooth module and upload the test code;

Then reconnect the Bluetooth module and open the serial monitor to set the baud rate to 9600;

Press the button of the Bluetooth APP, and the corresponding characters are displayed in the serial monitor as shown in the picture below:

![](/media/805f8ee5c8998a5d6cb8bcef9da09186.png)

The following table illustrates the functions of corresponding keys:

| Keys                                                         | Functions                                                    |                                                              |
| ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps587.jpg) | Pair and connect HM-10 Bluetooth module;click again to disconnect |                                                              |
| ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps588.jpg) | select the robot to operate                                  |                                                              |
| ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps589.jpg) | to control the movements of the robot by buttons             |                                                              |
| ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps590.jpg) | To control the movements of the robot by joystick            |                                                              |
| ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps591.jpg) | To control the movements of the robot by gravity             |                                                              |
| ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps592.jpg) | Send “F”when pressed and “S”when released                    | The car moves forward when it is pressed and stops when released |
| ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps593.jpg) | Send “L”when pressed and “S”when released                    | The car turns left when it is pressed tight and stops when released |
| ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps594.jpg) | Send “R”when pressed and “S”when released                    | The car turns right when it is pressed tight and stops when released |
| ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps595.jpg) | Send “B”when pressed and “S”when released                    | The car turns back when it is pressed tight and stops when released |
| ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps596.jpg) | Send “u”+digit+“#”when dragged                               | Drag to change the speed of the left motor                   |
| ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps597.jpg) | Send “v”+digit+“#”when dragged                               | Drag to change the speed of the right motor                  |
| ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps598.jpg) | Select to enter Function page                                |                                                              |
| ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps599.jpg) | Send “G”when pressed and “S”when pressed again               | Enter obstacle avoidance mode when pressed and exit when pressed again |
| ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps600.jpg) | Send “h”when pressed and “S”when pressed again               | Enter following mode when pressed and exit when pressed again |
| ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps601.jpg) | Send “e”when pressed and “S”when pressed again               | Enter line-tracking mode when pressed and exit when pressed again |
| ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps602.jpg) | Send “f”when pressed and “S”when pressed again               | Enter move-in-confined-space mode when pressed and exit when pressed again |
| ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps603.jpg) | Send “i”when pressed and “S”when pressed again               | Enter light following mode when pressed and exit when pressed again |
| ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps604.jpg) | Send “j”when pressed and “S”when pressed again               | Enter fire extinguishing mode when pressed and exit when pressed again |
| ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps605.jpg) | Select to enter facial expression display mode               |                                                              |
| ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps606.jpg) | Send “k”when pressed and “z”when pressed again               | Show smiling pattern when clicked and clear expression when clicked again |
| ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps607.jpg) | Send “l”when pressed and “z”when pressed again               | Show disgusting pattern when clicked and clear expression when clicked again |
| ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps608.jpg) | Send “m”when pressed and “z”when pressed again               | Show happy face when clicked and clear expression when clicked again |
| ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps609.jpg) | Send “n”when pressed and “z”when pressed again               | Show sad pattern when clicked and clear expression when clicked again |
| ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps610.jpg) | Send “o”when pressed and “z”when pressed again               | Show disparaging pattern when clicked and clear expression when clicked again |
| ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps611.jpg) | Send “p”when pressed and “z”when pressed again               | Show heart-shaped pattern when clicked and clear expression when clicked again |
| ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps612.jpg) | Choose to enter the custom function interface; there are six keys 1,2,3,4,5,6; with these keys, you can expand some functions by yourself |                                                              |
| ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps613.jpg) | Click to send “w”                                            | Click to display the analog value detected by the photoresistor on the left |
| ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps614.jpg) | Click to send“y”                                             | Click to display the analog value detected by the photoresistor on the right |
| ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps615.jpg) | Click to send“x”                                             | Click to show the distance detected by ultrasonic sensor (unit: cm) |
| ![img](file:///C:\Users\ADMINI~1\AppData\Local\Temp\ksohtml14352\wps616.jpg) | Click to send“c”Click again to send“d”                       | Press to turn on the fan and press again to turn off it      |

### (4)Flow chart

![](./media/image-20231009172709812.png)

### (5)Connection Diagram:

![](/media/023d806ec3941e45450c684b914bac50.png) 

The GND, VCC, SDA, and SCL of the 8x16 LED dot matrix are respectively connected to-(GND), + (VCC), SDA, SCL of the expansion board;

The Bluetooth module is directly plugged into the expansion board. Please pay attention to the direction of the pin. The STATE and BRK pins of the Bluetooth module do not need to be connected.

### (6)Test Code 2

The program will be generated if you find the following file and drag it into Mixly software.

| File Type | Route                                                        | File Name                            |
| --------- | ------------------------------------------------------------ | ------------------------------------ |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_20\_Bluetooth Control Tank | lesson\_20.2\_Bluetooth Control Tank |
|           |                                                              |                                      |

You could edit code step by step as follows:

（1）Click “Control”to find and drag![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png);

（2）Click“SerialPort”to find and drag![img](./media/wps617.jpg)into![img](./media/wps618.jpg);

![](./media/ab706faf61854a4bb27663a5cac4325c-1696815208797-50-1696822915911-184.png)

（3） Click“Mini Tank Robot V3”of “robot”to find and drag![](/media/840995e7b596b0ae85f549d14868fd5d.png);

（4） Click“SerialPort”to find and drag![img](./media/wps619.jpg)into![img](./media/wps620.jpg)；click“Variables”to find and drag![img](./media/wps621.jpg) into![img](./media/wps622.jpg) to get ![img](./media/wps623.jpg)

（5）Click“Control”to find and drag![img](./media/wps631.jpg)，click![img](./media/wps632.jpg)to get ![img](./media/wps633.jpg); drag ![img](./media/wps634.jpg) five times into![img](./media/wps635.jpg)to get![img](./media/wps636.jpg);click "Variables"to find and drag ![img](./media/wps637.jpg) behind“switch”;

![](/media/4905388b9eddf60df6766aa3db5c2b28.png)

（6）Click“Text”to find and drag![img](./media/wps638.jpg) behind the first case; change a to F；click“Mini Tank Robot V3”of “robot”to find and drag，![img](./media/wps639.jpg)and ![img](./media/wps640.jpg)orderly and place them to the first case;change all the 0s in front of PWM to 200;

![](/media/476b1d91ebb2163a0b76ca8d91dbe735.png)

（7）Click“Text”to find and drag![img](./media/wps641.jpg) behind the second case, changea to B；click“Mini Tank Robot V3”of “robot”to find and drag![img](./media/wps642.jpg)and ![img](./media/wps643.jpg)orderly and place them to the second case;change all the 0s in front of PWM to 200;

![](/media/8eb0eb8f5091b2b8943e6a7b8151f0b7.png)

（8）Click“Text”to find and drag![img](./media/wps644.jpg)behind the third case;change a to L；click“Mini Tank Robot V3”of “robot”to find and drag![img](./media/wps645.jpg)and ![img](./media/wps646.jpg)orderly and place them to the third case;change all the 0s in front of PWM to 200;

![](/media/db587d6cbe8b6f7fb1f1a533ff90f8e0.png)

（9）Click“Text”to find and drag![img](./media/wps647.jpg)behind the forth case; change a to R；click“Mini Tank Robot V3”of “robot”to find and drag![img](./media/wps648.jpg) and ![img](./media/wps649.jpg)orderly and place them to the fourth case; change all the 0s in front of PWM to 200;

![](/media/adf1072120d0affe1cfe4e5443e2ca96.png)

（10）Click“Text”to find and drag![](/media/ebfc14e6725fc11a7f791b043aa53580.png) behind the fifth case; change a to S；click“Mini Tank Robot V3”of “robot”to find and drag![](./media/c8e44e646d0c89ac2ca647f36861a91c-1696815208810-459.png)to the fifth case ![](/media/3c020f614b891baab8a098d79ed1eecf.png);

**Complete code：**

![](/media/d5543e3d381cb329d205833374e09987.png)

<p style="color;red;">(Note:When uploading the code, the Bluetooth module must be unplugged, and the Bluetooth can be reconnected after the uploading process. Otherwise the code may not be burned.)</p>

### (7)Test Results:

After uploading the test code successfully, dialing the DIP switch to the right end, powering it on, and pairing the APP with Bluetooth, the smart car can be controlled to move by the APP.

# **Project 21: Speed-Controlled-by-Bluetooth Tank**

![](./media/bc6f346d0044194eff10034bf6de1032-1696844221033-307.jpeg)

### (1)Description:

In the previous project, we have learned how to control a smart tank with Bluetooth. The PWM value of the motor we used before is 200 (speed is 200). In this lesson, we will use Bluetooth to adjust the speed of the smart car, but the fixed speed of 200 cannot be changed. We should define a variable speeds to store the speed value. Through the previous study, we have known that the range of this value is from 0 to 255.

### (2)Flow chart

![img](media/wps33.png)

### (3)Connection Diagram:

![](/media/023d806ec3941e45450c684b914bac50.png)

The GND, VCC, SDA, and SCL of the 8x16 LED dot matrix are respectively connected to-(GND), + (VCC), SDA, SCL of the expansion board;

The Bluetooth module is directly plugged into the expansion board. Please pay attention to the direction of the pin. The STATE and BRK pins of the Bluetooth module do not need to be connected.

### (4)Test Code

<p style="color:red;">(Note:When uploading the code, the Bluetooth module must be unplugged, and the Bluetooth can be reconnected after the uploading process. Otherwise the code may not be burned.)</p>

The program will be generated if you find the following file and drag it into Mixly software.

| File Type | Route                                                        | File Name                                      |
| --------- | ------------------------------------------------------------ | ---------------------------------------------- |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_21\_Speed-Controlled-by-Bluetooth Tank | lesson\_21\_Speed-Controlled-by-Bluetooth Tank |
|           |                                                              |                                                |

You could edit code step by step as follows:

（1）Click “Control”to find and drag![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png).

（2）Click“SerialPort”to find and drag![img](./media/wps650.jpg)into![img](./media/wps651.jpg);

![](./media/ab706faf61854a4bb27663a5cac4325c-1696815208797-50-1696822915911-184.png)

（3）Click“Mini Tank Robot V3”of “robot”to find and drag，to find and drag![](/media/840995e7b596b0ae85f549d14868fd5d.png).

（4） 	Click “SerialPort”to find and drag![img](./media/wps652.jpg)into![img](./media/wps653.jpg)；click“Variables”to find and drag![img](./media/wps654.jpg)into![img](./media/wps655.jpg) to get ![img](./media/wps656.jpg);

（5）Click“Control”to find and drag![img](./media/wps657.jpg);click![img](./media/wps658.jpg)to get ![img](./media/wps659.jpg);drag ![img](./media/wps660.jpg) five times into![img](./media/wps661.jpg) to get ![img](./media/wps662.jpg);click "Variables" to find and drag ![img](./media/wps663.jpg) behind “switch”;

![](/media/4905388b9eddf60df6766aa3db5c2b28.png)

（6）Click“Text”to find and drag![img](./media/wps664.jpg) behind the first case; change a to F；click“Mini Tank Robot V3”of “robot”to find and drag![img](./media/wps665.jpg)and ![img](./media/wps666.jpg)orderly and place them to the first case;change all the 0s in front of PWM to 200;

![](/media/476b1d91ebb2163a0b76ca8d91dbe735.png)

（7）Click“Text”to find and drag![img](./media/wps667.jpg) behind the second case, changea to B；click“Mini Tank Robot V3”of “robot”to find and drag![img](./media/wps668.jpg)and ![img](./media/wps669.jpg)orderly and place them to the second case;change all the 0s in front of PWM to 200;

![](/media/8eb0eb8f5091b2b8943e6a7b8151f0b7.png)

（8）Click“Text”to find and drag![img](./media/wps670.jpg)behind the third case;change a to L；click“Mini Tank Robot V3”of “robot”to find and drag![img](./media/wps671.jpg)and ![img](./media/wps672.jpg)orderly and place them to the third case;change all the 0s in front of PWM to 200;

![](/media/db587d6cbe8b6f7fb1f1a533ff90f8e0.png)

（9）Click“Text”to find and drag![img](./media/wps673.jpg)behind the forth case; change a to R；click“Mini Tank Robot V3”of “robot”to find and drag![img](./media/wps674.jpg) and ![img](./media/wps675.jpg)orderly and place them to the fourth case; change all the 0s in front of PWM to 200;

![](/media/adf1072120d0affe1cfe4e5443e2ca96.png)

（10）Click“Text”to find and drag![](/media/ebfc14e6725fc11a7f791b043aa53580.png) behind the fifth case; change a to S；click“Mini Tank Robot V3”of “robot”to find
and drag![](./media/c8e44e646d0c89ac2ca647f36861a91c-1696815208810-459.png)to the fifth case

![](/media/3c020f614b891baab8a098d79ed1eecf.png)

**Complete code：**

![](/media/d5543e3d381cb329d205833374e09987.png)

### (5)Test Results:

After uploading the test code successfully, dialing the DIP switch to the right end, powering it on, and pairing the APP with Bluetooth, the smart car can be controlled to move by the APP. And the speed of the car can be regulated by pulling the speed dials of the left and right motors.

# **Project 22: Multifunctional Tank**

![](/media/55638241b5cef959d3f01494c82c2ea3.jpeg)

### (1)Description:

The smart car has performed a single function in every previous project. Can it display multiply functions at a time ? Positive. In this last big project, we intend to use a once and place it behind else if to control the smart car to show off all functions mentioned in previous projects. We use the keys on the Bluetooth APP to automatically switch various functions, quite simple and convenient.

### (2)Flow chart

![img](media/wps34.png)

### (3)Connection Diagram:

![](/media/06da9bf0b57e68b1300d1a1b33178285.png)

1.Please carefully check the wiring.When we want to show the fire extinguishing function of this car, we need to detach the ultrasonic sensor, servo, and photosensitive from it, and replace them with the fan module and flame sensor;

2.The GND, VCC, SDA, and SCL of the 1.8x16 LED dot matrix are respectively connected to-(GND), + (VCC), SDA, SCL of the expansion board;

3.The VCC pin of the ultrasonic sensor (fan module) is connected to 5v(V), Trig pin to digital 12(S), Echo pin to digital 13(S), and Gnd pin to Gnd(G);

4.The servo is connected to G, V, and 10. The brown wire of the servo is connected to Gnd (G), the red wire is connected to 5v (V), and the orange wire is connected to 10;

5.The RXD, TXD, GND, and VCC of the Bluetooth module are respectively connected to TX, RX,-(GND), + (VCC), and the STATE and BRK pins of the Bluetooth module do not need to be connected;

6.The "-", "+" and S pins of the infrared receiving sensor module are respectively connected to the sensor expansion board G (GND), V (VCC), A2 with wires;

7.The pins "-" "+" and S of the left photoresistor (flame sensor) module are respectively connected to the G (GND), V (VCC), A0 of the expansion board and for the right photoresistor (flame sensor) module they are connected to G (GND), V (VCC), A1.

### (4)Test Code

The program will be generated if you find the following file and drag it into Mixly software.

| File Type | Route                                                        | File Name                        |
| --------- | ------------------------------------------------------------ | -------------------------------- |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_22\_Multifunctional Tank | lesson\_22\_Multifunctional Tank |
|           |                                                              |                                  |

As the code is too complicated with lots of steps, it won’ t be illustrated step by step. But you are encouraged to have a try.

**Complete code 1: (flame sensor and fan)**

![](/media/c609ee6a2fbe62ce2cfffd540d08cf43.png)

![](/media/495c846300c754e47c1394fe20cb8141.png)

**Complete code 2:  (photosensitive module, ultrasonic sensor and servo)**

![](/media/2fd1daef8016f568e129095c7b9b2fba.png)

![](/media/93395b7a562cad47d32f45589ffcd006.png)

### (5)Test Results:

<p style="color:red">(Note: before uploading the test code, you need to remove the Bluetooth module. Otherwise the code will fail to upload. When the code uploading process is done, open the GPS on your phone, and then reconnect the Bluetooth module.)</p>

After uploading the test code successfully, powering it on, and pairing the APP with Bluetooth, the smart car can be controlled to perform various functions by the APP.

We can realize the corresponding functions by pressing the corresponding keys to select various modes, and finally end the operation of the smart car with the key Stop. The above wiring diagram does not have a fan module and a flame sensor module. When we show the fire extinguishing function of the car, we need to replace the servo, the ultrasonic sensor and the photoresistor with the fan module and flame module. 

Of course, at that time we cannot enter the straight-line following, ultrasonic obstacle avoidance and light-seeking modes. However, we use pins to fix sensors and modules, which makes the detachment and assembly very simple. No need worry about it. But we need to block the unused code for some modules using the same IO port. The fan module and the flame sensor module in the above code have been blocked.

All the projects have been completed. Hope you’d obtain some fresh knowledge. If you encounter any problem involves this kit, please feel free to contact our customer service professionals who will help you timely.

And we strongly recommend you to have a go on the following products rolled out by Keyestudio. Thank you for your attention.

![](./media/ac1b7dc172c3f335b5370eb3b9b8e173-1696815208810-472.jpeg)    ![](./media/a523f8f659b88422e6751233dfcf698e-1696815208810-473.jpeg)    

# **7.Resources**

[https://fs.keyestudio.com/KS0526](https://fs.keyestudio.com/KS0426)

