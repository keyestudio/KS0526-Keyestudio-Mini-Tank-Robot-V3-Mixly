# KS0526 Keyestudio Mini Tank Robot V3 Mixly

Thanks for your support on our products. We will continue to provide you
with higher quality products and better services\!

Contents


About keyestudio

1.  Keyestudio is a best-selling brand owned by KEYES Corporation, our
    product lines range from Arduino boards, shields, sensor modules,
    Raspberry Pi, micro:bit extension boards and smart car to complete
    starter kits designed for customers of any level to learn Arduino
    knowledge.

2.  All of our products comply with international quality standards and
    are greatly appreciated in a variety of different markets throughout
    the world.

3.  Welcome check more contents from our official website:

4.  <http:/www.keyestudio.com>
    
    \*References and After-sales Service

5.  Download Profile：https:/fs.keyestudio.com/KS0526

6.  Feel free to contact us please, if there is missing part or you
    encounter some troubles. Welcome to send email to
    us：**[service@keyestudio.com](http:/m.138.gz.cn/webadmin/~CAmsnCrrNXhTAySKCerrIfWjjZuuWVfI/~/usr/mod_edituser.jsp?;uid=service@keyestudio.com;;clearCache=).**
    We will update projects and products continuously based on your
    sincere advice.
    
    \*Warning

<!-- end list -->

1.  This product contains tiny parts(screws, copper pillars), keep it
    out of reach of children under 7 years old please.

2.  This product contains conductive parts (control board and electronic
    module). Please operate according to the requirements of this
    tutorial. Improper operation may cause overheating and damage parts.
    Do not touch and immediately disconnect the circuit power.

\*Copyright

The keyestudio trademark and logo are the copyright of KEYES DIY ROBOT
co.,LTD. All products under keyestudio brand can’t be copied, sold and
resold without authorization by anyone or company. If you’re interested
in our items, please contact to our sales representatives:
[**fennie@keyestudio.com**](http:/m.138.gz.cn/webadmin/~CAmsnCrrNXhTAySKCerrIfWjjZuuWVfI/~/usr/mod_edituser.jsp?;uid=fennie@keyestudio.com;;clearCache=)

**Mini Tank Robot V3**

**(Mixly toturial)**

![](/media/26173ee5c0c8a4a3cdbb208c91a2a7a5.png)

**1. Introduction**

This STEM educational V3.0 tank robot is newly upgraded, adding an
line-tracking and a fire- extinguishing function. It vigorously enhances
the relationship between kids and parents, and sparks children’s
imagination through programming and coding.

In the course of assembly process, you can see its multiple functions
like light following, line tracking, IR and BT remote control, speed
adjustment and so on. Additionally, there are some small parts that can
help you assemble the robot car.

There are basic sensors and modules, such as a flame sensor, a BT
sensor, an obstacle avoidance sensor, an line tracking sensor and an
ultrasonic sensor are included.

The two tutorials for C language and Arduino are also suitable for the
enthusiasts at different ages.

It is really a best choice for you.

**2.Features：**

1.Multiple functions：Confinement, line tracking, fire extingushing,
light following, IR and BT remote control, speed control and so on

2\. Easy to build: assemble the robot with tiny parts

3\. High tenacity: Aluminum alloy brackets, metal motors, high quality
wheels

4\. High extension: connect many sensors and modules through motor
driver shield and sensor shield.

5\. Multiple controls: IR remote control, App control(iOS and Android
system)

6.  Basic programming：Mixly software
    
    **3.Parameters：**

Working voltage: 5v

Input voltage: 7-12V

Maximum output current: 2A

Maximum power dissipation: 25W (T=75℃)

Motor speed: 5V 200 rpm/min

Motor drive mode: dual H bridge drive(L298P)

Ultrasonic induction angle: \<15 degrees

Ultrasonic detection distance: 2cm-300cm

Infrared remote control distance: 10 meters (measured)

BT remote control distance: 30 meters (measured)

4.  **Kit List**

<table>
<tbody>
<tr class="odd">
<td>#</td>
<td>Picture</td>
<td>Name</td>
<td>QTY</td>
</tr>
<tr class="even">
<td>1</td>
<td><img src="/media/e7109191dcd9c2d014964b9e2409dc0c.png" style="width:1.76667in;height:1.31667in" /></td>
<td>Wrench</td>
<td>1</td>
</tr>
<tr class="odd">
<td>2</td>
<td><img src="/media/575e374ce74fa69b0b3f43610de08ff6.emf" style="width:1.95972in;height:0.97083in" /></td>
<td>Driving Wheels</td>
<td>2</td>
</tr>
<tr class="even">
<td>3</td>
<td><img src="/media/b73abfc7a734f4862d06712e6310280b.png" style="width:0.68125in;height:0.68264in" /></td>
<td>M4*12mm Hexagon Screws</td>
<td>2</td>
</tr>
<tr class="odd">
<td>4</td>
<td><img src="/media/10d9de74b35431cbaed2e4056ab13b96.png" style="width:1.96458in;height:0.84861in" /></td>
<td>Caterpillar Band</td>
<td>2</td>
</tr>
<tr class="even">
<td>5</td>
<td><img src="/media/bc31aba110b7ad911b46ea77fcb0a7fd.emf" style="width:1.68125in;height:1.02917in" /></td>
<td>Driven Wheel</td>
<td>2</td>
</tr>
<tr class="odd">
<td>6</td>
<td><img src="/media/85982dd58bc2a8bdc8b60968e0b4d7a9.png" style="width:0.69722in;height:1.11667in" /></td>
<td>M4*35mm Hexagon Screws</td>
<td>2</td>
</tr>
<tr class="even">
<td>7</td>
<td><img src="/media/782340778c2838b36784c6920821726a.png" style="width:1.77639in;height:1.66389in" /></td>
<td>Bottom Parts</td>
<td>1</td>
</tr>
<tr class="odd">
<td>8</td>
<td><img src="/media/686670898705c411f9affbd3e2e78c61.png" style="width:1.65556in;height:1.34375in" /></td>
<td>Tank Robot Chassis</td>
<td>1</td>
</tr>
<tr class="even">
<td>9</td>
<td><img src="/media/8ecfc7e4f74bd2001452e33f74eace2e.png" style="width:1.74097in;height:1.25694in" /></td>
<td>Keyestudio V4.0 Development Board</td>
<td>1</td>
</tr>
<tr class="odd">
<td>10</td>
<td><img src="/media/4ebdedd20a23f95ce5ae9c0a4d124a81.png" style="width:1.75139in;height:1.40694in" /></td>
<td>L298P Motor Driver Shield</td>
<td>1</td>
</tr>
<tr class="even">
<td>11</td>
<td><img src="/media/725b40552b5104104dc109c5fe6ad7b3.png" style="width:2.13958in;height:0.75139in" /></td>
<td>Keyestudio HM-10 BT-4.0</td>
<td>1</td>
</tr>
<tr class="odd">
<td>12</td>
<td><img src="/media/b0906d68835b2659491e53a85567569b.png" style="width:1.73819in;height:0.96597in" /></td>
<td>HC-SR04 Ultrasonic Sensor</td>
<td>1</td>
</tr>
<tr class="even">
<td>13</td>
<td><img src="/media/4a2be9e7bf76b26b49e10d5d2f3f9bda.png" style="width:1.73681in;height:0.79722in" /></td>
<td>Keyestudio 8*16 LED Panel</td>
<td>1</td>
</tr>
<tr class="odd">
<td>14</td>
<td><img src="/media/0b130b1b8eb4e626a9cad08906af2ef5.png" style="width:2.13889in;height:1.70486in" /></td>
<td>Yellow LED Module</td>
<td>1</td>
</tr>
<tr class="even">
<td>15</td>
<td><img src="/media/ecf808f114234039582880ab4682c4e6.png" style="width:1.71875in;height:1.22569in" /></td>
<td>Flame Sensor</td>
<td>2</td>
</tr>
<tr class="odd">
<td>16</td>
<td><img src="/media/ec37bc098e230744bac2fb22b91c503e.png" style="width:1.34375in;height:1.37639in" /></td>
<td>130 Motor Module</td>
<td>1</td>
</tr>
<tr class="even">
<td>17</td>
<td><img src="/media/694d563668ffd3ff9b453f45963c16f2.png" style="width:1.43889in;height:1.04514in" /></td>
<td>IR Receiver Module</td>
<td>1</td>
</tr>
<tr class="odd">
<td>18</td>
<td><img src="/media/9b0193c19a5a7392052adffdfc4e10c2.png" style="width:2.13819in;height:1.78403in" /></td>
<td>Photoresistor</td>
<td>2</td>
</tr>
<tr class="even">
<td>19</td>
<td><img src="/media/3960ff94f47aca1521f294d929ee2592.png" style="width:1.60625in;height:1.50694in" /></td>
<td><p>Acrylic Board for</p>
<p>8*16 LED Panel</p></td>
<td>1</td>
</tr>
<tr class="odd">
<td>20</td>
<td><img src="/media/a8997d05138f338432d7d2e02de72bfd.png" style="width:1.24375in;height:1.53194in" /></td>
<td>Upper Board</td>
<td>1</td>
</tr>
<tr class="even">
<td>21</td>
<td><img src="/media/9665dfd887f3b761c887fe49e47fbdef.png" style="width:0.80694in;height:0.78542in" /><img src="/media/82e72b8a1e3d2c0eebfa0e96e4b66b83.png" style="width:0.89167in;height:0.91806in" /></td>
<td>Acrylic Board</td>
<td>2</td>
</tr>
<tr class="odd">
<td>22</td>
<td><img src="/media/528c200c8566fe1b65715aa7bb21dad3.png" style="width:1.69028in;height:0.82778in" /></td>
<td><p>Keyestudio JMFP-4 17-Key</p>
<p>Remote Control</p>
<p>(Without Batteries)</p></td>
<td>1</td>
</tr>
<tr class="even">
<td>23</td>
<td><img src="/media/e686213ffb2aa53d9960f9f6d1b600cd.png" style="width:1.69931in;height:1.25069in" /></td>
<td>Keyestudio 9G 180 °Servo</td>
<td>1</td>
</tr>
<tr class="odd">
<td>24</td>
<td><img src="/media/4f8d5af6dee9016b45d975adb2391d37.png" style="width:1.80208in;height:0.66667in" /></td>
<td>USB Cable</td>
<td>1</td>
</tr>
<tr class="even">
<td>25</td>
<td><img src="/media/f353b46e6c2c0597c3268d5aa137fd99.png" style="width:1.65556in;height:0.19514in" /></td>
<td>3.0*40MM Screwdriver</td>
<td>1</td>
</tr>
<tr class="odd">
<td>26</td>
<td><img src="/media/a3d702d65769c0e0b682a77a152ca5cc.png" style="width:0.66806in;height:1.75208in" /></td>
<td><p>4P M-F PH2.0mm to 2.54 Dupont Wire</p>
<p>(Green-Blue-Red-Black)</p></td>
<td>1</td>
</tr>
<tr class="even">
<td>27</td>
<td><img src="/media/2c5ac683ae591255e87eb0c105dd1c53.png" style="width:1.65556in;height:0.37222in" /></td>
<td>4P HX-2.54 Dupont Wire (Black-Red-White-Brown)</td>
<td>1</td>
</tr>
<tr class="odd">
<td>28</td>
<td><img src="/media/9be46d555e20cfcf32b981ccd90a376f.png" style="width:1.10764in;height:2.08681in" /></td>
<td>5P JST-PH2.0MM Dupont Wire</td>
<td>1</td>
</tr>
<tr class="even">
<td>29</td>
<td><img src="/media/6a1c8e7c27ca08c62ac0c30a0dbd4578.png" style="width:0.81944in;height:1.58681in" /></td>
<td>3P-3P XH2.54 to 2.54 Dupont Wire（Yellow-Red-Black)</td>
<td>1</td>
</tr>
<tr class="odd">
<td>29</td>
<td><img src="/media/f493282b2846fe01fe6861126b368480.png" style="width:1.05694in;height:1.60347in" /></td>
<td>3P-3P XH2.54 to PH2.0 Dupont Wire（Yellow-Red-Black)</td>
<td>3</td>
</tr>
<tr class="even">
<td>30</td>
<td><img src="/media/7856a38f34cdeb19966cd0fb99b55f85.png" style="width:1.03611in;height:1.56944in" /></td>
<td>4P-3P XH2.54 to PH2.0 Dupont Wire（Yellow-Red-Black)</td>
<td>2</td>
</tr>
<tr class="odd">
<td>31</td>
<td><img src="/media/26ed32284d40ce65cc336eb952755e64.png" style="width:1.49931in;height:1.59653in" /></td>
<td><p>4P XH2.54 to PH2.0</p>
<p>Dupont Wire（Green-Blue-Red-Black)</p></td>
<td>1</td>
</tr>
<tr class="even">
<td>32</td>
<td><img src="/media/f304cb590f040f13b4bd93bfc636ddba.png" style="width:0.80139in;height:0.6in" /></td>
<td>M1.4*8MM Round-head Screws</td>
<td>6</td>
</tr>
<tr class="odd">
<td>33</td>
<td><img src="/media/fb3d2a6b5e5de551ae702b94a468ab49.png" style="width:0.35486in;height:0.35486in" /></td>
<td>M1.4 Nuts</td>
<td>6</td>
</tr>
<tr class="even">
<td>34</td>
<td><img src="/media/fb3d2a6b5e5de551ae702b94a468ab49.png" style="width:0.46806in;height:0.46806in" /></td>
<td>M2 Nuts</td>
<td>8</td>
</tr>
<tr class="odd">
<td>35</td>
<td><img src="/media/f304cb590f040f13b4bd93bfc636ddba.png" style="width:0.68958in;height:0.41875in" /></td>
<td>M2*8MM Round-head Screws</td>
<td>8</td>
</tr>
<tr class="even">
<td>36</td>
<td><img src="/media/1ae2d251fa671bdbedd375c37ed394aa.png" style="width:0.14653in;height:0.47431in" /></td>
<td>M1.2*5MM Round-head Screws</td>
<td>6</td>
</tr>
<tr class="odd">
<td>37</td>
<td><img src="/media/f304cb590f040f13b4bd93bfc636ddba.png" style="width:1.06111in;height:0.64444in" /></td>
<td>M3*6MM Round-head Screws</td>
<td>18</td>
</tr>
<tr class="even">
<td>38</td>
<td><img src="/media/f304cb590f040f13b4bd93bfc636ddba.png" style="width:1.18264in;height:0.71806in" /></td>
<td>M3*10MM Round-head Screws</td>
<td>3</td>
</tr>
<tr class="odd">
<td>39</td>
<td><img src="/media/fb3d2a6b5e5de551ae702b94a468ab49.png" style="width:0.61458in;height:0.61458in" /></td>
<td>M3 Nuts</td>
<td>3</td>
</tr>
<tr class="even">
<td>40</td>
<td><img src="/media/0e0fd3c7109c9fdaae633447ace2452f.png" style="width:1.80208in;height:0.30208in" /></td>
<td>M3*10MM Dual-pass Copper Pillar</td>
<td>4</td>
</tr>
<tr class="odd">
<td>41</td>
<td><img src="/media/0e0fd3c7109c9fdaae633447ace2452f.png" style="width:1.80208in;height:0.30208in" /></td>
<td>M3*40MM Dual-pass Copper Pillar</td>
<td>4</td>
</tr>
<tr class="even">
<td>42</td>
<td><img src="/media/f208158da83eb49a2fca4244c3f05347.png" style="width:1.44097in;height:0.60069in" /></td>
<td>43093 Blue Technic Axle Pin with Friction Ridges</td>
<td>13</td>
</tr>
<tr class="odd">
<td>43</td>
<td><img src="/media/bcef2d126a80b57c944cc15d4df4ee07.png" style="width:0.85278in;height:0.80139in" /></td>
<td>4265c Technic Bush</td>
<td>13</td>
</tr>
<tr class="even">
<td>44</td>
<td><img src="/media/95a430f19b519f4c80f1aee9bdea1605.png" style="width:1.66736in;height:0.16806in" /></td>
<td>Winding Pipe</td>
<td>.12</td>
</tr>
<tr class="odd">
<td>45</td>
<td><img src="/media/247e99cde38f40eb256ed698ec47bb1d.png" style="width:1.55in;height:0.10625in" /></td>
<td>3*100MM Ties</td>
<td>5</td>
</tr>
<tr class="even">
<td>46</td>
<td><img src="/media/ad46a09c801f0ce10448cf7f7c3ef279.png" style="width:0.53125in;height:1.40625in" /></td>
<td>L Type M2.5 Wrench</td>
<td>1</td>
</tr>
<tr class="odd">
<td>47</td>
<td><img src="/media/ad46a09c801f0ce10448cf7f7c3ef279.png" style="width:0.53125in;height:1.40625in" /></td>
<td>L Type M3 Wrench</td>
<td>1</td>
</tr>
<tr class="even">
<td>48</td>
<td><img src="/media/ad46a09c801f0ce10448cf7f7c3ef279.png" style="width:0.53125in;height:1.40625in" /></td>
<td>L Type M1.5 Wrench</td>
<td>1</td>
</tr>
<tr class="odd">
<td>49</td>
<td><img src="/media/8810f202c4cfdc25b290754e21d2fdc8.png" style="width:1.70069in;height:1.11181in" /></td>
<td>Cardboard</td>
<td>1</td>
</tr>
</tbody>
</table>

5.  **Installation**

It is recommended to start the installation part after all projects are
learned.

<table>
<tbody>
<tr class="odd">
<td>Caution</td>
</tr>
<tr class="even">
<td><ol type="1">
<li><p>Set the initial angle of the servo</p></li>
</ol>
<p>Peel thin films off boards before installing this robot</p></td>
</tr>
</tbody>
</table>

<table>
<tbody>
<tr class="odd">
<td>Step 1</td>
<td></td>
</tr>
<tr class="even">
<td>Required Parts</td>
<td><img src="/media/51bcc9167e5685c36c36163cfa54721e.png" style="width:4.00694in;height:1.76528in" /></td>
</tr>
<tr class="odd">
<td><p><img src="/media/79cd39bc8b0cdd101d78b2d53e577949.png" style="width:5.67917in;height:3.86528in" /></p>
<p><img src="/media/2984a704f06e6fe498fad42f76464265.png" style="width:5.75069in;height:6.46667in" /></p></td>
<td></td>
</tr>
<tr class="even">
<td>Step 2</td>
<td></td>
</tr>
<tr class="odd">
<td><p>Required</p>
<p>Parts</p></td>
<td><img src="/media/98b16329d76e0b5922019e374adbb6b0.png" style="width:4.13681in;height:4.13889in" /></td>
</tr>
<tr class="even">
<td><p><img src="/media/8ac582a66f30d6fc96cacb91ab346ddc.png" style="width:5.16944in;height:3.90694in" /></p>
<p><img src="/media/16a95f00c19b962ca26b89a2cb120aac.png" style="width:6.24236in;height:4.97222in" /></p></td>
<td></td>
</tr>
<tr class="odd">
<td>Step 3</td>
<td></td>
</tr>
<tr class="even">
<td>Required Parts</td>
<td><img src="/media/8cb0858d528dbc29cee3afc94d8f1385.jpeg" style="width:4.92153in;height:4.05208in" /></td>
</tr>
<tr class="odd">
<td><p><img src="/media/010870ff21b51bdcf5595470a0bdf80d.jpeg" style="width:4.71042in;height:4.24514in" /></p>
<p><img src="/media/1ed8d0bbd21abb743452a14b0566318d.jpeg" style="width:4.14097in;height:3.53333in" /></p></td>
<td></td>
</tr>
<tr class="even">
<td>Step 4</td>
<td></td>
</tr>
<tr class="odd">
<td>Required Parts</td>
<td><img src="/media/4011d6d001c2ea028a9538ca49d87636.jpeg" style="width:5.42986in;height:4.51806in" /></td>
</tr>
<tr class="even">
<td><p><img src="/media/b02336401088ec3602ca6c2627ce03d5.jpeg" style="width:5.46458in;height:5.03958in" /></p>
<p><img src="/media/2b2ac9150f5b283a4c2045f596bf8f19.jpeg" style="width:5.50139in;height:3.60556in" /></p></td>
<td></td>
</tr>
<tr class="odd">
<td>Step 5</td>
<td></td>
</tr>
<tr class="even">
<td>Required Parts</td>
<td><img src="/media/5482dd9649abb2a727d1adc4ecc75d63.jpeg" style="width:4.00556in;height:4.25694in" /></td>
</tr>
<tr class="odd">
<td><p><img src="/media/4c7ff66d2c6ca61381d83bfe90983592.jpeg" style="width:4.14861in;height:3.42986in" /><img src="/media/86f32f920e7fa3aed2e4a82e3759e765.png" style="width:2.09792in;height:1.47986in" /></p>
<p><img src="/media/87923c4f858447f920eb0311df0fd734.jpeg" style="width:4.67569in;height:3.50139in" /></p></td>
<td></td>
</tr>
<tr class="even">
<td>Step 6</td>
<td></td>
</tr>
<tr class="odd">
<td>Required Parts</td>
<td><img src="/media/bc9a480750a694277fe72a1a743cf616.jpeg" style="width:5.50347in;height:4.61875in" /></td>
</tr>
<tr class="even">
<td>Note: The direction of jumper caps</td>
<td><img src="/media/71b0b017fd3a713ea12cdef35688751d.jpeg" style="width:4.59306in;height:3.81806in" /></td>
</tr>
<tr class="odd">
<td></td>
<td><img src="/media/47f657a8da8ca1051b09ab42945335bb.jpeg" style="width:5.34097in;height:4.45208in" /></td>
</tr>
<tr class="even">
<td>Step 7</td>
<td></td>
</tr>
<tr class="odd">
<td>Required Parts</td>
<td><img src="/media/6a0447be5d1c8c410c35d7be569d8770.jpeg" style="width:5.31111in;height:4.09861in" /></td>
</tr>
<tr class="even">
<td><p><img src="/media/08c05216fcf38671b207b1769bf4923f.jpeg" style="width:5.16389in;height:3.38611in" /></p>
<p><img src="/media/a285db6d2b9ad77594d3e9a05fbc3c3e.jpeg" style="width:4.7in;height:3.96806in" /></p></td>
<td></td>
</tr>
<tr class="odd">
<td>Step 8</td>
<td></td>
</tr>
<tr class="even">
<td>Required Parts</td>
<td><img src="/media/20a0010d7d3a878f99ff92f410c3ee1c.jpeg" style="width:4.51667in;height:2.89861in" /></td>
</tr>
<tr class="odd">
<td><p><img src="/media/f6c4e6915d9555710ff230229047754d.jpeg" style="width:3.12361in;height:3.36667in" /></p>
<p><img src="/media/1b572444d27283340f630226bfdef9db.jpeg" style="width:3.45903in;height:3.03403in" /></p></td>
<td></td>
</tr>
<tr class="even">
<td>Step 9（Need to adjust the angle of the servo）</td>
<td></td>
</tr>
<tr class="odd">
<td>Required Parts</td>
<td><img src="/media/dc2d99e73f28b619ff76f3c7afbf1f02.jpeg" style="width:5.10139in;height:3.08542in" /></td>
</tr>
<tr class="even">
<td><p><img src="/media/726e16efbb8fa4a3621ff9a6bb4cbb81.jpeg" style="width:4.53125in;height:4.80764in" /></p>
<p><img src="/media/f3662c6f199cda4605cf6592241e7e05.jpeg" style="width:3.90069in;height:3.45347in" /></p></td>
<td></td>
</tr>
<tr class="odd">
<td>Step 10</td>
<td></td>
</tr>
<tr class="even">
<td><p><img src="/media/ddefa9a9ca968eb25ad465ca1a4d7a1d.jpeg" style="width:5.83125in;height:4.61111in" /></p>
<p><img src="/media/ca539faaed2ee7f223cc30ae39ad4e40.jpeg" style="width:5.75139in;height:4.54375in" /></p>
<p><img src="/media/ae73791f2600e08c0b581a42ae30a219.jpeg" style="width:5.88472in;height:4.74514in" /></p>
<p><img src="/media/9ed881057af4477499c9f2215545de95.jpeg" style="width:5.84028in;height:4.18056in" /></p>
<p><img src="/media/8b0aa559a3ce44d747b652685064d08c.jpeg" style="width:5.95208in;height:4.85556in" /></p>
<p><img src="/media/87cb59391ecda4a3b9e707f7b268a823.jpeg" style="width:5.32153in;height:4.325in" /></p></td>
<td></td>
</tr>
<tr class="odd">
<td>Wiring up</td>
<td></td>
</tr>
<tr class="even">
<td><p>Hook Up the photo-resistor</p>
<p><img src="/media/3d03bb72f9c41a64a7aa5a052ffbc865.jpeg" style="width:4.77153in;height:4.07361in" /><img src="/media/6bd8e6f546e07468e134218f7bfdf0fb.jpeg" style="width:5.58681in;height:4.19028in" /><img src="/media/c12221f5a4fa5bf5afac4a7fda832fd4.png" style="width:4.74931in;height:4.31528in" /></p></td>
<td></td>
</tr>
<tr class="odd">
<td><p>Wire up the line tracking sensor</p>
<p><img src="/media/a59fc868fcb6fbc0c730a9b40a2e5075.jpeg" style="width:5.82431in;height:4.36806in" /><img src="/media/67a6700f63480f299034068823a71c29.jpeg" style="width:5.82431in;height:4.36806in" /><img src="/media/d9199bed87813603c5ea72d84c47cabc.jpeg" style="width:5.82431in;height:4.36806in" /><img src="/media/99fbd4f55c270c0a29ce284dbdf58c75.png" style="width:5.87431in;height:4.10208in" /></p></td>
<td></td>
</tr>
<tr class="even">
<td><p>Hook up the IR Receiver Module</p>
<p><img src="/media/08b33f7f68c47672059259e5ed05530c.jpeg" style="width:5.82431in;height:4.36806in" /><img src="/media/fdc6d018f9bd921faff37504266b196c.jpeg" style="width:5.82431in;height:4.36806in" /><img src="/media/13872c10e2dc6889da0b4203785bd67a.png" style="width:5.87361in;height:4.17014in" /></p></td>
<td></td>
</tr>
<tr class="odd">
<td><p>Wire up the Ultrasonic Sensor</p>
<p><img src="/media/caef69190626920963fad738d7dcc025.jpeg" style="width:5.82431in;height:4.36806in" /><img src="/media/a5bdd6bb9bbe9db82c93e9193cbac4cd.png" style="width:5.87431in;height:3.61597in" /></p></td>
<td></td>
</tr>
<tr class="even">
<td><p>Wire up the Servo</p>
<p><img src="/media/7e0ebd16b93d5a036623b631b5acdbd7.jpeg" style="width:5.82431in;height:4.36806in" /><img src="/media/9aa3508d69cf0e26ea96f6975c64f2da.png" style="width:5.87361in;height:2.92222in" /></p></td>
<td></td>
</tr>
<tr class="odd">
<td><p>Hook Up the 8*16LED Panel</p>
<p><img src="/media/394180ba7ceaca71ccf0fecc214a0a8c.jpeg" style="width:6.04722in;height:4.78611in" /><img src="/media/f8ee5977f49e0edd9ae05bcc5f36d963.jpeg" style="width:5.82431in;height:4.36806in" /></p>
<p><img src="/media/564519cb6779c8fd154fca583c75728f.png" style="width:5.87361in;height:2.56319in" /></p></td>
<td></td>
</tr>
<tr class="even">
<td>Connection Diagram</td>
<td><img src="/media/a7f75858f0efba9fc59c04d8da25a699.png" style="width:4.52778in;height:3.39861in" /><img src="/media/99ad4d3071a93df85ed5b8e2791ccbd9.jpeg" style="width:4.4625in;height:3.34653in" /><img src="/media/119a162ca2397f04f4725e4d43c080ef.jpeg" style="width:5.82431in;height:4.36806in" /><img src="/media/abca6294b5b5ac581a1abe62f0de814f.jpeg" style="width:5.82431in;height:4.36806in" /><img src="/media/123be51cf2a2858f65233cc27c4d9c03.png" style="width:4.20833in;height:2.4875in" /></td>
</tr>
<tr class="odd">
<td></td>
<td></td>
</tr>
<tr class="even">
<td><p>Dismantle two photoresistors and ultrasonic sensor, as shown below</p>
<p><img src="/media/ebbee258470cfdaa9a0991aa903f719d.jpeg" style="width:4.92569in;height:3.89931in" /></p>
<p><img src="/media/9a7ae6dd68c07b01297162bc1015cf34.jpeg" style="width:4.67778in;height:3.89028in" /></p></td>
<td></td>
</tr>
<tr class="odd">
<td>Replace them with a fan module and two flame sensors</td>
<td><img src="/media/0c7302d6904665588fb8e1c31d75cdb8.jpeg" style="width:5.96875in;height:4.35764in" /></td>
</tr>
<tr class="even">
<td>Then we get a tank robot for extinguishing fire</td>
<td><img src="/media/93d3abece3b0a22e745d71faa02ef1ac.jpeg" style="width:4.51389in;height:3.54097in" /></td>
</tr>
<tr class="odd">
<td>Connection Diagram</td>
<td></td>
</tr>
<tr class="even">
<td>Hook up the fan module and two flame sensors</td>
<td><p><img src="/media/798ef670fc34e0ae7a3f4ca75f517fda.jpeg" style="width:2.71181in;height:3.00278in" /><img src="/media/51ccf21c903928ddf350636647eb6bd7.jpeg" style="width:5.82431in;height:4.36806in" /><img src="/media/18965780f2b562814976ebe6d9f18175.jpeg" style="width:2.67014in;height:3.025in" /><img src="/media/5344412ab7e7198a9d7296fb564cfeb0.jpeg" style="width:3.3625in;height:3.22014in" /></p>
<p><img src="/media/f3553c96c404c4d75073ea6f6f3a50fb.png" style="width:3.95556in;height:2.65764in" /></p></td>
</tr>
<tr class="odd">
<td>Step 1</td>
<td></td>
</tr>
<tr class="even">
<td>Required Parts</td>
<td><img src="/media/a6ffa39f274a5725b0b7ff9402f6a811.jpeg" style="width:4.52708in;height:3.86875in" /></td>
</tr>
<tr class="odd">
<td><p><img src="/media/b7c6326972684362a86fa6b6c8fa9ada.jpeg" style="width:4.47431in;height:3.43889in" /></p>
<p><img src="/media/6a6dc100d41a0d1dd9ae5e1bc18ea44a.jpeg" style="width:2.87292in;height:3.43403in" /></p></td>
<td></td>
</tr>
<tr class="even">
<td>Step 2</td>
<td></td>
</tr>
<tr class="odd">
<td>Required Parts</td>
<td><img src="/media/46729023d01ecb17f497f99a1ae3dc05.jpeg" style="width:4.7625in;height:4.87778in" /></td>
</tr>
<tr class="even">
<td><p><img src="/media/88decff05e38f3e1dd0ef083e73634e3.jpeg" style="width:4.65486in;height:3.46458in" /></p>
<p><img src="/media/d7e8ec4d5f273f3054cba3925e4ce2ed.jpeg" style="width:4.60764in;height:4.07153in" /></p></td>
<td></td>
</tr>
<tr class="odd">
<td>Step 3</td>
<td></td>
</tr>
<tr class="even">
<td>Required Parts</td>
<td><img src="/media/8cb0858d528dbc29cee3afc94d8f1385.jpeg" style="width:4.92153in;height:4.05208in" /></td>
</tr>
<tr class="odd">
<td><p><img src="/media/010870ff21b51bdcf5595470a0bdf80d.jpeg" style="width:4.71042in;height:4.24514in" /></p>
<p><img src="/media/1ed8d0bbd21abb743452a14b0566318d.jpeg" style="width:4.14097in;height:3.53333in" /></p></td>
<td></td>
</tr>
<tr class="even">
<td>Step 4</td>
<td></td>
</tr>
<tr class="odd">
<td>Required Parts</td>
<td><img src="/media/4011d6d001c2ea028a9538ca49d87636.jpeg" style="width:5.42986in;height:4.51806in" /></td>
</tr>
<tr class="even">
<td><p><img src="/media/b02336401088ec3602ca6c2627ce03d5.jpeg" style="width:5.46458in;height:5.03958in" /></p>
<p><img src="/media/2b2ac9150f5b283a4c2045f596bf8f19.jpeg" style="width:5.50139in;height:3.60556in" /></p></td>
<td></td>
</tr>
<tr class="odd">
<td>Step 5</td>
<td></td>
</tr>
<tr class="even">
<td>Required Parts</td>
<td><img src="/media/5482dd9649abb2a727d1adc4ecc75d63.jpeg" style="width:4.00556in;height:4.25694in" /></td>
</tr>
<tr class="odd">
<td><p><img src="/media/4c7ff66d2c6ca61381d83bfe90983592.jpeg" style="width:4.14861in;height:3.42986in" /><img src="/media/86f32f920e7fa3aed2e4a82e3759e765.png" style="width:2.09792in;height:1.47986in" /></p>
<p><img src="/media/87923c4f858447f920eb0311df0fd734.jpeg" style="width:4.67569in;height:3.50139in" /></p></td>
<td></td>
</tr>
<tr class="even">
<td>Step 6</td>
<td></td>
</tr>
<tr class="odd">
<td>Required Parts</td>
<td><img src="/media/bc9a480750a694277fe72a1a743cf616.jpeg" style="width:5.50347in;height:4.61875in" /></td>
</tr>
<tr class="even">
<td>Note: The direction of jumper caps</td>
<td><img src="/media/71b0b017fd3a713ea12cdef35688751d.jpeg" style="width:4.59306in;height:3.81806in" /></td>
</tr>
<tr class="odd">
<td></td>
<td><img src="/media/47f657a8da8ca1051b09ab42945335bb.jpeg" style="width:5.34097in;height:4.45208in" /></td>
</tr>
<tr class="even">
<td>Step 7</td>
<td></td>
</tr>
<tr class="odd">
<td>Required Parts</td>
<td><img src="/media/6a0447be5d1c8c410c35d7be569d8770.jpeg" style="width:5.31111in;height:4.09861in" /></td>
</tr>
<tr class="even">
<td><p><img src="/media/08c05216fcf38671b207b1769bf4923f.jpeg" style="width:5.16389in;height:3.38611in" /></p>
<p><img src="/media/a285db6d2b9ad77594d3e9a05fbc3c3e.jpeg" style="width:4.7in;height:3.96806in" /></p></td>
<td></td>
</tr>
<tr class="odd">
<td>Step 8</td>
<td></td>
</tr>
<tr class="even">
<td>Required Parts</td>
<td><img src="/media/20a0010d7d3a878f99ff92f410c3ee1c.jpeg" style="width:4.51667in;height:2.89861in" /></td>
</tr>
<tr class="odd">
<td><p><img src="/media/f6c4e6915d9555710ff230229047754d.jpeg" style="width:3.12361in;height:3.36667in" /></p>
<p><img src="/media/1b572444d27283340f630226bfdef9db.jpeg" style="width:3.45903in;height:3.03403in" /></p></td>
<td></td>
</tr>
<tr class="even">
<td>Step 9（Need to adjust the angle of the servo）</td>
<td></td>
</tr>
<tr class="odd">
<td>Required Parts</td>
<td><img src="/media/dc2d99e73f28b619ff76f3c7afbf1f02.jpeg" style="width:5.10139in;height:3.08542in" /></td>
</tr>
<tr class="even">
<td><p><img src="/media/726e16efbb8fa4a3621ff9a6bb4cbb81.jpeg" style="width:4.53125in;height:4.80764in" /></p>
<p><img src="/media/f3662c6f199cda4605cf6592241e7e05.jpeg" style="width:3.90069in;height:3.45347in" /></p></td>
<td></td>
</tr>
<tr class="odd">
<td>Step 10</td>
<td></td>
</tr>
<tr class="even">
<td><p><img src="/media/ddefa9a9ca968eb25ad465ca1a4d7a1d.jpeg" style="width:5.83125in;height:4.61111in" /></p>
<p><img src="/media/ca539faaed2ee7f223cc30ae39ad4e40.jpeg" style="width:5.75139in;height:4.54375in" /></p>
<p><img src="/media/ae73791f2600e08c0b581a42ae30a219.jpeg" style="width:5.88472in;height:4.74514in" /></p>
<p><img src="/media/9ed881057af4477499c9f2215545de95.jpeg" style="width:5.84028in;height:4.18056in" /></p>
<p><img src="/media/8b0aa559a3ce44d747b652685064d08c.jpeg" style="width:5.95208in;height:4.85556in" /></p>
<p><img src="/media/87cb59391ecda4a3b9e707f7b268a823.jpeg" style="width:5.32153in;height:4.325in" /></p></td>
<td></td>
</tr>
<tr class="odd">
<td>Wiring up</td>
<td></td>
</tr>
<tr class="even">
<td><p>Hook Up the photo-resistor</p>
<p><img src="/media/3d03bb72f9c41a64a7aa5a052ffbc865.jpeg" style="width:4.77153in;height:4.07361in" /><img src="/media/6bd8e6f546e07468e134218f7bfdf0fb.jpeg" style="width:5.58681in;height:4.19028in" /><img src="/media/c12221f5a4fa5bf5afac4a7fda832fd4.png" style="width:4.74931in;height:4.31528in" /></p></td>
<td></td>
</tr>
<tr class="odd">
<td><p>Wire up the line tracking sensor</p>
<p><img src="/media/a59fc868fcb6fbc0c730a9b40a2e5075.jpeg" style="width:5.82431in;height:4.36806in" /><img src="/media/67a6700f63480f299034068823a71c29.jpeg" style="width:5.82431in;height:4.36806in" /><img src="/media/d9199bed87813603c5ea72d84c47cabc.jpeg" style="width:5.82431in;height:4.36806in" /><img src="/media/99fbd4f55c270c0a29ce284dbdf58c75.png" style="width:5.87431in;height:4.10208in" /></p></td>
<td></td>
</tr>
<tr class="even">
<td><p>Hook up the IR Receiver Module</p>
<p><img src="/media/08b33f7f68c47672059259e5ed05530c.jpeg" style="width:5.82431in;height:4.36806in" /><img src="/media/fdc6d018f9bd921faff37504266b196c.jpeg" style="width:5.82431in;height:4.36806in" /><img src="/media/13872c10e2dc6889da0b4203785bd67a.png" style="width:5.87361in;height:4.17014in" /></p></td>
<td></td>
</tr>
<tr class="odd">
<td><p>Wire up the Ultrasonic Sensor</p>
<p><img src="/media/caef69190626920963fad738d7dcc025.jpeg" style="width:5.82431in;height:4.36806in" /><img src="/media/a5bdd6bb9bbe9db82c93e9193cbac4cd.png" style="width:5.87431in;height:3.61597in" /></p></td>
<td></td>
</tr>
<tr class="even">
<td><p>Wire up the Servo</p>
<p><img src="/media/7e0ebd16b93d5a036623b631b5acdbd7.jpeg" style="width:5.82431in;height:4.36806in" /><img src="/media/9aa3508d69cf0e26ea96f6975c64f2da.png" style="width:5.87361in;height:2.92222in" /></p></td>
<td></td>
</tr>
<tr class="odd">
<td><p>Hook Up the 8*16LED Panel</p>
<p><img src="/media/394180ba7ceaca71ccf0fecc214a0a8c.jpeg" style="width:6.04722in;height:4.78611in" /><img src="/media/f8ee5977f49e0edd9ae05bcc5f36d963.jpeg" style="width:5.82431in;height:4.36806in" /></p>
<p><img src="/media/564519cb6779c8fd154fca583c75728f.png" style="width:5.87361in;height:2.56319in" /></p></td>
<td></td>
</tr>
<tr class="even">
<td>Connection Diagram</td>
<td><img src="/media/e522c89e2050e1868d1b48ef1af05991.jpeg" style="width:5.65556in;height:4.24236in" /><img src="/media/4944c44c3c5cf3742eb033eb363325b8.jpeg" style="width:5.82431in;height:4.36806in" /><img src="/media/119a162ca2397f04f4725e4d43c080ef.jpeg" style="width:5.82431in;height:4.36806in" /><img src="/media/abca6294b5b5ac581a1abe62f0de814f.jpeg" style="width:5.82431in;height:4.36806in" /><img src="/media/974923e4aa6da47d96f63cf956a7f645.png" style="width:5.05139in;height:2.98542in" /></td>
</tr>
<tr class="odd">
<td></td>
<td></td>
</tr>
<tr class="even">
<td><p>Dismantle two photoresistors and ultrasonic sensor, as shown below</p>
<p><img src="/media/ebbee258470cfdaa9a0991aa903f719d.jpeg" style="width:4.92569in;height:3.89931in" /></p>
<p><img src="/media/9a7ae6dd68c07b01297162bc1015cf34.jpeg" style="width:4.67778in;height:3.89028in" /></p></td>
<td></td>
</tr>
<tr class="odd">
<td>Replace them with a fan module and two flame sensors</td>
<td><img src="/media/0c7302d6904665588fb8e1c31d75cdb8.jpeg" style="width:5.96875in;height:4.35764in" /></td>
</tr>
<tr class="even">
<td>Then we get a tank robot for extinguishing fire</td>
<td><img src="/media/93d3abece3b0a22e745d71faa02ef1ac.jpeg" style="width:4.51389in;height:3.54097in" /></td>
</tr>
<tr class="odd">
<td>Connection Diagram</td>
<td></td>
</tr>
<tr class="even">
<td>Hook up the fan module and two flame sensors</td>
<td><p><img src="/media/798ef670fc34e0ae7a3f4ca75f517fda.jpeg" style="width:2.71181in;height:3.00278in" /><img src="/media/51ccf21c903928ddf350636647eb6bd7.jpeg" style="width:5.82431in;height:4.36806in" /><img src="/media/18965780f2b562814976ebe6d9f18175.jpeg" style="width:2.67014in;height:3.025in" /><img src="/media/5344412ab7e7198a9d7296fb564cfeb0.jpeg" style="width:3.3625in;height:3.22014in" /></p>
<p><img src="/media/f3553c96c404c4d75073ea6f6f3a50fb.png" style="width:3.95556in;height:2.65764in" /></p></td>
</tr>
</tbody>
</table>

**6.Install Mixly Software and Driver**

1)  **Download and Install Mixly**

①Description

Mixly is a free open-source graphical Arduino programming software,
based on Google’s Blockly graphical programming framework, and developed
by Mixly Team@ BNU.

It is a complete support ecosystem for creative e-education, a stage for
maker educators to realize their dreams.

② Download Mixly1.0

Windows System：<https:/fs.keyestudio.com/Mixly1-Windows>

MACOS System：<https:/fs.keyestudio.com/Mixly1-MACOS>

We will take Mixly1.0 (Windows version) as example, and the installation
method of MAC version is similar with it.

You will get installation package after downloading. As shown below:

![](/media/2c120c5b3e52fbec94b62b48a016a4d5.png)

Unzip the package, you will see “Mixly 1.0 for keyestudio.exe”

![](/media/f8201facff78d06aad9ced9f5fe65e0f.png)

Double-click ![](/media/8ec85e7035e6acc2271635f7c03dfc8e.png)”Mixly 1.0 for keyestudio.exe”, the
following interface pops up.

![](/media/3b4de4ee8a8535e2e316c38e4c95e28f.png)

We have to choose correct Arduino development board and name, as shown
below:

![](/media/afbba18511c277cd0cf580353d22ac7f.png)

Select correct COM port(the corresponding port will be shown after
installing driver successfully)

![](/media/cf570d717ad63f4d9c1793dcdbd65254.png)

You have to know the function of every area and interface on Mixly
software before uploading program on Arduino development board

![](/media/c3360c388c06334c2d06c168763a3bed.png)

![](/media/c09dc67b6729cab1451932399afcbde6.png)

2)  **Keyestudio V4.0 Development Board**

We need to know keyestudio V4.0 development board, as a core of this
smart car.

![](/media/d48e310dbb7f60760a02fbd88c17d97a.png)

Keyestudio V4.0 development board is an Arduino uno -compatible board, which is based on ATmega328P MCU, and with a cp2102 Chip as a UART-to-USB converter. 

![](/media/308315eef3c603cdf0e8babfc4d9c297.jpeg)

It has 14 digital input/output pins (of which 6 can be used as PWM outputs), 6 analog inputs, a 16 MHz quartz crystal, a USB connection, a power jack, 2 ICSP headers and a reset button.

![](/media/9652daf1229f38442c4c31934022be39.png)

It contains everything needed to support the microcontroller; simply connect it to a computer with a USB cable or power it via an external DC power jack (DC 7-12V) or via female headers Vin/ GND(DC 7-12V) to get started.

<table>
<tbody>
<tr class="odd">
<td>Microcontroller</td>
<td>ATmega328P-PU</td>
</tr>
<tr class="even">
<td>Operating Voltage</td>
<td>5V</td>
</tr>
<tr class="odd">
<td>Input Voltage (recommended)</td>
<td>DC7-12V</td>
</tr>
<tr class="even">
<td>Digital I/O Pins</td>
<td><p>14 (D0-D13)</p>
<p>(of which 6 provide PWM output)</p></td>
</tr>
<tr class="odd">
<td>PWM Digital I/O Pins</td>
<td>6 (D3, D5, D6, D9, D10, D11)</td>
</tr>
<tr class="even">
<td>Analog Input Pins</td>
<td>6 (A0-A5)</td>
</tr>
<tr class="odd">
<td>DC Current per I/O Pin</td>
<td>20 mA</td>
</tr>
<tr class="even">
<td>DC Current for 3.3V Pin</td>
<td>50 mA</td>
</tr>
<tr class="odd">
<td>Flash Memory</td>
<td>32 KB (ATmega328P-PU) of which 0.5 KB used by bootloader</td>
</tr>
<tr class="even">
<td>SRAM</td>
<td>2 KB (ATmega328P-PU)</td>
</tr>
<tr class="odd">
<td>EEPROM</td>
<td>1 KB (ATmega328P-PU)</td>
</tr>
<tr class="even">
<td>Clock Speed</td>
<td>16 MHz</td>
</tr>
<tr class="odd">
<td>LED_BUILTIN</td>
<td>D13</td>
</tr>
</tbody>
</table>

3)  **Installing V4.0 board Driver**

Let’s install the driver of keyestudio V4.0 board. The USB-TTL chip on
V4.0 board adopts CP2102 serial chip. The driver program of this chip is
included in Arduino 1.8 version and above, which is convenient. Plug on
USB port of board, the computer can recognize the hardware and
automatically install the driver of CP2102.

![](/media/5a7574db1405f5759eaa51fd01ac45bc.png)

If install unsuccessfully, or you intend to install manually, open the
device manager of computer. Right click Computer----- Properties-----
Device Manager![](/media/afa5b0dde9342bd7ad9f385333cb6f55.png)

There is a yellow exclamation mark on the page, which implies installing
unsuccessfully. Then we double click the hardware and update the driver.

![](/media/c26ca0ef1bf1506c815b6e3e239cf525.png)

Click “OK” to enter the following page, click “browse my computer for
updated driver software”, find out the installed or downloaded ARDUINO
software. As shown below:

![](/media/4ec7a5ea3c8a1fd9663eef4768b687c5.png)

There is a DRIVERS folder in Arduino software installed
package（![](/media/f50a31a59716594afbd7c2254cfd521e.png)）, open driver folder and you can see
the driver of CP210X series chips.

![](/media/6b2096635947dee069104f6032b6fd15.png)
![](/media/f4b45a57d6b1e965d611b14915e7b440.png)

We click “Browse”, then find out the driver folder, or you could enter
“driver” to search in rectangular box, then click “next”, the driver
will be installed successfully. (I place Arduino software folder on the
desktop, you could follow my way)

![](/media/417de936fa9720c7a7427c4d07718292.png)

Open device manager, we will find the yellow exclamation mark disappear.
The driver of CP2102 is installed successfully.

> ![](/media/efce0ba96c48d853f302730b4d481ee9.jpeg)

![](/media/9b8ddc1c8af12e5f363817d49cea8571.png)

4)  **Start the first program**

Click “Open”→ sample → arduino→ Arduino → 01 IN-OUT→01-LED Blink.mix

![](/media/b8191b5c11060a48ca25c2d605a57183.png)

The corresponding board and COM port will be shown after setting board
and COM port.

![](/media/c6ae6346cfadc1500c91cd9096b835a1.png)

Click **Compile** to start compiling the program, check errors.

![](/media/3cc4f50c5a62d3356fc0c5cc9af85643.png)

Click **Upload** to upload the program, upload successfully.

![](/media/f01375e7ffb9caa13906b04ec77ed381.png)

After uploading the program successfully, the onboard LED lights up for
1s, lights off for 1s. Congratulations, you finish the first program.

6.  **Projects：**

Note: (G), marked on each sensor and module, is the negative pole and
connected to“G”, ”-”or “GND”on the sensor shield or control board ; (V)
is the positive pole and linked with V , VCC, + or 5V on the sensor
shield or control board.

**Project 1****: LED Blinks**

(1) Description：

![](/media/ae87aea86f6c7e427f7adfc0e7c0efe3.png)

For starters and enthusiasts, LED Blink is a fundamental program. LED,
the abbreviation of light emitting diodes, consists of Ga, As, P, N
chemical compounds and so on. The LED can flash in diverse colors by
altering the delay time in the test code. When in control, power on GND
and VCC, the LED will be on if S end is in high level; nevertheless, it
will go off.

![](/media/0ea85307e1317c25f2a8d92f25319aa8.png)(2)Parameters：

Control interface: digital port

Working voltage: DC 3.3-5V

Pin spacing: 2.54mm

LED display color: yellow

(3) Components Needed:

<table>
<tbody>
<tr class="odd">
<td>Keyestudio V4.0 Development Board *1</td>
<td><p>L298P Motor Driver </p>
<p>Shield*1</p></td>
<td>Yellow LED Module*1</td>
</tr>
<tr class="even">
<td><img src="/media/8ecfc7e4f74bd2001452e33f74eace2e.png" style="width:1.74097in;height:1.25694in" /></td>
<td><img src="/media/4ebdedd20a23f95ce5ae9c0a4d124a81.png" style="width:2.01042in;height:1.61458in" /></td>
<td><img src="/media/0b130b1b8eb4e626a9cad08906af2ef5.png" style="width:2.13889in;height:1.70486in" /></td>
</tr>
<tr class="odd">
<td>3P-3P XH2.54 to 2.54 Dupont Wire（Yellow-Red-Black)</td>
<td>USB Cable*1</td>
<td></td>
</tr>
<tr class="even">
<td><img src="/media/6a1c8e7c27ca08c62ac0c30a0dbd4578.png" style="width:0.87986in;height:1.70417in" /></td>
<td><img src="/media/4f8d5af6dee9016b45d975adb2391d37.png" style="width:1.80208in;height:0.66667in" /></td>
<td></td>
</tr>
</tbody>
</table>

(4) Motor Drive Shield V2：

There are many ways to drive a motor. Our robot car uses the most common
solution--L298P--which is an excellent high-power motor driver IC
produced by STMicroelectronics. It can directly drive DC motors,
two-phase and four-phase stepping motors. The driving current is up to
2A, and the output terminal of motor adopts eight high-speed Schottky
diodes as protection.

We designed a shield based on the circuit of L298p.

The stacked design reduces the technical difficulty of using and driving
the motor.

![](/media/693acafee3fa4f31c8067009b193f2b1.png)

5)  Connection Diagram：

![](/media/d4b4ac75507402fce61ee29ed00ff7a8.png)

LED is connected to D3 port, and remember to install jumper caps onto
the shield

(6)Test Code：

The program will be generated if you find the following file and drag it
into Mixly software.

|           |                                                        |                         |
| --------- | ------------------------------------------------------ | ----------------------- |
| File Type | Route                                                  | File Name               |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_1\_LED Blinks | lesson\_1.1\_LED Blinks |

You could edit code step by step as follows:

1.  Click“robot”to choose Mini Tank Robot V3![](/media/2858a9cf7fbf16f11105bdf0e13ea8d8.png)
    
    （2）To find and drag![](/media/d8948444bdcbe5b7c21bbea63a6728bd.png) and the S end of yellow
    LED is connected to D3 of sensor shield

（3）Copy ![](/media/d8948444bdcbe5b7c21bbea63a6728bd.png) once，click the little triangle
behind“HIGH”to choose”HIGH”，and others remain unchanged; click
“Control”to find and drag![](/media/b33422dd8f4a5af9ce2008cb6b537f64.png) and keep it the
same; ![](/media/204ee5432597021a565bebc8d6eb0ba2.png)

Copy ![](/media/204ee5432597021a565bebc8d6eb0ba2.png)once，click the little triangle behind
“HIGH” to choose“LOW”，and others remain unchanged;

![](/media/38836e2f59503b1114ae329e47666022.png)

Complete code：

![](/media/38836e2f59503b1114ae329e47666022.png)

(7)Test Results：

Upload the program, LED blinks at the interval of 1s.

8)  Extension Practice：
    
    We have succeeded in blinking LED. Next, let’s observe what will
    happen to the LED if we modify pins and delay time.

The program will be generated if you find the following file and drag it
into Mixly software.

|           |                                                        |                         |
| --------- | ------------------------------------------------------ | ----------------------- |
| File Type | Route                                                  | File Name               |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_2\_LED Blinks | lesson\_1.2\_LED Blinks |

You could edit code step by step as follows:

Complete Program：

![](/media/1db3205c80bd5183154b6cb95d3f3ae7.png)

The LED flickers faster through the test result, therefore, pins and
delay time affect flash frequency.

**Project 2: Adjust LED Brightness**

(1) Description：

In previous lesson, we control LED on and off and make it blink.

In this project, we will control LED’s brightness through PWM simulating
breathing effect. Similarly, you can change the step length and delay
time in the code so as to demonstrate different breathing effects.

PWM is a means of controlling the analog output via digital means.
Digital control is used to generate square waves with different duty
cycles (a signal that constantly switches between high and low levels)
to control the analog output.In general, the input voltages of ports are
0V and 5V. What if the 3V is required? Or a switch among 1V, 3V and
3.5V? We cannot change resistors constantly. For this reason, we resort
to PWM.

![](/media/bbcfcb9ae56abb7e80ee587246fc4be9.GIF)

For Arduino digital port voltage outputs, there are only LOW and HIGH
levels, which correspond to the voltage outputs of 0V and 5V
respectively. You can define LOW as“0”and HIGH as“1’, and let the
Arduino output five hundred‘0’or‘1’within 1 second. If output five
hundred‘1’, that is 5V; if all of which is‘0’,that is 0V; if output 250
01 pattern, that is 2.5V.

This process can be likened to showing a movie. The movie we watch are
not completely continuous. Actually, it generates 25 pictures per
second, which cannot be told by human eyes. Therefore, we mistake it as
a continuous process. PWM works in the same way. To output different
voltages, we need to control the ratio of 0 and 1. The more‘0’or‘1’
output per unit time, the more accurate the control.

PWM is a technology to obtain analog quantity through digital method.
Digital control forms a square wave, and the square wave signal only has
two states of turning on and off (that is, high or low levels). By
controlling the ratio of the duration of turning on and off, a voltage
varying from 0 to 5V can be simulated. The time turning on(academically
referred to as high level) is called pulse width, so PWM is also called
pulse width modulation.

Through the following five square waves, let’s acknowledge more about
PWM.

![](/media/553f3d1b6ca04e1aa0479841dd075fa2.png)

In the above figure, the green line represents a period, and value of
analogWrite() corresponds to a percentage which is called Duty Cycle as
well. Duty cycle implies that high-level duration is divided by
low-level duration in a cycle. From top to bottom, the duty cycle of
first square wave is 0% and its corresponding value is 0. The LED
brightness is lowest, that is, turn off. The more time high level lasts,
the brighter the LED. Therefore, the last duty cycle is 100%, which
correspond to 255, LED is brightest. 25% means darker.

PWM mostly is used for adjusting the LED brightness or rotation speed of
motor.

It plays vital role in controlling smart robot car. I believe that you
can’t wait to enter next project.

(2) Parameters：

![](/media/0ea85307e1317c25f2a8d92f25319aa8.png)

Control interface: Digital port 3

Working voltage: DC 3.3-5V

Pin spacing: 2.54mm

LED display color: yellow

(3)Components Needed:：

<table>
<tbody>
<tr class="odd">
<td>Keyestudio V4.0 Development Board *1</td>
<td><p>L298P Motor </p>
<p>Driver </p>
<p>Shield*1</p></td>
<td>Yellow LED Module*1</td>
</tr>
<tr class="even">
<td><img src="/media/8ecfc7e4f74bd2001452e33f74eace2e.png" style="width:1.74097in;height:1.25694in" /></td>
<td><img src="/media/4ebdedd20a23f95ce5ae9c0a4d124a81.png" style="width:1.54653in;height:1.24236in" /></td>
<td><img src="/media/0b130b1b8eb4e626a9cad08906af2ef5.png" style="width:2.13889in;height:1.70486in" /></td>
</tr>
<tr class="odd">
<td>3P-3P XH2.54 to 2.54 Dupont Wire（Yellow-Red-Black)*1</td>
<td>USB Cable*1</td>
<td></td>
</tr>
<tr class="even">
<td><img src="/media/6a1c8e7c27ca08c62ac0c30a0dbd4578.png" style="width:0.87986in;height:1.70417in" /></td>
<td><img src="/media/4f8d5af6dee9016b45d975adb2391d37.png" style="width:1.80208in;height:0.66667in" /></td>
<td></td>
</tr>
</tbody>
</table>

(4)Connection Diagram：

![](/media/d4b4ac75507402fce61ee29ed00ff7a8.png)

(5)Test Code：

The program will be generated if you find the following file and drag it
into Mixly software.

|           |                                                                   |                                    |
| --------- | ----------------------------------------------------------------- | ---------------------------------- |
| File Type | Route                                                             | File Name                          |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_2\_Adjust LED Brightness | lesson\_2.1\_Adjust LED Brightness |

You could edit code step by step as follows:

（1）Click"Control"to find and drag![](/media/d551cec2b04e244ba508705b13925c97.png)，change the 1
in front of “to” to 0， the 10 behind“to”to 255，and others remain
unchanged;

![](/media/ed65220e4e5a60e70a5ce4ba2f2d0bb0.png)

（2）Click“Mini Tank Robot V3”of “robot”to find and
drag![](/media/a0a309c00c343f70d5417a14a5bba47b.png)，and alter the default “255”according to the
PMW to output;

(3) Click![](/media/a0a309c00c343f70d5417a14a5bba47b.png) to change 255 to
i：![](/media/aef5101f7b5f5d2a84d74dcc1c97f266.png);

(4) Click “Control”to find and
drag![](/media/ed65220e4e5a60e70a5ce4ba2f2d0bb0.png); change delay
in 1000ms to 5ms;

![](/media/79bfb19dc6332f9817711dda59d115a5.png)

（6）Copy ![](/media/79bfb19dc6332f9817711dda59d115a5.png)once， change the 0 before “to”to 255,
the 255 to 0，and the 1 behind step to -1，and others remain unchanged;
![](/media/616d732861aa7a058b9949c807c6b8d3.png)

Complete code：

![](/media/3fb60bc6cfc945c9157e2bac46e7ced0.png)

2)  Test Results：

Upload test code successfully, LED gradually changes from bright to
dark, like human’s breath, rather than turning on and off immediately.

(8) Extension Practice：

Let’s modify the value of delay and remain the pin unchanged, then
observe how LED changes.

The program will be generated if you find the following file and drag it
into Mixly software.

|           |                                                                   |                                    |
| --------- | ----------------------------------------------------------------- | ---------------------------------- |
| File Type | Route                                                             | File Name                          |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_2\_Adjust LED Brightness | lesson\_2.2\_Adjust LED Brightness |

You could edit code step by step as follows:

Complete code：

![](/media/c065d02a5a60b7e8b14fe81a19098a9f.png)

Upload the code to development board, LED flashes more slowly.

## **Project 3: Photoresistor** 

(1) Description：

The photosensitive resistor is a special resistor made of a
semiconductor material such as a sulfide or selenium, and a
moisture-proof resin is also coated with a photoconductive effect. The
photosensitive resistance is most sensitive to the ambient light,
different illumination strength, and the resistance of the
photosensitive resistance is different. We use the photosensitive
resistance to design the photosensitive resistor module. The module
signal is connected to the microcontroller analog port. When the light
intensity is stronger, the larger the analog port voltage, that is, the
simulation value of the microcontroller is also large; in turn, when the
light intensity is weaker, the smaller the analog port voltage, that is,
the simulation value of the microcontroller is also small. . In this
way, we can read the corresponding analog value using the photosensitive
resistor module, and the intensity of the light in the inductive
environment.

(2)Parameters：

![](/media/0d9daba6454ef099fe1ceb0e6cb56ec4.png)

Photosensitive resistance resistance value: 5K Ou-0.5m

Interface type: simulation port A0, A1

Working voltage: 3.3V-5V

Pin spacing: 2.54mm

(3)Components Needed:：

<table>
<tbody>
<tr class="odd">
<td>Keyestudio V4.0 Development Board *1</td>
<td><p>L298P Motor </p>
<p>Driver </p>
<p>Shield*1</p></td>
<td>Yellow LED Module*1</td>
<td>3P-3P XH2.54 to 2.54 Dupont Wire（Yellow-Red-Black)*1</td>
</tr>
<tr class="even">
<td><img src="/media/8ecfc7e4f74bd2001452e33f74eace2e.png" style="width:1.43403in;height:1.03542in" /></td>
<td><img src="/media/4ebdedd20a23f95ce5ae9c0a4d124a81.png" style="width:1.45833in;height:1.17153in" /></td>
<td><img src="/media/0b130b1b8eb4e626a9cad08906af2ef5.png" style="width:1.13889in;height:1.02014in" /></td>
<td><img src="/media/6a1c8e7c27ca08c62ac0c30a0dbd4578.png" style="width:0.68472in;height:1.32639in" /></td>
</tr>
<tr class="odd">
<td>Photoresistor *1</td>
<td>3P-3P XH2.54 to PH2.0 Dupont Wire（Yellow-Red-Black)*1</td>
<td>USB Cable*1</td>
<td></td>
</tr>
<tr class="even">
<td><img src="/media/9b0193c19a5a7392052adffdfc4e10c2.png" style="width:1.17986in;height:1.09722in" /></td>
<td><img src="/media/f493282b2846fe01fe6861126b368480.png" style="width:0.93958in;height:1.60556in" /></td>
<td><img src="/media/4f8d5af6dee9016b45d975adb2391d37.png" style="width:1.20486in;height:0.44583in" /></td>
<td></td>
</tr>
</tbody>
</table>

(4)Connection Diagram

![](/media/ae641c0d437fc4bac686039086e8d697.png)

We connect a photoresistor to A0 and make an experiment.

Let’s read its analog value first.

6)  Test Code：
    
    The program will be generated if you find the following file and
    drag it into Mixly software.

|           |                                                            |                             |
| --------- | ---------------------------------------------------------- | --------------------------- |
| File Type | Route                                                      | File Name                   |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_3\_ Photoresistor | lesson\_3.1\_ Photoresistor |

You could edit code step by step as follows:

（1）Click “Control”to find and drag![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png); please note
that the code in ![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png)only runs once;

（2）Click“Serial”to find and
drag![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png);

![](/media/ab706faf61854a4bb27663a5cac4325c.png)

2.  Click“Mini Tank Robot V3”of “robot”to find and
    drag![](/media/7bbb1777c0b3d895c9aa18b0697e64e9.png)，click the little triangle
    behind“Left”to choose “Left”(if A1 is connected then choose
    “Right”.)

（4）Click“SerialPort”to find and drag![](/media/36812f244ceb4e3b789290aecde17332.png) and drag
![](/media/d6eaacaaf7d6fa147ec1f653d24c9083.png);

（5）Click “Control”to find and drag![](/media/b36d41f8c3f679d192b1f7a4045b2f50.png) and change
delay in 1000ms to 100ms:

![](/media/5cc8ac16a7aa062d9e6263c8244ef994.png)

Complete code：

![](/media/57799a5add2bf6e2b874d1cee7305f53.png)

(6)Test Results：

Upload test code to the development board and open serial port monitor.

![](/media/7c6ae738366c565c9a952877b1aebb09.png)

When covering it, the value gets smaller; if not, the value gets larger.

(7)Extension Practice:

We know the value of the photoresistor. How about controlling the LED’s
brightness by it?

![](/media/d4549a47bdcd40157756b09f9b93bdf8.png)

The LED’s brightness is controlled by PWM. Therefore, we connect the LED
to PMW pin(pin 3) of the shield.

The program will be generated if you find the following file and drag it
into Mixly software.

|           |                                                            |                            |
| --------- | ---------------------------------------------------------- | -------------------------- |
| File Type | Route                                                      | File Name                  |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_3\_ Photoresistor | lesson\_3.2\_Photoresistor |

You could edit code step by step as follows:

（1）Click “Control”to find and drag![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png);

（2）Click“serial”to find and
drag![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png);

![](/media/ab706faf61854a4bb27663a5cac4325c.png)

（3）Click“Mini Tank Robot V3”of “robot”to find and
drag，![](/media/c55f0f5df7801ba70faa4168126d880a.png);

（4）Click“SerialPort”to find and drag![](/media/36812f244ceb4e3b789290aecde17332.png)

（5）Click“Mini Tank Robot V3”of “robot”to find and
drag![](/media/36812f244ceb4e3b789290aecde17332.png)中; click the
little triangle to choose Left（if A1is connected then choose Right）:

![](/media/8b0f1c9a6e0b323643a97fcbc09ffece.png);

click“Math”to find and drag![](/media/670d1459b1080820ca7d4d4ee9ab64f0.png) to the 0 behind
value; copy![](/media/8b0f1c9a6e0b323643a97fcbc09ffece.png) and
place it in front of from; change the 1 in front of “to”to 0, 100 to
1023；change the 1behind “to” to 0，1000 to 255;

![](/media/fa975a8b657dd075edebd62d5be2b3d5.png)

（7）Click “Control”to find and drag![](/media/b36d41f8c3f679d192b1f7a4045b2f50.png)，and change
delay in 1000ms to 50ms;

Complete code：

![](/media/6147751304163bbab4153140eb817e30.png)

Upload code to the development board, then cove the photoresistor and
observe the LED’s brightness.

**Project 4: Line Tracking Sensor**

(1) Description：

![](/media/d37c24e508361ab86b019135ab6950a9.png)

The tracking sensor is actually an infrared sensor. The component used
here is the TCRT5000 infrared tube.

Its working principle is to use different reflectivity of infrared light
to colors, then convert the strength of the reflected signal into a
current signal.

During the process of detection, black is active at HIGH level while
white is active at LOW level. The detection height is 0-3 cm.

Keyestudio 3-channel line tracking module has integrated 3 sets of
TCRT5000 infrared tube on a single board, which is more convenient for
wiring and control.

By rotating the adjustable potentiometer on the sensor, it can adjust
the detection sensitivity of the sensor.

2)  Parameters：

Operating Voltage: 3.3-5V (DC)

Interface: 5PIN

Output Signal: Digital signal

Detection Height: 0-3 cm

Special note: before testing,rotate the potentiometer on the sensor to
adjust the detection sensitivity. When adjust the LED at the threshold
between ON and OFF, the sensitivity is the best.

3)  Components Needed:：

<table>
<tbody>
<tr class="odd">
<td>Keyestudio V4.0 Development Board *1</td>
<td><p>L298P Motor </p>
<p>Driver Shield</p></td>
<td>Yellow LED Module*1</td>
<td>3P-3P XH2.54 to 2.54 Dupont Wire（Yellow-Red-Black)*1</td>
</tr>
<tr class="even">
<td><img src="/media/8ecfc7e4f74bd2001452e33f74eace2e.png" style="width:1.36181in;height:0.98333in" /></td>
<td><img src="/media/4ebdedd20a23f95ce5ae9c0a4d124a81.png" style="width:1.55694in;height:1.25069in" /></td>
<td><img src="/media/0b130b1b8eb4e626a9cad08906af2ef5.png" style="width:1.64861in;height:1.31458in" /></td>
<td><img src="/media/6a1c8e7c27ca08c62ac0c30a0dbd4578.png" style="width:0.72431in;height:1.40278in" /></td>
</tr>
<tr class="odd">
<td>Tank Robot Chassis *1</td>
<td>5P JST-PH2.0MM Dupont Wire*1</td>
<td>USB Cable*1</td>
<td></td>
</tr>
<tr class="even">
<td><img src="/media/686670898705c411f9affbd3e2e78c61.png" style="width:1.31667in;height:1.05486in" /></td>
<td><img src="/media/9be46d555e20cfcf32b981ccd90a376f.png" style="width:0.82083in;height:1.54653in" /></td>
<td><img src="/media/4f8d5af6dee9016b45d975adb2391d37.png" style="width:1.47708in;height:0.54653in" /></td>
<td></td>
</tr>
</tbody>
</table>

Note: the line tracking sensor is installed under the bottom of the
robot.

4)  Connection Diagram：

![](/media/99fbd4f55c270c0a29ce284dbdf58c75.png)

5)  Test Code：
    
    The program will be generated if you find the following file and
    drag it into Mixly software.

|           |                                                                  |                                   |
| --------- | ---------------------------------------------------------------- | --------------------------------- |
| File Type | Route                                                            | File Name                         |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_4\_Line Tracking Sensor | lesson\_4.1\_Line Tracking Sensor |

You could edit code step by step as follows:

1.  Click“Variables”to find and drag![](/media/88e7b7401b4848dd5a179a42bf3c3510.png)and
    click”Math” to drag ![](/media/3be2c3159f1535aa7f5bb08c71329a4a.png);change item to
    L\_val、M\_val、R\_val and change “int”：![](/media/8b1fc74625ebc0232450c0aaf5e49eb3.png);

（2）Click“Serial”to find and
drag![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png);

![](/media/ab706faf61854a4bb27663a5cac4325c.png)

（3）Click“Variables”to find and
drag![](/media/9456255541eee2077be0aaaa0839ddf1.png);click“Mini
Tank Robot V3”of “Robot”to choose![](/media/eb7e165b2651c40b6b86513ad9a139cf.png);copy it twice;
click the little triangle to
select“center\_tracking”and“right\_tracking”respectively and
place them into the corresponding variable:![](/media/cd9a046a30d8396f94c465cb6b68dccd.png);

（4）Click“SerialPort”to find and drag![](/media/b4102d16e92bebdecaf1c2f428d01539.png);

（5）Click“Variables”to find and
drag![](/media/b4102d16e92bebdecaf1c2f428d01539.png);click“Text”to
find![](/media/da9b38eb014eefa355cb169316536d4a.png) and change “hello” to “ “(two
spaces):![](/media/3c0087ea0a98f1ec5f7149f4b579111f.png)for newline
printing;

（6）Click “Control”to find and drag![](/media/b36d41f8c3f679d192b1f7a4045b2f50.png) and change
delay in 1000ms to 100ms.

Complete code：

![](/media/d9a544195d4c4ff0eeae1aaf8b774075.png)

6)  Test Results：

Upload the code on development board, open serial monitor to check line
tracking sensors. And the displayed value is 1(high level) when no
signals are received. The value shifts into 0 when the sensor is covered
with paper.

![](/media/f31ddfcfed9e4d9175cdb0c1f0c05bc9.png)

(7)Extension Practice：

After knowing its working principle, you can connect an LED to D3 so as
to control LED by line tracking sensor.

![](/media/7c12f5aea1113f8d0df322255388e5d4.png)

The program will be generated if you find the following file and drag it
into Mixly software.

|           |                                                                  |                                   |
| --------- | ---------------------------------------------------------------- | --------------------------------- |
| File Type | Route                                                            | File Name                         |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_4\_Line Tracking Sensor | lesson\_4.2\_Line Tracking Sensor |

You could edit code step by step as follows:

Complete code：

![](/media/50d6159b11cc9a8638164a7364aac0e2.png)

**Project 5: Flame Sensor**

![](/media/7cf8c051f489b06119c262cd059c23c5.jpeg)

1)  Description：

The flame sensor uses IR receiving tube to detect flames, converts the
brightness of the flame into signals with high and low levels, input
them into the central processor. The corresponding program processing.
In both flames close to and without flames, the voltage value of the
analog port is varied.

If there is no flame, the analog port is about 0.3V; when there is a
flame, the analog port is 1.0V. The closer the flame is , the more the
voltage value is. It can be used to detect the fire source or make a
smart robot.

Note the probe of flame sensors only bears the temperature between -25
℃and ～85℃

In the process of use, pay attention to keep the flame sensor in certain
distance to avoid getting damaged.

2)  Parameters：

![](/media/e2c77a94067ccd3e634fb3674c02b80f.png)

Working voltage: 3.3V-5V (DC)

Current: 100mA

Maximum power: 0.5W

Work temperature: -10 ° C to +50 degrees Celsius

Sensor size: 31.6mmx23.7mm

Interface: 4pin turn 3PIN interface

Output signal: analog signals A1, A2

3)  Components Needed:

<table>
<tbody>
<tr class="odd">
<td>Keyestudio V4.0 Development Board *1</td>
<td><p>L298P Motor </p>
<p>Driver Shield</p></td>
<td>Yellow LED Module*1</td>
<td>3P-3P XH2.54 to 2.54 Dupont Wire（Yellow-Red-Black)*1</td>
</tr>
<tr class="even">
<td><img src="/media/8ecfc7e4f74bd2001452e33f74eace2e.png" style="width:1.46875in;height:1.06042in" /></td>
<td><img src="/media/4ebdedd20a23f95ce5ae9c0a4d124a81.png" style="width:1.27986in;height:1.02778in" /></td>
<td><img src="/media/0b130b1b8eb4e626a9cad08906af2ef5.png" style="width:1.16667in;height:0.85417in" /></td>
<td><img src="/media/6a1c8e7c27ca08c62ac0c30a0dbd4578.png" style="width:0.87986in;height:1.70417in" /></td>
</tr>
<tr class="odd">
<td>Flame Sensor*1</td>
<td><p>4P-3P XH2.54 to PH2.0</p>
<p>Dupont Wire（Yellow-Red-Black)</p></td>
<td>USB Cable*1</td>
<td></td>
</tr>
<tr class="even">
<td><img src="/media/ecf808f114234039582880ab4682c4e6.png" style="width:1.42014in;height:1.01319in" /></td>
<td><img src="/media/7856a38f34cdeb19966cd0fb99b55f85.png" style="width:1.18403in;height:1.47292in" /></td>
<td><img src="/media/4f8d5af6dee9016b45d975adb2391d37.png" style="width:1.11944in;height:0.41389in" /></td>
<td></td>
</tr>
</tbody>
</table>

4)  Connection Diagram：

![](/media/40930671badca28f9120fd80e47f3496.png)

We can use two flame sensors to make a fire-distinguishing robot car.
But in this experiment, we aim to read its analog value

5)  Test Code：
    
    The program will be generated if you find the following file and
    drag it into Mixly software.

|           |                                                          |                           |
| --------- | -------------------------------------------------------- | ------------------------- |
| File Type | Route                                                    | File Name                 |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_5\_Flame Sensor | lesson\_5.1\_Flame Sensor |

You could edit code step by step as follows:

1.  Click “Control”to find and
    drag![](/media/fd08de0f00082d1ce4c623e2c14f4acb.png);click”SerialPort” to
    drag![](/media/9a7541ac9f4df59d489fffd4e7458fc3.png)into
    
    ![](/media/34b1558af84785a4840769c374785778.png);

（2）Click the “Mini Tank Robot V3”of “robot” to
drag![](/media/42a751fac73730ab3a8eab0d0b2a612e.png);click the little triangle of “Left” to
select Left（if A1 is connected then select Right）;click“SerialPort”to
find and drag![](/media/b779d3ae1fa66194e2d44d47ed8017cd.png)and
put![](/media/681948229e1407ef4b6d0376f1aa041b.png);

（3）Click “Control”to find and drag![](/media/b36d41f8c3f679d192b1f7a4045b2f50.png) and change
delay in 1000ms to 100ms;

Complete code：

![](/media/07484236cd79875690edded68e236af5.png)

6)  Test Results：

Wire up components, burn the code, open the serial monitor and set the
baud rate to 9600.

You can view the simulation value of flame sensor.

The closer the flame, the smaller the simulation value.

Adjust the potentiometer on the module to maintain D1 at the critical
point. When the sensor does not detect flame, the D1 will be off, but if
the sensor detects flame, the D1 will be on.

![](/media/aab3ea75a36564c4aff04b13a913c0da.png)

7)  Extension Practice:：

Next, connect an LED to pin 3 and we can control it by a flame sensor,
as shown below;

![](/media/3dcc4e980c7ff7418ea7eda1991a9bd2.png)

The program will be generated if you find the following file and drag it
into Mixly software.

|           |                                                           |                            |
| --------- | --------------------------------------------------------- | -------------------------- |
| File Type | Route                                                     | File Name                  |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_5\_ Flame Sensor | lesson\_5.2\_ Flame Sensor |

You could edit code step by step as follows:

![](/media/71e2d52e9da27d6a6bbee23e3395284c.png)

**Project 6: Fan**

(1) Description：

![](/media/4afc1c9720d36beba8adfac0ee22ff10.png)

This fan module uses a HR1124S motor-controlling chip, a single-channel
H-bridge driver chip containing a low-conductivity resistance PMOS and
NMOS power tubes. The low-conducting resistance can ease the power
consumption, contributing to the safe work of the chip for longer time.

In addition, its low standby current and low static working current
makes itself apply to toys. We can control the rotation direction and
speed of the fan by outputting IN + and IN- signals and PWM signals.

![](/media/0ea85307e1317c25f2a8d92f25319aa8.png)(2)Parameters：

Working voltage: 5V

Current: 200mA

Maximum power: 2W

Work temperature: -10 ° C to +50 degrees Celsius

Size: 47.6mm \* 23.8mm

2)  Components Needed:：

<table>
<tbody>
<tr class="odd">
<td>Keyestudio V4.0 Development Board *1</td>
<td><p>L298P Motor </p>
<p>Driver Shield</p></td>
<td>130 Motor *1</td>
<td><p>4P XH2.54 to PH2.0</p>
<p>Dupont Wire（Green-Blue-Red-Black) *1</p></td>
</tr>
<tr class="even">
<td><img src="/media/8ecfc7e4f74bd2001452e33f74eace2e.png" style="width:1.34306in;height:0.97014in" /></td>
<td><img src="/media/4ebdedd20a23f95ce5ae9c0a4d124a81.png" style="width:1.3375in;height:1.07431in" /></td>
<td><img src="/media/ec37bc098e230744bac2fb22b91c503e.png" style="width:0.94028in;height:0.77986in" /></td>
<td><img src="/media/26ed32284d40ce65cc336eb952755e64.png" style="width:1.23403in;height:1.31458in" /></td>
</tr>
<tr class="odd">
<td>Flame Sensor*1</td>
<td>4P-3P XH2.54 to PH2.0 Dupont Wire（Yellow-Red-Black)</td>
<td>USB Cable*1</td>
<td>Tank Robot Chassis</td>
</tr>
<tr class="even">
<td><img src="/media/ecf808f114234039582880ab4682c4e6.png" style="width:1.4625in;height:0.79722in" /></td>
<td><img src="/media/7856a38f34cdeb19966cd0fb99b55f85.png" style="width:1.34861in;height:1.44028in" /></td>
<td><img src="/media/4f8d5af6dee9016b45d975adb2391d37.png" style="width:1.13819in;height:0.42153in" /></td>
<td><img src="/media/686670898705c411f9affbd3e2e78c61.png" style="width:1.62222in;height:1.21806in" /></td>
</tr>
</tbody>
</table>

The fan module needs driving by large current; therefore, we install a
battery holder.

(4)Connection Diagram

![](/media/16d538040098004c0b4965c3a1e12c14.png)

The pin GND, VCC, IN+ and IN- of the fan module are connected to pin G,
V, 12 and 13 of the shield.

3)  Test Code：
    
    The program will be generated if you find the following file and
    drag it into Mixly software.

|           |                                                 |                  |
| --------- | ----------------------------------------------- | ---------------- |
| File Type | Route                                           | File Name        |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_6\_Fan | lesson\_6.1\_Fan |

You could edit code step by step as follows:

（1）Click the “Mini Tank Robot V3”of “robot”to
drag![](/media/1a8a2ff3f06321b1c742bd2a43ad2d8f.png); copy it twice; click the little triangle
of”forward” to select stop![](/media/f88b1a6813307a4f6d2a7780c7141331.png) and
back![](/media/d2fbf95114f1bb17ad1ee19b7648759c.png) respectively;

（2）Click “Control”to find and drag![](/media/b36d41f8c3f679d192b1f7a4045b2f50.png) and change
delay in 1000ms to 2000ms.

Complete code：

![](/media/8ad1c77984f344e2850c32e6314299ef.png)

4)  Test Results：

Upload code, wire up components and plug in power. The small fan will
turn clockwise for 2000ms, stop for 2000ms, and rotate anticlockwise for
2000ms.

5)  Extension Practice:

We have understood the working principle of the flame sensor. Next, hook
up a flame sensor to pin A0 as shown below. Then control the fan to blew
out fire with the flame sensor.

![](/media/6481e392363896712bf854f06ab466ab.png)

The program will be generated if you find the following file and drag it
into Mixly software.

|           |                                                 |                  |
| --------- | ----------------------------------------------- | ---------------- |
| File Type | Route                                           | File Name        |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_6\_Fan | lesson\_6.2\_Fan |

You could edit code step by step as follows:

![](/media/c23c0a12af8845ef3c192d6575cc0348.png)

**Project 7: Servo Control**

![](/media/ae51208a3f560ad6edefe370eb588c13.png)

1)  Description

Servo motor is a position control rotary actuator. It mainly consists of
a housing, a circuit board, a core-less motor, a gear and a position
sensor. Its working principle is that the servo receives the signal sent
by MCU or receiver and produces a reference signal with a period of 20ms
and width of 1.5ms, then compares the acquired DC bias voltage to the
voltage of the potentiometer and obtain the voltage difference output.

In general, servo has three lines in brown, red and orange. The brown
wire is grounded, the red one is a positive pole line and the orange one
is a signal line.

![](/media/69be958142b773acdae33eeef12afed7.png)

The rotation angle of servo motor is controlled by regulating the duty
cycle of PWM (Pulse-Width Modulation) signal. The standard cycle of PWM
signal is 20ms (50Hz). Theoretically, the width is distributed
between 1ms-2ms, but in fact, it's between 0.5ms-2.5ms. The width
corresponds the rotation angle from 0° to 180°. But note that for
different brand motors, the same signal may have different rotation
angles. 

![](/media/49467dfa70799401a5a5acc691014aee.png)

The angle of the servo:

![](/media/ddc74f62dc936c925d28d70a1a9c2214.png)

2)  Parameters：

Working voltage: DC 4.8V \~ 6V

Operating angle range: about 180 ° (at 500 → 2500 μsec)

Pulse width range: 500 → 2500 μsec

No-load speed: 0.12 ± 0.01 sec / 60 (DC 4.8V) 0.1 ± 0.01 sec / 60 (DC
6V)

No-load current: 200 ± 20mA (DC 4.8V) 220 ± 20mA (DC 6V)

Stopping torque: 1.3 ± 0.01kg · cm (DC 4.8V) 1.5 ± 0.1kg · cm (DC 6V)

Stop current: ≦ 850mA (DC 4.8V) ≦ 1000mA (DC 6V)

Standby current: 3 ± 1mA (DC 4.8V) 4 ± 1mA (DC 6V)

(3) Components Needed:

<table>
<tbody>
<tr class="odd">
<td>Keyestudio V4.0 Development Board *1</td>
<td><p>L298P Motor </p>
<p>Driver Shield</p></td>
<td>Yellow LED Module*1</td>
<td>3P-3P XH2.54 to 2.54 Dupont Wire（Yellow-Red-Black)*1</td>
</tr>
<tr class="even">
<td><img src="/media/8ecfc7e4f74bd2001452e33f74eace2e.png" style="width:1.21944in;height:0.88056in" /></td>
<td><img src="/media/4ebdedd20a23f95ce5ae9c0a4d124a81.png" style="width:1.26458in;height:0.98264in" /></td>
<td><img src="/media/0b130b1b8eb4e626a9cad08906af2ef5.png" style="width:1.23264in;height:0.99514in" /></td>
<td><img src="/media/6a1c8e7c27ca08c62ac0c30a0dbd4578.png" style="width:0.78889in;height:1.52778in" /></td>
</tr>
<tr class="odd">
<td>HC-SR04 Ultrasonic Sensor*1</td>
<td>4P M-F PH2.0mm to 2.54 Dupont Wire</td>
<td>USB Cable*1</td>
<td>Tank Robot Chassis *1</td>
</tr>
<tr class="even">
<td><img src="/media/b0906d68835b2659491e53a85567569b.png" style="width:1.47569in;height:0.82153in" /></td>
<td><img src="/media/a3d702d65769c0e0b682a77a152ca5cc.png" style="width:0.60417in;height:1.58403in" /></td>
<td><img src="/media/4f8d5af6dee9016b45d975adb2391d37.png" style="width:1.20486in;height:0.44583in" /></td>
<td><img src="/media/686670898705c411f9affbd3e2e78c61.png" style="width:1.44028in;height:1.20069in" /></td>
</tr>
</tbody>
</table>

(4) Connection Diagram：![](/media/9aa3508d69cf0e26ea96f6975c64f2da.png)

Note: The brown, red and orange wire of the servo are respectively
attached to Gnd(G), 5v(V) and 10 of the shield. Remember to connect an
external power because of the high current of the servo. If not, the
development board will be burnt out.

5)  Test Code：
    
    The program will be generated if you find the following file and
    drag it into Mixly software.

|           |                                                           |                          |
| --------- | --------------------------------------------------------- | ------------------------ |
| File Type | Route                                                     | File Name                |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_7\_Servo Control | lesson\_7\_Servo Control |

You could edit code step by step as follows:

1.  Click“Mini Tank Robot V3”of “robot”to find and
    drag![](/media/ff5251e97616ab6a0ed35968c4a09027.png); the number is the angle of the servo;
    
    （2）Click![](/media/b6d2620bfc41e51a7a10a6a96195eb55.png) of “Control”to set the default time
    delay in 1000ms:

![](/media/c3cff3a84da44439d1ccecf63cf78218.png) ;

（3）Copy ![](/media/c3cff3a84da44439d1ccecf63cf78218.png) three times and change the 0 to 90,180
and 0 respectively;and others remain unchanged;

![](/media/6d671188a4cfdc802ff41ff4229e1bb4.png)

Complete code：

![](/media/6d671188a4cfdc802ff41ff4229e1bb4.png)

6)  Test Results：

After uploading the test code and powering it up, the servo rotates to
the angle of 90°,180° and 0° and repeats this pattern.

## 

## **Project 8: Ultrasonic Sensor** 

1)  **Description：**

![](/media/0180b169a1c3b228394b43df704fac32.png)The HC-SR04 ultrasonic sensor uses sonar to
determine distance to an object like bats do. It offers excellent
non-contact range detection with high accuracy and stable readings in an
easy-to-use package. It comes complete with ultrasonic transmitter and
receiver modules.

The HC-SR04 or the ultrasonic sensor is being used in a wide range of
electronics projects for creating obstacle detection and distance
measuring application as well as various other applications. Here we
have brought the simple method to measure the distance with arduino and
ultrasonic sensor and how to use ultrasonic sensor with arduino.

![](/media/9779999818cbbe4e1adf5b57081be431.png)**(2) Specification**

Power Supply :+5V DC

Quiescent Current : \<2mA

Working Current: 15mA

Effectual Angle: \<15°

Ranging Distance : 2cm – 400 cm

Resolution : 0.3 cm

Measuring Angle: 30 degree

Trigger Input Pulse width: 10uS

**(3) Components Needed:**

|                                       |                                    |                          |                                                       |
| ------------------------------------- | ---------------------------------- | ------------------------ | ----------------------------------------------------- |
| Keyestudio V4.0 Development Board \*1 | L298P Motor Driver Shield          | Yellow LED Module\*1     | 3P-3P XH2.54 to 2.54 Dupont Wire（Yellow-Red-Black)\*1 |
| ![](/media/6a1c8e7c27ca08c62ac0c30a0dbd4578.png)                              |
| HC-SR04 Ultrasonic Sensor\*1          | 4P M-F PH2.0mm to 2.54 Dupont Wire | USB Cable\*1             | Tank Robot Chassis \*1                                |
| ![](/media/686670898705c411f9affbd3e2e78c61.png)                              |

**(4) The principle of ultrasonic sensor**

As the above picture shown, it is like two eyes. One is transmitting
end, the other is receiving end.

The ultrasonic module will emit the ultrasonic waves after triggering a
signal. When the ultrasonic waves encounter the object and are reflected
back, the module outputs an echo signal, so it can determine the
distance of the object from the time difference between the trigger
signal and echo signal.

The t is the time that emitting signal meets obstacle and returns. And
the propagation speed of sound in the air is about 343m/s, and distance
= speed \* time. However, the ultrasonic wave emits and comes back,
which is 2 times of distance. Therefore, it needs to be divided by 2,
the distance measured by ultrasonic wave = (speed \* time)/2

1.  Use method and timing chart of ultrasonic module:

2.  Setting the delay time of Trig pin of SR04 to 10μs at least, which
    can trigger it to detect distance.

3.  2\. After triggering, the module will automatically send eight 40KHz
    ultrasonic pulses and detect whether there is a signal return. This
    step will be completed automatically by the module.

4.  3\. If the signal returns, the Echo pin will output a high level,
    and the duration of the high level is the time from the transmission
    of the ultrasonic wave to the return.

|                          |
| ------------------------ |
| ![](/media/ba43be6007d9fe3aab0bb609868af640.png) |

Circuit diagram of ultrasonic sensor:

![](/media/b573604e96ca595da17452d9b126f2ba.png)

5)  **Connection Diagram：**

![](/media/a5bdd6bb9bbe9db82c93e9193cbac4cd.png)

Note: The pin VCC, Trig, Echo and Gnd of the ultrasonic sensor are
respectively connected to 5v(V), 12(S), 13(S) and Gnd(G) of the shield

6)  Test Code：
    
    The program will be generated if you find the following file and
    drag it into Mixly software.

|           |                                                               |                                |
| --------- | ------------------------------------------------------------- | ------------------------------ |
| File Type | Route                                                         | File Name                      |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_8\_Ultrasonic Sensor | lesson\_8.1\_Ultrasonic Sensor |

You could edit code step by step as follows:

（1）Click “Control”to find and drag![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png);

（2）Click“Serial”to find and
drag![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png);

![](/media/ab706faf61854a4bb27663a5cac4325c.png)

（3）Click“Variables”to find and
drag![](/media/1ae07a66a021f66804a4db9141d3e6f5.png);click“Math”to find and
drag![](/media/0171c9b9d68df2b854ebded805ca3371.png) behind value; change item to distance 1 and
distance 2 respectively:

![](/media/fe83943498fb36a4bf053c28dc5dee76.png) ;

（4）Click“Variables”to find and drag![](/media/4f02d1456bb0ed46714e9e8f0e9bc88c.png);click“Mini
Tank Robot V3”of “robot”to find and
drag![](/media/4f02d1456bb0ed46714e9e8f0e9bc88c.png) and others
remain unchanged;

（5）Click“Variables”to find and
drag![](/media/dc7e1886ece9baf966a574d5fa53af9f.png);click“Math”to find and
drag![](/media/dc7e1886ece9baf966a574d5fa53af9f.png); click
“Variables”to find and drag![](/media/63bd47f41b8c51c393507f0dee65fe46.png)into the 1 on the
left of“+”; change the 1 on the right of“+”to 0.3937; and click the
little triangle behind “+”to choose“×”:

![](/media/bff6099d44652493344f4c68a3f38340.png);

（6）Click“SerialPort”to find and drag![](/media/f2f487f178408e3b391d083c82c1cd8d.png); click
"Variables" to find and drag
![](/media/f2f487f178408e3b391d083c82c1cd8d.png):

![](/media/61de2eb218f101a2676c4d6a1e5a76f1.png);

（7）Click“SerialPort”to find and drag![](/media/f2f487f178408e3b391d083c82c1cd8d.png);
click“text”to find and
drag![](/media/f2f487f178408e3b391d083c82c1cd8d.png); and change
hello to cm:

![](/media/5d0c6b4e20431b366e96cb45eb5a06b6.png);

（8）Copy ![](/media/f7b953fdc572454ef36907f95ac669ca.png)once; change distance1 to distance2 and
cm to in:

![](/media/fb1790fa1f3a51b7b1fb485493ab2035.png);

（9）Click “Control”to find and drag![](/media/b36d41f8c3f679d192b1f7a4045b2f50.png) and change
delay in 1000ms to 100ms:

![](/media/759a9893d0b06257576a30fa5d97dc91.png) ;

Complete code：

![](/media/fcc8da650985321069760da123a4046b.png)

7)  Test Results：

Upload test code on the development board, open serial monitor and set
baud rate to 9600. The detected distance will be displayed, and the unit
is cm and inch. Hinder the ultrasonic sensor by hand, the displayed
distance value gets smaller.

![](/media/29c4fb91375ae77ada8d3f9b5f1bd3c3.png)

8)  Extension Practice:

We have just measured the distance displayed by the ultrasonic. How
about controlling the LED with the measured distance? Let's try it and
connect an LED light module to the D3 pin.

![](/media/71ffab35eef1e5c034fda3a4ec192e17.png)

The program will be generated if you find the following file and drag it
into Mixly software.

|           |                                                               |                                |
| --------- | ------------------------------------------------------------- | ------------------------------ |
| File Type | Route                                                         | File Name                      |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_8\_Ultrasonic Sensor | lesson\_8.2\_Ultrasonic Sensor |

You could edit code step by step as follows:

（1）Click “Control”to find and drag![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png);

（2）Click“SerialPort”to find and
drag![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png):

![](/media/ab706faf61854a4bb27663a5cac4325c.png);

（3）Click“Variables”to find and drag![](/media/1ae07a66a021f66804a4db9141d3e6f5.png) twice
into![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png); click”Math”to find and
drag![](/media/0171c9b9d68df2b854ebded805ca3371.png) twice behind value; and change item to
distance 1 and distance 2:

![](/media/57c14206426c33316cfee574abd253a8.png) ;

2.  Click“Variables” to find and drag![](/media/4f02d1456bb0ed46714e9e8f0e9bc88c.png);
    click“Mini Tank Robot V3”of “robot”to find and drag
    ![](/media/4f02d1456bb0ed46714e9e8f0e9bc88c.png):
    
    ![](/media/3c8faa4f78bd24c207685653fc992e4d.png);
    
    （5）Click“Variables”to find and drag![](/media/dc7e1886ece9baf966a574d5fa53af9f.png);
    click“Math”to find and
    drag![](/media/dc7e1886ece9baf966a574d5fa53af9f.png); click
    “Variables”to find and drag![](/media/63bd47f41b8c51c393507f0dee65fe46.png) to the 1 on
    the left of +”; change the 1 on the right of “+” to 0.3937; and
    click the little triangle behind “+” to choose“×”:
    
    ![](/media/f5c50b9aadba636d212f0a18d0877f30.png);
    
    （6）Click“SerialPort”to find and drag![](/media/f2f487f178408e3b391d083c82c1cd8d.png);click
    "Variables"to find and
    drag![](/media/f2f487f178408e3b391d083c82c1cd8d.png):
    
    ![](/media/80e43cc349d2e1fcbfa6c5d97493318a.png);
    
    （7）Click”Serial”to find and drag![](/media/f2f487f178408e3b391d083c82c1cd8d.png);
    click”Text”to find and
    drag![](/media/f2f487f178408e3b391d083c82c1cd8d.png); and change
    hello to cm:
    
    ![](/media/2412db2eb09b993e8d74dce5da77693d.png);
    
    （8）Copy ![](/media/d444e83114225a4ad023ce8432786c8c.png) once; change distance1 to distance2
    and in to cm:
    
    ![](/media/65b09e0410baec65fa8865e84a7167dc.png);
    
    （9）Click “Control”to find and drag![](/media/b36d41f8c3f679d192b1f7a4045b2f50.png) and
    change delay in 1000ms to 100ms:。
    
    ![](/media/23432950d01f0c67967b61caade3d204.png) ;

<!-- end list -->

10. Click"Control" to find and drag![](/media/2ca74f70e4001ad5a00d135a596025ab.png);
    click“logic”to find and drag![](/media/f1a063334f9c7f82ff4903fa84b9eebc.png) behind the
    if of ![](/media/2ca74f70e4001ad5a00d135a596025ab.png); click “logic”to find and drag
    ![](/media/ba4beab2225dda3e12dc06a6f193731f.png) into the left of “and”; click”Variables”to
    find and drag ![](/media/63bd47f41b8c51c393507f0dee65fe46.png) into the left of “=”;
    click”Math”to drag![](/media/0171c9b9d68df2b854ebded805ca3371.png) to the right of“=”;
    change the 0 to 2;click the little triangle behind “=”to select“≥”;
    copy![](/media/98d62e267e0aeac3ce97b877ad34f782.png) once behind “and “;click the little
    triangle behind“≥” to choose“≤”，and change 2 to 10:
    
    ![](/media/9e5521dfd4e25f6cd69f7adc951b754a.png) ;

（11）Click“Mini Tank Robot V3”of “robot”to find and
drag![](/media/7a00de03cada0680c8a5d6ede72677b5.png) into do:

![](/media/0d28a759663ea1e8c2a790c774304df8.png);

Complete code：

![](/media/306a611115058839a6958148cfc67267.png)

Upload test code to development board, block ultrasonic

sensor by hand, and keep the distance between 2cm to 10cm, then check if
LED is on

**Project 9: IR Reception**

1)  Description：
    
    There is no doubt that infrared remote control is ubiquitous in
    daily life. It is used to control various household appliances, such
    as TVs, stereos, video recorders and satellite signal receivers.
    Infrared remote control is composed of infrared transmitting and
    infrared receiving systems, that is, an infrared remote control and
    infrared receiving module and a single-chip microcomputer capable of
    decoding.​    

The 38K infrared carrier signal emitted by remote controller is encoded
by the encoding chip in the remote controller. It is composed of a
section of pilot code, user code, user inverse code, data code, and data
inverse code. The time interval of the pulse is used to distinguish
whether it is a 0 or 1 signal and the encoding is made up of these 0, 1
signals.

The user code of the same remote control is unchanged while the data
code can distinguish the key.

When the remote control button is pressed, the remote control sends out
an infrared carrier signal. When the IR receiver receives the signal,
the program will decode the carrier signal and determines which key is
pressed. The MCU decodes the received 01 signal, thereby judging what
key is pressed by the remote control.

Infrared receiver we use is an infrared receiver module. Mainly composed
of an infrared receiver head, which is a device that integrates
reception, amplification, and demodulation. Its internal IC has
completed demodulation, and can achieve from infrared reception to
output and be compatible with TTL signals. Additionally, it is suitable
for infrared remote control and infrared data transmission. The infrared
receiving module made by the receiver has only three pins, signal line,
VCC and GND. It is very convenient to communicate with Arduino and other
microcontrollers.

2)  Parameters:

![](/media/3434d75335432418ecff2bd64df180bd.png)

Operating Voltage: 3.3-5V（DC）

Interface: 3PIN

Output Signal: Digital signal

Receiving Angle: 90 degrees

Frequency: 38khz

Receiving Distance: 10m

(3) Components Needed:

|                                       |                                                     |                          |                                                       |
| ------------------------------------- | --------------------------------------------------- | ------------------------ | ----------------------------------------------------- |
| Keyestudio V4.0 Development Board \*1 | L298P Motor Driver Shield\*1                        | Yellow LED Module\*1     | 3P-3P XH2.54 to 2.54 Dupont Wire（Yellow-Red-Black)\*1 |
| ![](/media/6a1c8e7c27ca08c62ac0c30a0dbd4578.png)                              |
| IR Receiver Module \*1                | 3P-3P XH2.54 to PH2.0 Dupont Wire（Yellow-Red-Black) | USB Cable                | Tank Robot Chassis \*1                                |
| ![](/media/686670898705c411f9affbd3e2e78c61.png)                              |

(4) Connection Diagram：

![](/media/13872c10e2dc6889da0b4203785bd67a.png)

Note: the pin “-”,“+”and S of the IR receiver are respectively connected
to pin G（GND）, V（VCC）and A2 of the sensor expansion board. On the
condition that digital ports are not enough, the analog ports also can
be served as digital ports. A0 is equal to the digital port 14, A1 means
the digital port15.

5)  Test Code：
    
    The program will be generated if you find the following file and
    drag it into Mixly software.

|           |                                                          |                           |
| --------- | -------------------------------------------------------- | ------------------------- |
| File Type | Route                                                    | File Name                 |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_9\_IR Reception | lesson\_9.1\_IR Reception |

You could edit code step by step as follows:

（1）Click “Control”to find and drag![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png);

（2）Click“Serial”to find and
drag![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png):

![](/media/ab706faf61854a4bb27663a5cac4325c.png);

（3）Click“Mini Tank Robot V3”of “robot”to find and
drag![](/media/9a77b60bc12a8ee68c919aa95e1befca.png) of
“SerialPort” to choose default “hex”(represent for hexadecimal);
click”Variables” to place ![](/media/6455074009c02aea83aa5e4b3329d547.png) into
![](/media/a1d4eff6c71988dcef7a89f02f7395b4.png):

![](/media/3483f325f77ac6945b2913b427eee1a4.png).

Complete code：

![](/media/d08c6c0e1f16251380526483727e50bc.png)

6)  Test Results：
    
    Upload test code, open serial monitor and set baud rate to 9600,
    point remote control to IR receiver. Then the corresponding value
    will be shown. If holding down keys for a while, the error codes
    will appear.
    
    ![](/media/724d48117b210f88fe40b9cde5748e0a.png)

Below we have listed out each key value of keyestudio remote control. So
you can keep it for reference.

> ![](/media/ebcf0cb2055f7784505f76ceeaef9f47.jpeg)

7)  Extension Practice:

We decoded the key value of IR remote control. How about controlling LED
by the measured value? We could design an experiment.

Attach an LED to D3, then press the keys of remote control to make LED
light on and off.

![](/media/d412834a77bbf58119e2e003f2227b4b.png)

The program will be generated if you find the following file and drag it
into Mixly software.

|           |                                                          |                           |
| --------- | -------------------------------------------------------- | ------------------------- |
| File Type | Route                                                    | File Name                 |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_9\_IR Reception | lesson\_9.2\_IR Reception |

You could edit code step by step as follows:

（1）Click “Control”to find and drag![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png)。

（2）Click“Serial”to find and
drag![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png):

![](/media/ab706faf61854a4bb27663a5cac4325c.png);

（3）Click“Mini Tank Robot V3”of “robot”to find and
drag![](/media/84156aad87cea8f3a756f6e73a2c2a2c.png) and choose the default “hex”;

（4）Click“Variables”to find and
drag![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png);click “Math”to
find and drag![](/media/0171c9b9d68df2b854ebded805ca3371.png) behind value; and change item to
a:

![](/media/16413f513ed7bcc2dc1135abc71a8861.png);

3.  Click “Control”to find
    ![](/media/6b0bc0755ffe368004c9ad0f73a1b573.png); drag
    ![](/media/c1c89bf3006d0dc7f8b4c81de0ed817f.png) to get
    ![](/media/3956e6943d009077242fe93002233341.png); click“Ligic”to find and
    drag![](/media/f1a063334f9c7f82ff4903fa84b9eebc.png) behind if; click “Logic” to drag
    ![](/media/ba4beab2225dda3e12dc06a6f193731f.png) to the left side of and; click“Variables”to
    find and drag ![](/media/3a88a3af1291a6286112c1dd92d2a054.png) to the left side of “=”;
    click “Math ”to drag ![](/media/0171c9b9d68df2b854ebded805ca3371.png) to the right side
    of“=”; change the 0 to 0xFF02FD;copy![](/media/cacfcb5fe4d2d51642b475cd30287962.png)once
    and place it behind “and” ; and change ir\_rec to a，and 0xFF02FD to
    0:
    
    ![](/media/da30e9e553c516abdc06310e5c464073.png);
    
    （6）Click“Minit Tank Robot V3”of “robot”to find and
    drag![](/media/2436687ad49ba160546511c1fa8572b3.png)into the first do of
    ![](/media/3741b8db1f2fc112ed6b4141672db7a1.png):

> ![](/media/405e0052eed4f213bab414a7580b9590.png)

（7）Click "Variables"to find and drag![](/media/2f3c35140a54edfff47c9b246c6056a3.png) into the
first “do”; click "math"，to find and
drag![](/media/2f3c35140a54edfff47c9b246c6056a3.png); change the 0
to 1:

![](/media/ad277ed8a4e223d6b0b71503dbc1a893.png)

（8）Copy![](/media/5e562d1fc59668d8ebc7df62f9495caa.png) once and place it behind else if ;
change the 0 behind a to 1;and others remain unchanged;

![](/media/88d8b2b63231bbfbc23edff39fdb77bb.png)

（9）Copy ![](/media/a111648ee5db22b631d01564d685b9b7.png) once and place it into the second
“do”;click the little triangle behind “HIGH”to choose “LOW”and
change the 1 to 0; ![](/media/cfea0cf22d095860c512b5cb6c8c9cc7.png)

Complete code：

![](/media/57d25979bd568405f97eef6ff59ee765.png)

Upload code to development board, press the“OK”key on remote control to
make LED on and off.

**Project 10: Bluetooth Remote Control**

(1)Description：

![](/media/aa5546baeb5afe1adfe9fff51f497fe8.png)Bluetooth, a simple wireless communication
module most popular since the last few decades and easy to use are being
used in most of the battery-powered devices.

Over the years, there have been many upgrades of Bluetooth standard to
keep fulfil the demand of customers and technology according to the need
of time and situation.

Over the few years, there are many things changed including data
transmission rate, power consumption with wearable and IoT Devices and
Security System.

Here we are going to learn about HM-10 BLE 4.0 with Arduino Board. The
HM-10 is a readily available Bluetooth 4.0 module. This module is used
for establishing wireless data communication. The module is designed by
using the Texas Instruments CC2540 or CC2541 Bluetooth low energy (BLE)
System on Chip (SoC).

![](/media/0ea85307e1317c25f2a8d92f25319aa8.png)(2)Parameters：

Bluetooth protocol: Bluetooth Specification V4.0 BLE

No byte limit in serial port Transceiving

In open environment, realize 100m ultra-distance communication with
iphone4s

Working frequency: 2.4GHz ISM band

Modulation method: GFSK(Gaussian Frequency Shift Keying)

Transmission power: -23dbm, -6dbm, 0dbm, 6dbm, can be modified by AT
command.

Sensitivity: ≤-84dBm at 0.1% BER

Transmission rate: Asynchronous: 6K bytes ; Synchronous: 6k Bytes

Security feature: Authentication and encryption

Supporting service: Central & Peripheral UUID FFE0, FFE1

Power consumption: Auto sleep mode, stand by current 400uA\~800uA, 8.5mA
during transmission.

Power supply: 5V DC

Working temperature: –5 to +65 Centigrade

**(3)Components Needed：**

|                                       |                                      |                          |                                                    |
| ------------------------------------- | ------------------------------------ | ------------------------ | -------------------------------------------------- |
| Keyestudio V4.0 Development Board \*1 | Keyestudio L298P Motor Driver Shield | Yellow LED Module\*1     | 3P-3P XH2.54 to 2.54 Dupont Wire（Yellow-Red-Black) |
| ![](/media/ecbffcb36ad26a65fbc86a13a14739ec.png)                          |
| Keyestudio HM-10 BT-4.0 Module\*1     | USB Cable\*1                         |                          |                                                    |
| ![](/media/4f8d5af6dee9016b45d975adb2391d37.png)              |                          |                                                    |

**(4)Connection Diagram：**

1\. STATE: state test pins, connected to internal LED, generally keep it
unconnected.

2\. RXD: serial interface, receiving terminal.

3\. TXD: serial interface, transmitting terminal.

4\. GND: Ground.

5\. VCC: positive pole of the power source.

6\. EN/BRK: break connect, it means breaking the Bluetooth connection,
generally, keep it unconnected.

![](/media/5fad63a7f6b9cacc9fcf71cbf83c58f3.png)

**(5)Test Code：**

The program will be generated if you find the following file and drag it
into Mixly software.

|           |                                                                       |                                        |
| --------- | --------------------------------------------------------------------- | -------------------------------------- |
| File type | Route                                                                 | File Name                              |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_10\_Bluetooth Remote Control | lesson\_10.1\_Bluetooth Remote Control |

You could edit code step by step as follows:

1)  Click “Control”to get block![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png)

2)  Enter “Serial Port”to move
    block![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png)

![](/media/87067dd12cc3e0ad2c37212e0df86c7a.png)=
![](/media/ab706faf61854a4bb27663a5cac4325c.png)

（3）Click“Mini Tank Robot V3”of “robot”to find and drag
![](/media/39f4c270c16f53091907abd97f0900a7.png).

（4）Click “SerialPort” to find and drag ![](/media/c5b6ffacfdbd75150684d2e7744fa9bc.png) into do;
click”Variables”to find and drag![](/media/26761cbe5a2e39715b03458aa109c76e.png)into
![](/media/c5b6ffacfdbd75150684d2e7744fa9bc.png); put this
combination![](/media/39f4c270c16f53091907abd97f0900a7.png)to have
![](/media/bf16e82321ee99f6eef82ea6c69df525.png).

Complete code:

![](/media/29742d238c0dac1fb638a4250ff0ef70.png)

(Note: Do not connect the Bluetooth module before uploading the code,
because the uploading of the code also uses serial communication, and
there may be conflicts with the serial communication of the Bluetooth,
which can cause the uploading of the code to fail.)

Upload the code to the development board, then plug in the Bluetooth
module, and then wait for the instructions from the mobile phone.

**(6)Download Bluetooth APP:D**

The above code is for reading the signals received by the serial port.
Then a device used to send out signals is required. In this project,
this device is a smart phone. The phone transmits signals and the
Bluetooth receives these signals and prints them on the serial port of
the development board. And we also need to download an App on our
phones.

**1.Download instructions for Apple system:**

Go to APP STORE→search for BLE Scanner 4.0→download it to your phone.

![](/media/e836eea937bddabb291c2cb6f711ca10.png)

**2.Download instructions for Android system:**

Go to [Google
Play](https:/developer.android.google.cn/distribute?hl=zh-cn)→search
for BLE Scanner 4.0→download it to your phone.

![](/media/cf5e6cd8b98346d3e90faf4a10e92dc1.png)

3.After the installation is complete, open the app and enable the
"Location and Bluetooth" permission

4.  The usage of this App is almost the same for Apple system and
    Android system. And here we intend to take Apple system as an
    example to explain how to use it properly.

5.Scan for Bluetooth devices and the name of Bluetooth BLE 4.0 is HMSoft
which does not have a pairing password. Therefore, click connect to
connect to HMSoft and then you can start using it.

![](/media/cc2ad4236eb001676ae447e8033edd2f.png)

6.After the pairing, click it, and you will get many options, such as
device information, general access rights, general attributes, custom
services and others. Among all these options, select "Customize
Service".

![](/media/af36b3e8e815a539c07c18738ee5366f.png)

7.Then the following page pops up.

![](/media/f74e64f9f29e0813db44971d2896d7f2.png)

8.Click words（Read,Notify,WriteWithoutResponse) in blue to enter the
following page.

![](/media/c769ffa7b68eb36516a429147d5f65b6.png)

9.  Tap Write Value and the page HEX or Tex appears as shown in the
    figure below.
    
    ![](/media/767ed0b7d1876e63ff109d8a355209ac.png)

<!-- end list -->

10. Open the serial port monitor of Arduino and input a 0 or other
    character.
    
    ![](/media/767ed0b7d1876e63ff109d8a355209ac.png)

11. Click Write and open serial port monitor to confirm whether it the
    signal 0 or other character is received.
    
    ![](/media/5254b35b30451fc6dbf7de998cf5e16b.png)

<!-- end list -->

8)  Extension Practice:

In the above project, we have explained that the Bluetooth receives the
signal sent by the mobile phone and displayed it on the serial port of
the development board. Now let’s think about a question that can we use
the received signal to do something else? The answer is positive. Here
we plans to use the command sent by the mobile phone to turn on or off
an LED. From the wiring diagram, we can find that an LED is connected to
pin D3.

![](/media/46adc3fdd061772e09a977db42b7e5d8.png)

The program will be generated if you find the following file and drag it
into Mixly software.

The program will be generated if you find the following file and drag it
into Mixly software.

|           |                                                                       |                                        |
| --------- | --------------------------------------------------------------------- | -------------------------------------- |
| File type | Route                                                                 | File Name                              |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_10\_Bluetooth Remote Control | lesson\_10.2\_Bluetooth Remote Control |

You could edit code step by step as follows:

1)  Click“Control” to get block![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png)

2)  Enter“Serial Port”to move
    block![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png)

![](/media/ab706faf61854a4bb27663a5cac4325c.png)

（3）Click“Mini Tank Robot V3”of “robot” to find and drag
![](/media/39f4c270c16f53091907abd97f0900a7.png).

（4）Click“Control”to find and frag![](/media/2ca74f70e4001ad5a00d135a596025ab.png); then
click“Logic”to find and drag![](/media/a4c954b2483cfdf0130916768d69f56e.png)to
if;click“Variables”to find and frag ![](/media/1b8a2f05a937fb4d7a4c14b4874086b6.png)onto the
left side of“=”;Click“Text”to find and drag ![](/media/a3e5bd1b881a89edee91f44d22ff0640.png)onto
the right side of“=”and change the a into 1; ![](/media/de9d823986c9dfe4af343575ab81612c.png)

（5）Click“Mini Tank Robot V3t”of “robot” to find and
drag![](/media/14c16d7218c953caffc9bd0399360408.png)into do;

![](/media/2f98de481ebd3afe16bc6032db0a9d12.png)

（6）Copy![](/media/53a5ad7e8d90f73bff7a05ed2c95ef00.png) once and place it into the second do;and
change the DATA RECEIVED into led on。

![](/media/c8b7eedf849e088d9244477592e44f57.png)

（7）Copy ![](/media/41c084fd0bff495d332024cc3ad216f5.png)once and place it into the first do and
change 1 into 0; click the little triangle of “high” to choose”low”;
change led on into led off。

![](/media/df3a35a754c608137d00ca3ba39a7f10.png)

Complete code:

![](/media/29f8761684fe51d5ac8b2797f15f199e.png)

![](/media/767ed0b7d1876e63ff109d8a355209ac.png)

Click “Write” on APP, when you enter 1, LED will be on, when you input
0, LED will be off. (Remember to remove the Bluetooth module after
finishing experiment, otherwise, burning code will be affected)

## 

**Project 11: Motor Driving and Speed Control**

**(1)Description:**

()（1）项目介绍：

There are many ways to drive motors. Our smart car uses the most common
solution called L298P. L298P, produced by STMicroelectronics, is an
excellent driving chip specially designed for driving high-power motors
. It can directly drive DC motors, two-phase and four-phase motors with
the driving current reaching 2A. And the motor’s output terminal adopts
8 high-speed Schottky diodes as protection. We have designed an
expansion board based on the L298P circuit of which the laminated design
can be directly plugged into the UNO R3 board for use reducing the
technical difficulties for users in using and driving the motor.

Stack the expansion board on the board, power the BAT , turn the DIP
switch to the ON end, and power the expansion board and the UNO R3 board
at the same time via external power supply. In order to facilitate
wiring, the expansion board is equipped with anti-reverse interface
(PH2.0 -2P -3P -4P -5P) and thus it can be directly plug with motors,
power supply, and sensors /modules. The Bluetooth interface of the drive
expansion board is fully compatible with the Keyestudio HM-10 Bluetooth
module. Therefore, we only need to insert the HM-10 Bluetooth module
into the corresponding interface when connecting. At the same time, the
drive extension board also uses 2.54 pin headers to extend out some
available digital ports and analog ports, so that you can continue to
add other sensors and carry out expansion experiments.

The expansion board can be connected to 4 DC motors. In the default
jumper cap connection mode, the A and A1, B and B1 interface motors are
connected in parallel, and their motion pattern is the same. 8 jumper
caps can be used to control the rotation direction of the 4 motor
interfaces. For example, when the two jumper caps in front of the motor
A interface are changed from a horizontal connection to a vertical
connection, the rotation direction of the motor A now is opposite to the
original rotation direction.

3)  **Circuit**

![](/media/6c3731f639e113c8f32fe1829f239898.png)

**(3)Specifications:**

  - Logic part input voltage: DC 5V

  - Driving part input voltage: DC 7-12V

  - Logic part working current: ≤36mA

  - Driving part working current: ≤ 2A

  - Maximum dissipation power: 25W (T=75℃)

  - Control signal input level:
    
    High level: 2.3V ≤ Vin ≤ 5V
    
    Low level: 0V ≤ Vin ≤ 1.5V

  - Working temperature: -25℃～＋130℃
    
    **(4)Drive the robot to move**
    
    From the circuit above, it is known that for motor A D4 is its
    direction pin and D5 the speed pin while for motor B D2 is its
    direction pin and D8 the speed pin.

According to the table below, we can know how to control the movement of
the robot by controlling the rotation of two motors through the digital
ports and PWM ports . Among them, the range of PWM value is 0-255. The
larger the value is, the faster the motor rotates.

|              |      |         |                      |      |         |                      |
| ------------ | ---- | ------- | -------------------- | ---- | ------- | -------------------- |
| Movements    | D4   | D5（PWM） | Motor（on the left）   | D2   | D9（PWM） | Motor（on the right）  |
| Move Forward | LOW  | 200     | Rotate Clockwise     | LOW  | 200     | Rotate Clockwise     |
| Step Back    | HIGH | 200     | Rotate Anticlockwise | HIGH | 200     | Rotate Anticlockwise |
| Rotate Right | HIGH | 200     | Rotate Anticlockwise | LOW  | 200     | Rotate Clockwise     |
| Rotate Right | LOW  | 200     | Rotate Clockwise     | HIGH | 200     | Rotate Anticlockwise |
| Stop         | /    | 0       | Stop                 | /    | 0       | Stop                 |

**(5)Components Needed:**

<table>
<tbody>
<tr class="odd">
<td>Keyestudio V4.0 Development Board *1</td>
<td>Keyestudio L298P Motor Driver Shield</td>
<td><p>Tank Robot </p>
<p>Chassis</p></td>
<td>USB Cable*1</td>
</tr>
<tr class="even">
<td><img src="/media/8ecfc7e4f74bd2001452e33f74eace2e.png" style="width:1.45278in;height:1.04931in" /></td>
<td><img src="/media/4ebdedd20a23f95ce5ae9c0a4d124a81.png" style="width:1.45903in;height:1.17222in" /></td>
<td><img src="/media/c2916529f36a54ae5fb033764e13945e.png" style="width:1.47431in;height:1.22917in" /></td>
<td><img src="/media/4f8d5af6dee9016b45d975adb2391d37.png" style="width:1.34583in;height:0.49792in" /></td>
</tr>
</tbody>
</table>

**(6)Connection Diagram:**

![](/media/240537c0722089b5846b312dd9708ff9.png)

Note:

There is a silk screen 1234 on the front of the 4pin connector. One of
the two motors should be connected with pin A (marked as the right
one)and the other with pin B(marked as the left one).

7)  **Test Code**
    
    The program will be generated if you find the following file and
    drag it into Mixly software.

|           |                                                                              |                                               |
| --------- | ---------------------------------------------------------------------------- | --------------------------------------------- |
| File type | Route                                                                        | File Name                                     |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_11\_Motor Driving and Speed Control | lesson\_11.1\_Motor Driving and Speed Control |

You could edit code step by step as follows:

（1）Click the“Mini Tank Robot V3”of “robot”to find and
drag![](/media/b979775dd54a7b029c5519074df8a0ea.png);change the 255to
200![](/media/d1ea5b1275fcc1377087334361438cd0.png).

（2）Copy![](/media/d1ea5b1275fcc1377087334361438cd0.png)，and change the Left to
Right![](/media/862ef5ec192bc07d5a610e2965793754.png).

（3）Click“Control”to find and drag ![](/media/b36d41f8c3f679d192b1f7a4045b2f50.png); change delay
in 1000 ms to 2000 ms![](/media/5f5c5a4565a150d617982b4bd3c153c0.png).

（4）Copy![](/media/5f5c5a4565a150d617982b4bd3c153c0.png)once and change the Left and
the“forward”of Right to“back”; others remain unchanged.

![](/media/e91732834f0155f2054ce0b0d52b8b65.png)

（5）Copy![](/media/5f5c5a4565a150d617982b4bd3c153c0.png)once; change the“forward”of Left
to“back”and others remain unchanged.

![](/media/a6567be04b18679f3358460976d358e3.png)

（6）Copy ![](/media/5f5c5a4565a150d617982b4bd3c153c0.png)once;changethe “forward”of Right
to“back”and others remain unchanged.

![](/media/baa07651b4f6bebe3703abecf5433998.png)

（7）Click“Mini Tank Robot V3”of“robot”to find and
drag![](/media/b0972cf7dfcde65c9017efbc076a43f1.png);click“Control”to find and
drag![](/media/b36d41f8c3f679d192b1f7a4045b2f50.png);change delay in 1000ms to
2000ms![](/media/140554eb8ffd6047de7474c6b36d9b02.png).

Complete code:

![](/media/178f8f8b7bdf83e8de030b10fe7d1585.png)

8)  **Test Results:**

After wiring according to the diagram, uploading the test code and
powering it up, the smart car moves forward for 2s, steps back for 2s,
turns left for 2s, turns right for 2s and stops for 2s and repeats this
sequence.

9)  Extension Practice:

The program will be generated if you find the following file and drag it
into Mixly software.

|           |                                                                              |                                               |
| --------- | ---------------------------------------------------------------------------- | --------------------------------------------- |
| File type | Route                                                                        | File Name                                     |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_11\_Motor Driving and Speed Control | lesson\_11.2\_Motor Driving and Speed Control |

You could edit code step by step as follows:

（1）Click“Mini Tank Robot V3”of “robot”to drag and
find![](/media/b979775dd54a7b029c5519074df8a0ea.png);change the 255 into
100![](/media/b1fdcd371d5b63044ef8b3a1af80e20f.png).

（2）Copy![](/media/b1fdcd371d5b63044ef8b3a1af80e20f.png)and change the Left into
Right![](/media/6b141ae555f19f06dfe65d24c2ddcd02.png).

（3）Click“Control”to find and drag![](/media/b36d41f8c3f679d192b1f7a4045b2f50.png) and change
time delay in 1000ms to 2000ms![](/media/fea65f2259edcf4b40bf72362024eac9.png).

（4）Copy![](/media/fea65f2259edcf4b40bf72362024eac9.png)once and change the Left和的and
the“forward”of Right to“back”and others remain unchanged.

![](/media/aa17837fa556ec1b850c6f4d477cd871.png)

（5）Copy![](/media/fea65f2259edcf4b40bf72362024eac9.png)once and change the“forward”of Left
to“back”others remain unchanged. ![](/media/a6567be04b18679f3358460976d358e3.png)

（6）Copy![](/media/fea65f2259edcf4b40bf72362024eac9.png)once and change the “forward”of Right
to“back””and others remain unchanged.

![](/media/85aebcb7bd85220691cb0cad3e9e8eca.png)

（7）Click“Mini Tank Robot V3”of “robot” to find and
drag![](/media/b0972cf7dfcde65c9017efbc076a43f1.png);click“Control”to find and
frag![](/media/b36d41f8c3f679d192b1f7a4045b2f50.png);change delay in 1000ms to
2000ms![](/media/140554eb8ffd6047de7474c6b36d9b02.png).

Complete code:

![](/media/13869ff2d3bbe5739448f5a245ed17c3.png)

**Project 12: 8\*16 Facial Expression LED Dot Matrix**

**(1)Description:**

![](/media/2c6708cb4d9bb775c0b6001b47ad0392.jpeg)If we add a 8\*16 LED board to the robot, it
will be amazing. Keyestudio's 8\*16 dot matrix can meet your
requirements. You can create facial emoticons, patterns or other
interesting displays yourself. 8\*16 LED light board comes with 128
LEDs. The data of the microprocessor (arduino) communicates with the
AiP1640 through the two-wire bus interface, so as to control the 128
LEDs on the module, which produce the patterns you need on dot matrix.
To facilitate wiring, we also provide a HX-2.54 4Pin wiring.

![](/media/0ea85307e1317c25f2a8d92f25319aa8.png)(2)Parameters：

Working voltage: DC 3.3-5V

Power loss: 400mW

Oscillation frequency: 450KHz

Drive current: 200mA

Working temperature: -40\~80℃

Communication method: two-wire bus

**(3)Components Needed:**

<table>
<tbody>
<tr class="odd">
<td>Keyestudio V4.0 Development Board *1</td>
<td><p>Keyestudio L298P Motor </p>
<p>Driver Shield*1</p></td>
<td>keyestudio 8x16 LED Dot Matrix*1</td>
<td>4P HX-2.54 Dupont Wire (Black-Red-White-Brown)</td>
</tr>
<tr class="even">
<td><img src="/media/8ecfc7e4f74bd2001452e33f74eace2e.png" style="width:1.38056in;height:0.99722in" /></td>
<td><img src="/media/4ebdedd20a23f95ce5ae9c0a4d124a81.png" style="width:1.45833in;height:1.17153in" /></td>
<td><img src="/media/08dcdaab2f13bc2e539e1b672f730196.png" style="width:1.20972in;height:0.55556in" /></td>
<td><img src="/media/e1f4b7f33ba5ace101c7b1b224cd5ce7.png" style="width:0.83542in;height:1.90972in" /></td>
</tr>
<tr class="odd">
<td>USB cable*1</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td><img src="/media/4f8d5af6dee9016b45d975adb2391d37.png" style="width:1.38611in;height:0.5125in" /></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

**(4)About the 8\*16 Dot Matrix**

**Circuit of the 8\*16 LED dot matrix**

![](/media/edf6c77d05904eebbaa89d557e9e9c1a.png)

**Principle of the 8\*16 LED dot matrix**

How to control each LED of the 8\*16 dot matrix? It is known that each
byte has 8 bits and each bit is 0 or 1. when it is 0, LED is off while
when it is 1 LED is on. One byte can control one column of the LED,and
naturally 16 bytes can control 16 columns of LEDs, that’s the 8\*16 dot
matrix.

**Pins description and communication protocol**

The data of the microprocessor (Arduino) communicates with the AiP1640
through a two-wire bus cable.

The communication protocol diagram is as follows (SCLK) is SCL, (DIN) is
SDA

![](/media/ea2bab37f23c09453c680590b84653d6.png)

①The starting condition for data input: SCL is high level and SDA
changes from high to low.

②For data command setting, there are methods as shown in the figure
below

In our sample program, select the way to **add 1 to the address
automatically**, the binary value is 0100 0000 and the corresponding
hexadecimal value is 0x40

|                          |
| ------------------------ |
| ![](/media/7e326d7edc877ea2509cbf8649f82d99.png) |

③For address command setting, the address can be selected as shown
below.

The first 00H is selected in our sample program, and the binary number
1100 0000 corresponds to the hexadecimal 0xc0

|                          |
| ------------------------ |
| ![](/media/e6da87c9f6056f849c973edec5456f3e.png) |

④The requirement for data input is that when SCL is at high level when
inputting data, the signal on SDA must remain unchanged. Only when the
clock signal on SCL is at low level, can the signal on SDA be changed.
The input of data is the low bit first, and the high bit later.

⑤The condition for the end of data transmission is that when SCL is at
low level, SDA at low level and SCL at high level, the level of SDA
becomes high.

⑥Display control, set different pulse width, pulse width can be selected
as shown in the figure below

In the example, the pulse width is 4/16, and the hexadecimal
corresponding to 1000 1010 is 0x8A

|                          |
| ------------------------ |
| ![](/media/ad238f413988f77bcf074a5642a5061d.png) |

4\. Instructions for the use of modulus tool

The dot matrix tool uses the online version, and the link is :
http:/dotmatrixtool.com/\#

①Enter the link and the page appears as shown below

![](/media/354693b5679a2615c62e99b7025d6355.png)

②The dot matrix is 8\*16, so adjust the height to 8 and width to 16, as
shown in the figure below

![](/media/5f0278d66ade370e871b447d360d6e7b.png)

③Generate hexadecimal data from the pattern

As shown in the figure below, press the left mouse button to select,
right click to cancel; draw the pattern you want, click Generate, and
the hexadecimal data we need will be generated.

![](/media/586e88bf13c61b0918046437ed7f6796.png)

**(5)Connection Diagram:**

![](/media/dda0ca74f11653a0c7d59e89dcc638ea.png)

The GND, VCC, SDA, and SCL of the 8x16 LED light board are respectively
connected to the keyestudio sensor expansion board-(GND), + (VCC), A4,
A5 for two-wire serial communication.

(Note: though it is connected with the IIC pin of Arduino, this module
is not for IIC communication. And the IO port here is to simulate I2C
communication and can be connected with any two pins )

**(6) Test Code**

The program will be generated if you find the following file and drag it
into Mixly software.

|           |                                                                                |                                                     |
| --------- | ------------------------------------------------------------------------------ | --------------------------------------------------- |
| File Type | Route                                                                          | File Name                                           |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_8x16 Facial Expression LED Dot Matrix | lesson\_12.1\_8x16 Facial Expression LED Dot Matrix |

You could edit code step by step as follows:

1.  Click“Control”to find and drag ![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png);

2.  Click“Mini Tank Robot V3”of “robot”to find and
    drag![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png);
    
    ![](/media/df218043e03d9c9fa10e523121ded2de.png)

3.  Click“Mini Tank Robot V3”of “robot”to find and
    drag![](/media/82e6e82eaad07bb740b6915c10c60ec7.png);lick the little triangle behind“↑”to
    select“![](/media/97215168f939260e175fbbb0e347f0bc.png)”;
    
    ![](/media/23f1b85d639628b01f6063cbd7fff4e4.png)

Complete code:

![](/media/1fd1eeac35cdac6980e7c0d5e5152f3b.png)

**(7 )Test Results:**

After uploading the test code successfully, connecting according to the
wiring diagram, dialing the DIP switch to the right end and powering it
on, a smile-shaped pattern shows on the dot matrix.

> ![](/media/0fd4831db288e04e75828346ea66a3f5.png)

10) Extension Practice:

We use the module tool we just learned, http:/dotmatrixtool.com/\#, to
make the dot matrix display the pattern start , going forward, and stop
and then clear the pattern. The time interval is 2000 ms.

|                          |                          |                          |
| ------------------------ | ------------------------ | ------------------------ |
| ![](/media/b0a961f27eb5f0b66603abe23d6bb56a.png) |

Code obtained from the module tool：

The command block for starting：

![](/media/a1a035a99a1a21a8d95a3db6100a026d.png)

The command block for moving forward：![](/media/ae729b7a53f18024eb02ad5c94a8aa7a.png)

The command block for stepping back：

![](/media/784ddc73c12e819d69a6c84019215c42.png)

The command block for turning left：

![](/media/548a4f105f9d4bff392ca999c4942033.png)

The command block for turning right：

![](/media/e82bc58855c80cfbefcc77f9b66aebe1.png)

The command block for stopping：

![](/media/318b9e4fb8e1d46e93e23c53eff47319.png)

The command block for clearing screen：![](/media/56d466c89e53a38332cec4d755d451bd.png)

The program will be generated if you find the following file and drag it
into Mixly software.

|           |                                                                                    |                                                     |
| --------- | ---------------------------------------------------------------------------------- | --------------------------------------------------- |
| File Type | Route                                                                              | File Name                                           |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_12\_8x16 Facial Expression LED Dot Matrix | lesson\_12.2\_8x16 Facial Expression LED Dot Matrix |

You could edit code step by step as follows:

（1）Click“Control”to find and drag ![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png);

( 2）Click“Mini Tank Robot V3”of “robot”to find and
drag![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png);

![](/media/df218043e03d9c9fa10e523121ded2de.png)

（3）Click“Mini Tank Robot V3”of “robot”to find and
drag![](/media/82e6e82eaad07bb740b6915c10c60ec7.png);click the little triangle behind“↑”to
select“V”;

![](/media/984cba99fe549c9250c3499fe0351ab8.png)

（4）Click “Control”to find and
drag![](/media/b36d41f8c3f679d192b1f7a4045b2f50.png)，延时时间1000毫秒改成2000毫秒。

![](/media/73898405aaaf91027903c7041132ac36.png)

（6）copy代码串![](/media/73898405aaaf91027903c7041132ac36.png)3次，分别click“V”click the little triangle
behind“↑”、“STOP”、“clear”，and others remain unchanged;。

![](/media/c12d191481185a9cad774c0323a184a6.png)

Complete code：

![](/media/9fb560e6db19e980ee42c9a395d941f6.png)

After uploading test code,the facial expression board shows these
patterns orderly and repeats this sequence.

|                          |                          |                          |
| ------------------------ | ------------------------ | ------------------------ |
| ![](/media/e269e060c9a0dd4311ea34e8333c297e.png) |

**Project 13: Light-following Tank**

![](/media/ecf3b259b6bce18922959388dc4a8466.jpeg)

**(1)Description**:

（1）项目介绍：

In previous projects, we introduced in detail the use of various
sensors, modules, and expansion boards on the smart car. Now let’s move
to the projects of the smart car . The light-following smart cars, as
the name suggests, is a smart car that can follow the light.

We can combine the knowledge from projects photoresistor and motor drive
to make a light-seeking smart car. In the project, we use two
photoresistor modules to detect the light intensity on the left and
right sides of the smart car, read the corresponding analog values, and
then control the rotation of the two motors based on these two data so
as,to control the movements of the smart car.

The specific logic of the light-following smart car is shown as below.

|                                                             |                                      |              |
| ----------------------------------------------------------- | ------------------------------------ | ------------ |
| Detection (the bigger the brightness,the bigger the value ) | photoresistor module on the left     | left\_light  |
|                                                             | photoresistor module on the right    | right\_light |
| Condition                                                   | left\_light＞650 and right\_light＞650 |              |
| Movement                                                    | Move forward（set PWM to 200）         |              |
| Condition                                                   | left\_light＞650 and right\_light≤650 |              |
| Movement                                                    | Rotate left（set PWM to 200）          |              |
| Condition                                                   | left\_light≤650 and right\_light＞650 |              |
| Movement                                                    | Rotate right（set PWM to 200）         |              |
| Condition                                                   | left\_light≤650 and right\_light≤650 |              |
| Movement                                                    | stop                                 |              |

**(2)Flow chart**

**(3)Connection Diagram:**

![](/media/210342dc6ecc994c26f2a1bca0df58b1.png)

Note: The "-", "+" and S pins of the photoresistor module on the left
are connected to G (GND), V (VCC), A0 respectively;

the "-", "+" and S pins of the photoresistor module on the right are
connected to the G (GND), V (VCC), and A1 respectively.

There is a silk screen 1234 on the front of the 4pin cable. The rear
right motor is connected to A and the front left motor is connected to
B.

**(4)Test Code**

The program will be generated if you find the following file and drag it
into Mixly software.

|           |                                                                   |                                  |
| --------- | ----------------------------------------------------------------- | -------------------------------- |
| File Type | Route                                                             | File Name                        |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_13\_Light-following Tank | lesson\_13\_Light-following Tank |

（1）Click“Control”to find and drag ![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png);

（2）Click”Serial”to find and
drag![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png);

![](/media/ab706faf61854a4bb27663a5cac4325c.png)

（3）Click”Variable”to find and
drag![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png);click”Math”to
find and
drag![](/media/c376f71ce273bc7c11f361d0dc8906a1.png)once
and place it into ![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png); change”item”to left\_light
and right\_light respectively;

![](/media/e351cd0edff687946d20b78927f569ee.png)

（5）Click“Variables”to drag and fins![](/media/f2a6ea2c1bdc575f19c3a5e997a23684.png);click“Mini
Tank Robot V3”of “robot”to find and
drag![](/media/f2a6ea2c1bdc575f19c3a5e997a23684.png)；copy
![](/media/a03896cd4729fb1abdf35d52fa99c06a.png) once and change left\_light to
right\_light;click the little triangle behind left\_light\_sensor to
select right\_light\_sensor;

![](/media/344d2f9f37a12812a0830a13cf74956d.png)

（6）Click“SerialPort”to find and drag![](/media/74ffe658e52e9615b412cd61df6e446a.png);click
“text”“to find and
drag![](/media/74ffe658e52e9615b412cd61df6e446a.png)and change hello
into left\_light\_value=;

![](/media/18be4aeab79f408255c05faed16efe45.png)

（7）Click“SerialPort”to find and drag![](/media/74ffe658e52e9615b412cd61df6e446a.png);
click”Variable”to find and drag
![](/media/d356a4cf8b5c2bb42df692669d3eaff4.png);

![](/media/b0fb4cf3057be662fe8a0994983f9c48.png)

（8）Copy![](/media/df6909ab086ef6d608d9b040d19625ed.png)once; change left\_light\_value= to
right\_light\_value= and left\_light to right\_light; print in other
line ![](/media/c8c6663394c0c56365206707d57febda.png).

（9）Click“Control”to find and drag![](/media/2ca74f70e4001ad5a00d135a596025ab.png);click
![](/media/8ea2bafa58f42edf0c11e9e2a3f5bc41.png)into
![](/media/9bc8c8a6de8c36f6f62e3efb6da47926.png)into
![](/media/2ca74f70e4001ad5a00d135a596025ab.png)into
![](/media/f1a063334f9c7f82ff4903fa84b9eebc.png)and
place it behind if; click “logic”to find and
drag![](/media/ba4beab2225dda3e12dc06a6f193731f.png)into the left of and; click”variable”to find
and drag![](/media/3071fc0d749de240faa9ed11e0989990.png)into the left of“=”;click “math”to find
and drag![](/media/0171c9b9d68df2b854ebded805ca3371.png)into the right of“=”and change 0 into
650; click the little triangle behind“=”to
select“\>”;copy![](/media/422d18936a64667a2878531b50f2ea60.png)once and put it behind and ;
change left\_light to right\_light。

![](/media/94fab0a5b668ff4ae5e3faa5c7aefc85.png)

（10）Click“Mini Tank Robot V3”of “robot”to find and drag
![](/media/739b43f88561149fced150b307609427.png);copy it once; change Left to Right out it into
the first do;change the 0 in front of PWM to 200;

![](/media/379c2059b73eea07787cb234df7896bd.png)

（11）Copy ![](/media/a95ba1fb7793c9c7af29d90011ed812f.png)once and place it behind the first else
if ; change the “\>” behind right\_light to“≤”and others remain
unchanged;

![](/media/1b0469087f186b77247d5b195cb5e54e.png)

（12）Click“Mini Tank Robot V3”of “robot”to find and drag
![](/media/739b43f88561149fced150b307609427.png); copy it once; change the forward of Left motor
to back and the Right motor to forward and put it into the second do;
change all the 0s in front of PWM to 200;

![](/media/4619e2ead01942b2fee989b9a89f6135.png)

（13）Copy![](/media/995abd2d216d2293dd6cbc065e483ef3.png)once and place it in behind the second
else if; change the “\>” behind left\_light to“≤”，“≤” behind
right\_light to“\>”and others remind unchanged;

![](/media/0dd95df50f006eefcb9e3f2508daccd1.png)

(14)Copy![](/media/1ac62f71322c1bd33000a43d39661e33.png)once; change the back of the Left motor
to forward, and forward of the Right motor to back and place them into
the third do; change all the 0s in front of PWM to 200;

![](/media/c2f996559a730aba4d015e3b82d1953c.png)

（15）Click“Mini Tank Robot V3”of “robot”to find and
drag![](/media/5b8cdab87bfd6faa51dd27f507c547b1.png) into else;

![](/media/16c6733c14d16896f6df827edf7f164e.png)

Complete code：

![](/media/fbdb3c05dca5b786ebe880e963da3e34.png)

**(5 )Test Results:**

After uploading the test code successfully, connecting according to the
wiring diagram, dialing the DIP switch to the right end and powering it
on, the smart car follows the light to move.（

**Project 14: Ultrasonic Sound-following Tank**

![](/media/26de2c574af94f92874749054eacf3e9.jpeg)

**(1)Description:**

（1）项目介绍

In the previous lesson, we learned about the light-following smart car.
And in this lesson, we can combine the knowledge to make an ultrasonic
sound-following car. In the project, we use ultrasonic sensors to detect
the distance between the car and the obstacle in front, and then control
the rotation of the two motors based on this data so as to control the
movements of the smart car.

The specific logic of the ultrasonic sound- following smart car is shown
in the table blow:

<table>
<tbody>
<tr class="odd">
<td>Detection</td>
<td>The distance between the car and the obstacle front</td>
<td><p>Distance</p>
<p>（unit：cm）</p></td>
</tr>
<tr class="even">
<td>Setting</td>
<td>Set the angle of the servo to 90°</td>
<td></td>
</tr>
<tr class="odd">
<td>Condition</td>
<td>distance≥20 and distance≤60</td>
<td></td>
</tr>
<tr class="even">
<td>Movement</td>
<td>（set PWM to 200）</td>
<td></td>
</tr>
<tr class="odd">
<td>Condition</td>
<td>distance＞10 and distance＜20</td>
<td></td>
</tr>
<tr class="even">
<td></td>
<td>distance＞60</td>
<td></td>
</tr>
<tr class="odd">
<td>Movement</td>
<td>Stop</td>
<td></td>
</tr>
<tr class="even">
<td>Condition</td>
<td>distance≤10</td>
<td></td>
</tr>
<tr class="odd">
<td>Movement</td>
<td>Move back（set PWM to 200）</td>
<td></td>
</tr>
</tbody>
</table>

**(2)Flow chart**

**(3)Connection Diagram:**

![](/media/19d05faf06476538560c7cc0b18623b5.png)

Notes:

The wiring of ultrasonic, servo and motor is the same as in the previous
lesson.

The GND, VCC, SDA, and SCL of the 8x16 LED dot matrix are respectively
connected to the-(GND), + (VCC), SDA, and SCL of the V5 expansion for
communication;

**(4) Test Code**

The program will be generated if you find the following file and drag it
into Mixly software.

|           |                                                                              |                                             |
| --------- | ---------------------------------------------------------------------------- | ------------------------------------------- |
| File Type | Route                                                                        | File Name                                   |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_14\_Ultrasonic Sound-following Tank | lesson\_14\_Ultrasonic Sound-following Tank |

You could edit code step by step as follows:

（1）Click“Control”to find and drag![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png);

（2 )Click“Mini Tank Robot V3”of “robot”to find and drag
![](/media/ddc1fa36433277fdc73329958d428af0.png)into
![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png) orderly; click the little triangle behind“↑”to
choose“clear”;

![](/media/1bd533c363886083cd362758fcb1cb34.png)

（3）Copy ![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png)once and
place it onto![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png); click the little triangle
behind“clear”to choose“V”;Click”tank robot”to find and drag
![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png);change the 0 to
90;

![](/media/117e6efa655154fefa4c0580914bd53e.png)

（4）Click“Variables”to find and drag ![](/media/6f172be17940bbd0c635924742208b16.png)
into![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png);click“Math”to find and
drag![](/media/6f172be17940bbd0c635924742208b16.png); and change
item to distance。

![](/media/0337e4265ad6b00b9ea608496d1c57c3.png)

（5）Click“Variables”to find and drag ![](/media/cb8c9e53bd811de9335a034de20496a4.png);click“Minit
Tank Robot V3”of “robot”to find and drag![](/media/81ce7e6c3643325304dc801128012491.png) into
![](/media/cb8c9e53bd811de9335a034de20496a4.png);

![](/media/275fd3c60a3385066aa2440b25938d16.png)

（6）Click “Control”to find and drag![](/media/2ca74f70e4001ad5a00d135a596025ab.png); click
![](/media/8ea2bafa58f42edf0c11e9e2a3f5bc41.png)
into![](/media/9bc8c8a6de8c36f6f62e3efb6da47926.png)
into![](/media/23d14c6bea2dbc6dce97e3b22ee8adcb.png);make
![](/media/f1eea600de88c95aa2ef0ae8344c2550.png);click“Logic”to find
and drag![](/media/f1a063334f9c7f82ff4903fa84b9eebc.png)behind if; click“Logic”to find and
place![](/media/ba4beab2225dda3e12dc06a6f193731f.png)to the left side of and; click
“variables”to find and drag![](/media/fad4ae3be50a3ae9ab03723ded47a1f5.png)to the left side
of“=”;click“Math”to find and drag![](/media/0171c9b9d68df2b854ebded805ca3371.png) to the right
side of“=”;change the 0 to 20; click the little triangle behind“=”to
choose “≥”; copy![](/media/40afee46e1b9fb975eb699334c8e0c43.png)once and place it behind and ;
and change“≥”to“≤”and 20 to 60;

![](/media/70172402bd903a0d0265c1f5f27e5347.png)

（7）click“Mini Tank Robot V3”of “robot”to find and
drag![](/media/e011a845f51133ddcb3439a0f287b048.png)change all the 0s in front of PWM to 200;
copy it again and change Left to Right and place in into the first
do;change Left to Right and place in into the first do;

![](/media/fb059b4f82b70253bd42c2324db6b605.png)

（8）copy![](/media/39968d98ef56dc2ac6266f8a915c2ed6.png)once and place it behind else if ;change
the“≥”on the left side of and to“\>”, and change 20 to 10; change
the“≤”on the right side of and to“\<”and 60 to 20;

![](/media/62a2b433b44baef35b9c06c90936d5b7.png)

（8）click“Mini Tank Robot V3”of “robot”to find and
drag![](/media/915d04ba6ba87669d2c80cd6fdffe813.png)into the second do。

![](/media/c99107240d3f31592c6e956c0c4f7d66.png)

（9）Copy![](/media/19f8c9efba5c14917055875998276f7d.png)once and place it behind the second else
if; change“\>”to“\<”，and others remain unchanged;
copy![](/media/27ce42a123b0c334c29fdf430c25864c.png);change the two forward of the Left motor
and Right motor forward to back, and put them in the third do;

![](/media/517ae381f302e158ea846a5fce0aca2b.png)

（10）Click“Mini Tank Robot V3”of “robot”to find and
drag![](/media/24378858156d6de23589c8a142e1a885.png)into else;

![](/media/69f78ed7ebc829e3b74dbefb2db72a13.png)

Complete code：

![](/media/5ef325689f61a99fc45f11bb3a39a34f.png)

**(5 )Test Results:**

After uploading the test code successfully, connecting according to the
wiring diagram, dialing the DIP switch to the right end, powering it on,
and setting the servo to 9°，the smart car moves with the obstacle. ）

**Project 15: Ultrasonic Obstacle Avoidance Tank**

![](/media/7bdae4a3b3bd2c295d9ff61ca9bd792f.jpeg)

1)  **Description:**

In the previous project,we have made a ultrasonic following smart car.
Actually, with the same components and wiring, we just need to make a
slight change in code to turn it into a obstacle avoidance car.

The specific logic of the ultrasonic obstacle avoidance smart car is
shown in the table blow:

<table>
<tbody>
<tr class="odd">
<td>Detection</td>
<td><p>Distance measured by the ultrasonic senor between the car and the obstacle in front</p>
<p>（set the angle of the servo to 90°）</p></td>
<td>a（unit：cm）</td>
</tr>
<tr class="even">
<td></td>
<td><p>Distance measured by the ultrasonic senor between the car and the obstacle on the right</p>
<p>（set the angle of the servo to 0°）</p></td>
<td>a2（unit：cm）</td>
</tr>
<tr class="odd">
<td></td>
<td><p>Distance measured by the ultrasonic senor between the car and the obstacle on the left</p>
<p>（set the angle of the servo to 180°）</p></td>
<td>a1（unit：cm）</td>
</tr>
<tr class="even">
<td>Setting</td>
<td>set the starting angle of the servo to 90°</td>
<td></td>
</tr>
<tr class="odd">
<td>Condition 1</td>
<td>Movement</td>
<td></td>
</tr>
<tr class="even">
<td>a＜20</td>
<td>Stop for 1000 ms；set the angle of the servo to 180°;delay in 500ms;read a1;delay in 100ms；set the angle of the servo to 0°;read a2，delay in 100ms; return the angle of the servo to 90°;delay in 500ms;</td>
<td></td>
</tr>
<tr class="odd">
<td></td>
<td>Condition 2</td>
<td>Movement</td>
</tr>
<tr class="even">
<td></td>
<td>a1&gt;a2</td>
<td>Set the angle of the servo to 90°，rotate left for 500ms（set PWM to 255），and move forward（set PWM to 200）.</td>
</tr>
<tr class="odd">
<td></td>
<td>a1&lt;=a2</td>
<td>Set the angle of the servo to 90°，rotate right for 500ms（set PWM to 255），and move forward（set PWM to 200）.</td>
</tr>
<tr class="even">
<td>Condition 2</td>
<td>Movement</td>
<td></td>
</tr>
<tr class="odd">
<td>a≥20</td>
<td>move forward（set PWM to 200）</td>
<td></td>
</tr>
</tbody>
</table>

### **(2)Flow chart**

**(3)Connection Diagram:**

![](/media/2ba32b8e2038fbc344fea3c24c0105a3.png)

(Note: the “-”, “+” and S pins of the servo are respectively connected
to G (GND), V (VCC) and D10 of the expansion board；and for the
ultrasonic sensor,the VCC pin is connected to the 5v (V) ,the Trig pin
to digital 12 (S), the Echo pin to digital 13 (S), and the Gnd pin to
Gnd (G); the same as last project.）

**(4)Test Code**

The program will be generated if you find the following file and drag it
into Mixly software.

|           |                                                                                 |                                                |
| --------- | ------------------------------------------------------------------------------- | ---------------------------------------------- |
| File Type | Route                                                                           | File Name                                      |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_15\_Ultrasonic Obstacle Avoidance Tank | lesson\_15\_Ultrasonic Obstacle Avoidance Tank |

You could edit code step by step as follows:

（1）Click “Control”to find and drag![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png)。

2.  Click "Variables" to find and
    drag![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png);click
    "math"，to find and
    drag![](/media/c376f71ce273bc7c11f361d0dc8906a1.png)twice
    and place it into![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png); change item to a、a1、a2
    respectively; the variable "a" saves the distance at which the
    ultrasonic sensor detects the obstacle ahead when the servo is at an
    angle of 90°；the variable "a1" saves the distance at which the
    ultrasonic sensor detects the obstacle to the left when the servo is
    at an angle of 180°；the variable "a2" saves the distance at which
    the ultrasonic sensor detects the obstacle to the right when the
    servo is at an angle of 0°；
    
    ![](/media/0364c4fcecf9249444e3f37e506f8725.png)

3.  Click“Mini Tank Robot V3”of “robot”to find and
    drag![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png); change the
    0 to 90;
    
    ![](/media/5d11e6f8e5dbeef72561fcfa76a26009.png)

4.  Click“Variables”to find and drag![](/media/1105685589a09f4a70597cf4f8ab66bd.png);click“Mini
    Tank Robot V3”of “robot”to find and
    drag![](/media/1105685589a09f4a70597cf4f8ab66bd.png);
    
    ![](/media/9983a26cf38481955b90dadf04b2fc94.png)

5.  Click“Control”to find and
    drag![](/media/6b0bc0755ffe368004c9ad0f73a1b573.png);drag
    ![](/media/ec67799ae6a24d7f0bc062e6efad352e.png) to
    get![](/media/1ecffbd539806a583d03347c7aa5a77a.png); click“Logic”to find and
    drag![](/media/6b2e4153feb0792dfea522a67a56d6e4.png)behind if;click“Variables”to find and
    drag ![](/media/893b42def18b0f1cce9209461e02986f.png) into the left side of“=”;
    click“Math”to find and drag![](/media/5bdcc1474163c0a6c831b8e0f187fe94.png)to the right
    side of“=”;change 0 to 20，click the little triangle behind “=” to
    choose“＜;
    
    ![](/media/dbc4b4380e31b3e120204977f1791483.png)

6.  Click“Mini Tank Robot V3”of “robot”to find and
    drag![](/media/fd166edc4fbcb8f038d503f4b0481d29.png)into do; click “Control”to find and
    drag![](/media/b36d41f8c3f679d192b1f7a4045b2f50.png) into do; change delay in 1000ms to
    500ms; click“Mini Tank Robot V3”to find and
    drag![](/media/39818d397c240c66bc3ad41ffecc9449.png)into do;change 0 to 180。
    
    ![](/media/385a84868490e073c1ebf0b6450de432.png)

7.  Click “Control”to find and drag![](/media/b36d41f8c3f679d192b1f7a4045b2f50.png)into
    do;change delay in1000ms to 500ms;
    copy![](/media/ec9ce95432099bdead079dacb6d04b16.png)once;click”control”to
    dear![](/media/b36d41f8c3f679d192b1f7a4045b2f50.png)into do and change 1000 into 100;
    copy![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png) once and
    place it into do; the number 0 remain unchanged;copy
    ![](/media/f8918f9628f517d501e2113c86609a8c.png)once again;
    
    ![](/media/e7c3e2e4240ff1d3d62b0e7a93615e1b.png)

8.  copy![](/media/7b3187943a73db7aacf0b6fa3b95294e.png)and place it into do;change a1 to a2，0°
    to 90°，and others remain unchanged;
    
    ![](/media/bb29dcace330bd8bfd9862bd67e8f364.png)

9.  Click“Control”to find and drag ![](/media/fad4c0aa5b58d92bf0269099face7f63.png)into
    do;，click![](/media/4df0c9deaa8baeddd3a9047381c333bb.png)to
    ![](/media/1ecffbd539806a583d03347c7aa5a77a.png);
    click“Logic”to find and drag
    ![](/media/6b2e4153feb0792dfea522a67a56d6e4.png)into“if”;click“Variables”to find and
    drag ![](/media/7a0dd556ca2e152149b8dbe4b449cfdf.png)into the left side of “\>”; click“Math”
    to find and drag![](/media/5bdcc1474163c0a6c831b8e0f187fe94.png) into the right side
    of“\>”;change 0 to 50; click the little triangle behind“=” to
    select“\>”;
    
    ![](/media/1c6975fdaccbdb8b9d8823e07e4f4523.png)

10. Click“Mini Tank Robot V3”of “robot”to find and
    drag![](/media/d6589e1a89f1999b7572c3debc1ebfc0.png); change speed 255 to 200; copy it once
    and change the forward of the Left motor to back，and the other Left
    motor to Right![](/media/755ce3b1a24c1d50452d2c8711812d1d.png) and place them to
    ![](/media/76f054d430e7207b48ec9e2069e6d016.png)do;click“Control”to drag
    ![](/media/76f054d430e7207b48ec9e2069e6d016.png)do; and change
    delay in 1000ms to 700ms;
    
    ![](/media/f7eba52513106816a65dbdf0464e6c39.png)

11. Copy ![](/media/70bfc4ea37c0827e2f448193f5569d4d.png)once and place it into
    ![](/media/76f054d430e7207b48ec9e2069e6d016.png)of else; change the Left motor to forward
    and the Right motor to back![](/media/9d5449280e6e0634a4e153b61e1f3f4d.png)，and others
    remain unchanged;
    
    ![](/media/f37b59c8d00caaf70ab19f6c5472e6d4.png)
    
    copy![](/media/755ce3b1a24c1d50452d2c8711812d1d.png)once and change backto
    forward![](/media/b4f34baf50e54b40d340615513378ae7.png) and place them into the second else;
    
    ![](/media/9be82980a8a1c56fc1218df1624b41ff.png)
    
    Complete code：
    
    ![](/media/1be943dee8566becc7abcb7757718305.png)
    
    ![](/media/9c0d63a2a57631a41517484e0eaba991.png)

**(5)Test Results:**

After uploading the test code successfully, connecting according to the
wiring diagram, dialing the DIP switch to the right end, and powering it
on, the smart car moves forward and it automatically avoid
obstacles.5）测试结

**Project 16: Move-in-Confined-Space Tank**

![](/media/b519c777b40a0de462f10814d4c3ca48.jpeg)

**(1)Description:**

1）项目介绍：

The ultrasonic sound-following and obstacle avoidance functions of the
smart car have been introduced in previous projects. Here we intend to
combine the knowledge in the previous courses to confine the smart car
to move in a certain space. In the experiment, we use the line-tracking
sensor to detect whether there is a black line around the smart car, and
then control the rotation of the two motors according to the detection
results, so as to lock the smart car in a circle drawn in black line.

The specific logic of the line-tracking smart car is shown in the table
blow:

<table>
<tbody>
<tr class="odd">
<td>Detection</td>
<td>Line-tracking sensor in the middle</td>
<td>Black line detected: in high level</td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td>White line detected: in low level</td>
</tr>
<tr class="odd">
<td></td>
<td>Line-tracking sensor on the left</td>
<td>Black line detected: in high level</td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td>White line detected: in low level</td>
</tr>
<tr class="odd">
<td></td>
<td>Line-tracking sensor on the right</td>
<td>Black line detected: in high level</td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td>White line detected: in low level</td>
</tr>
<tr class="odd">
<td>Condition</td>
<td>Movement</td>
<td></td>
</tr>
<tr class="even">
<td>All the three line-tracking sensors detect no black lines</td>
<td>Move forward（set PWM to 200）</td>
<td></td>
</tr>
<tr class="odd">
<td>Any of the three line-tracking sensors detects black lines</td>
<td><p>Step back（set PWM to 200）</p>
<p>Then rotate left（set PWM to 200）</p></td>
<td></td>
</tr>
</tbody>
</table>

**(2)Flow chart**

**(3)Connection Diagram:**

![](/media/aca72dc201de41ce9edd42c30ea4628d.png)

**(4)Test Code**

The program will be generated if you find the following file and drag it
into Mixly software.

|           |                                                                           |                                          |
| --------- | ------------------------------------------------------------------------- | ---------------------------------------- |
| File Type | Route                                                                     | File Name                                |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_16\_ Move-in-Confined-Space Tank | lesson\_16\_ Move-in-Confined-Space Tank |

You could edit code step by step as follows:

（1）Click "Variables"to find and drag![](/media/6f172be17940bbd0c635924742208b16.png); click
"math"to find and
drag![](/media/6f172be17940bbd0c635924742208b16.png);
copy![](/media/c376f71ce273bc7c11f361d0dc8906a1.png) twice and item to L\_val、M\_val、R\_val
respectively; variable L\_val”saves the value of the line-tracking
sensor on the left; variable“M\_val”saves the value of the line-tracking
sensor in the middle；variable“R\_val”saves the value of the
line-tracking sensor on the right ![](/media/308e39cf1c9f2764a946aeab1fe3ad94.png);

2.  Click“Mini Tank Robot V3”of “robot”to find and
    drag![](/media/aa976a69a7767ef29b5c8507afa6c402.png);copy it twice and change to “center
    tracking”and “right tracking”respectively; click“Variables”to
    drag![](/media/8fce82a76c53c50394b0f424c07baea5.png)and
    ![](/media/75cd784d03627885512529dcb59a1487.png)orderly;
    
    ![](/media/6e6433993d01d00a4d555dcdd77332a9.png)
    
    （3）Click“Control”to find and
    drag![](/media/24ea9c89bd1973f731b757a3bd4bd108.png);click“Logic”to find and
    drag![](/media/fe913955bc7775d2b8e81e3bf7d19fd2.png); change and to or and copy it again;
    put one into the other![](/media/231ab20d7f7953f738c38dfa734eb9e7.png);click“Logic”to
    copy![](/media/a3daf771aba53506fc26e8748dd15d22.png)twice;put
    ![](/media/f2fad7f7d0be28a9e5dc11f9cc7072c7.png) and
    ![](/media/9beb4831719ae66adabb4e30da0e453a.png)into one side of“Variables” and
    click“Math”to drag![](/media/9c862bf97ceb5a6c6fe0268d697c4b00.png)three times to the
    other side![](/media/a62ef7e4b1815701ac953bf6b3b2bf2f.png); and place them to if
    ![](/media/f04c55f94d3ff5927a1d4ff945e281fe.png).
    
    （4）Click“Mini Tank Robot V3”of “robot”to find and
    drag![](/media/11490c4a2a83f87b804a725ff39f3274.png) and change 255 to 200 and copy it once;
    change Left to Right and place them to do![](/media/89e3be42a295d6ccca4b15ce255c7d04.png);
    
    （5）Copy ![](/media/89e3be42a295d6ccca4b15ce255c7d04.png)once, change forward to back and
    click“Control”to drag ![](/media/c64a4711125d642ed6e519a5bea80273.png) and change 1000 to
    500![](/media/53709a5933406ca21f4b9639f74b9bec.png)and place them into else
    ![](/media/7189188c32dfe23a859df2fc8c7dfeec.png).
    
    （6）Copy![](/media/7a723d678920950f6616752306afde33.png)once, change the back of the Right
    motor to forward, change 1000ms![](/media/c64a4711125d642ed6e519a5bea80273.png)to 700 and
    put them in else;
    
    ![](/media/2666132bc58362b3733dc94dc4db5bbb.png)
    
    Complete code：
    
    ![](/media/5e04ceffd8f988d4a76243a7948c104d.png)

**(5 )Test Results:**

After uploading the test code successfully and powering it up, the smart
car moves in a confined space, the circle drawn in black line.）测试结

**Project 17:Line-tracking Tank**

![](/media/f07697b638146afdcd6dea654f5d2137.jpeg)

**(1)Description:**

In 1）项目介绍：

The previous project has introduced how to confine the smart car to move
in a certain space. In this project, we could use the knowledge learned
before to make it a line-tracking smart car. In the experiment, we use
the line-tracking sensor to detect whether there is a black line around
the smart car, and then control the rotation of the two motors according
to the detection results, so as to make the smart car to move along the
black line.

The specific logic of the line-tracking smart car is shown in the table
blow:

|                                                           |                                                                                                      |                                    |
| --------------------------------------------------------- | ---------------------------------------------------------------------------------------------------- | ---------------------------------- |
| Detection                                                 | Line-tracking sensor in the middle                                                                   | Black line detected: in high level |
|                                                           |                                                                                                      | White line detected: in low level  |
|                                                           | Line-tracking sensor on the left                                                                     | Black line detected: in high level |
|                                                           |                                                                                                      | White line detected: in low level  |
|                                                           | Line-tracking sensor on the right                                                                    | Black line detected: in high level |
|                                                           |                                                                                                      | White line detected: in low level  |
| Condition                                                 | Movement                                                                                             |                                    |
| Line-tracking sensor in the middle detects the black line | Line-tracking sensor on the left detects the black line and the one on the right detects white lines | Rotate left（set PWM to 200）        |
|                                                           | Line-tracking sensor on the left detects white lines and the one on the right detects the black line | Rotate right（set PWM to 200）       |
|                                                           | Both the left and right line-tracking sensors detect white lines                                     | Move forward                       |
|                                                           | Both the left and right line-tracking sensors detect the black line                                  |                                    |
| Line-tracking sensor in the middle detects white lines    | Line-tracking sensor on the left detects the black line and the one on the right detects white lines | Rotate left（set PWM to 200）        |
|                                                           | Line-tracking sensor on the left detects white lines and the one on the right detects the black line | Rotate right（set PWM to 200）       |
|                                                           | Both the left and right line-tracking sensors detect white lines                                     | Stop                               |
|                                                           | Both the left and right line-tracking sensors detect the black line                                  |                                    |

**(2)Flow chart**

**(3)Connection Diagram:**

![](/media/aca72dc201de41ce9edd42c30ea4628d.png)

Note: it is the same as last project

**(4)Test Code**

The program will be generated if you find the following file and drag it
into Mixly software.

|           |                                                                 |                                |
| --------- | --------------------------------------------------------------- | ------------------------------ |
| File Type | Route                                                           | File Name                      |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_17\_Line-tracking Tank | lesson\_17\_Line-tracking Tank |

You could edit code step by step as follows:

（1）Click "Variables" to find and drag![](/media/6f172be17940bbd0c635924742208b16.png)，click
"math"，to find and
drag![](/media/c376f71ce273bc7c11f361d0dc8906a1.png)twice
and change item to L\_val、M\_val、R\_val; variable L\_val”saves the value
of the line-tracking sensor on the left; variable“M\_val”saves the value
of the line-tracking sensor in the middle；variable“R\_val”saves the
value of the line-tracking sensor on the right

![](/media/308e39cf1c9f2764a946aeab1fe3ad94.png).

3.  （2）Click“Mini Tank Robot V3”of “robot”to find and
    drag![](/media/aa976a69a7767ef29b5c8507afa6c402.png);copy it twice and change to “center
    tracking”and “right tracking”respectively; click“Variables”to
    drag![](/media/8fce82a76c53c50394b0f424c07baea5.png)and
    ![](/media/75cd784d03627885512529dcb59a1487.png)orderly;
    
    ![](/media/6e6433993d01d00a4d555dcdd77332a9.png)

4.  Click“Control”to find and drag ![](/media/24ea9c89bd1973f731b757a3bd4bd108.png) and
    ![](/media/7dc84495a7fff09a3152845d1df725e7.png)once，and place
    them to do and else respectively![](/media/a5df8bb2374115e8028487c5dfa94922.png);
    click“Logic” to drag![](/media/a3daf771aba53506fc26e8748dd15d22.png)and copy it
    twice;click “Variables” to find and drag ![](/media/f2fad7f7d0be28a9e5dc11f9cc7072c7.png) to
    the one side of = ; click “Math” to drag ![](/media/9c862bf97ceb5a6c6fe0268d697c4b00.png)
    and change o to 1 and put it in the other side of
    =![](/media/e78aadc5fee5b73b43b9eaebe204043b.png); and then put them on the top of if
    ![](/media/9a327385290f60d316b325e8fe8aeb2f.png);

5.  Click“Logic”to drag ![](/media/5d866efffe131dd34b392ff3b640da62.png) and copy it
    twice![](/media/b5e98487777fcf598f4c2de943276a3e.png); change“M\_val” to “L\_val” and
    “R\_val”respectively ; for R\_val,change the 1 to 0; and place
    them in the two sides of and![](/media/46f5c143972d1baf718b3e14cad0b3d9.png);and them it the
    second if;
    
    （5）Click“Mini Tank Robot V3”of “robot”to find and drag
    ![](/media/11490c4a2a83f87b804a725ff39f3274.png), change 255 to 200, copy it once, change
    Left to Right, change the forward of the Left motor to back and
    place them in into the second do ![](/media/0bcbdf42f2de8939fddf2d7b6c7562e6.png);
    
    （6）Copy![](/media/46f5c143972d1baf718b3e14cad0b3d9.png) and change the 1on the left to 0 and
    the 0 on the right o 1, and place them to else if;
    
    Copy ![](/media/0bcbdf42f2de8939fddf2d7b6c7562e6.png)once and change the back of the Right
    motor to forward, and the forward of the Left motor to back and
    place them all to the third do;
    
    ![](/media/b5733365dcc5a37854f3617df6082329.png)
    
    （7）Copy ![](/media/0bcbdf42f2de8939fddf2d7b6c7562e6.png)once and change the back of the Left
    motor to forward and place them in else;
    
    ![](/media/3a23a6bfb21f65604816cc5e5d49205e.png)
    
    （8）Copy ![](/media/ded364e239da94982c070e404c9cb655.png)once and replace
    ![](/media/219a1f0cdf2942ad4aa42ef4d54dc539.png) to get
    ![](/media/6d8f34fe3525fdf54cf7a3ace92b8c1b.png);
    
    Complete code：
    
    ![](/media/9c7722234be7e3b4751c6f0efe9a97da.png)
    
    ![](/media/658dfcd137c636c4999e020dad135c9a.png)

**(5)Test Results:**

After uploading the test code successfully and powering it up, the smart
car moves along the black line.（5

**Project 18: Fire Extinguishing Tank**

![](/media/b407e190f2308dcdb0a1570795fe2b54.jpeg)

**(1)Description:**

T

The line-tracking function of the smart tank has been explained in the
previous project. And in this project we use the flame sensor to make a
fire extinguishing robot. When the car encounters flames, the motor of
the fan will rotate to blow out the fire. Of course, we need to replace
the ultrasonic sensor and two photoresistors with a fan module and flame
sensors first.

The specific logic of the line-tracking smart car is shown in the table
blow:

|                 |                               |                                              |
| --------------- | ----------------------------- | -------------------------------------------- |
| Initial setting | Set the angle of servo to 90° | The status of the car and the fan            |
| Flame sensors   |                               |                                              |
| On the left     | On the right                  |                                              |
| \<700           | \<700                         | The car stops and turn on the fan            |
| \<700           | \>700                         | The car stops and turn on the fan            |
| \>700           | \<700                         | The car stops and turn on the fan            |
| \>700           | \>700                         | Turn off the fan and continue following line |

**(2)Flow chart**

**(3)Connection Diagram:**

![](/media/2356806a8a8f49b9964b90f0babcde9d.png)

Note: the GND, VCC, SDA, and SCL of the 8x16 LED dot matrix are
respectively connected to-(GND), + (VCC), SDA, SCL on the expansion
board of V5 ;

The "-", "+" and S pins of the infrared receiving sensor are
respectively connected to the G (GND), V (VCC), A0 of the expansion
board with wires. When the digital port is not enough, the analog port
can be used as a digital port, and analog port A0 is equivalent to
digital port 14, A1 is equivalent to digital port 15, and so on.

**(4)Test Code**

The program will be generated if you find the following file and drag it
into Mixly software.

|           |                                                                      |                                     |
| --------- | -------------------------------------------------------------------- | ----------------------------------- |
| File Type | Route                                                                | File Name                           |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_18\_Fire Extinguishing Tank | lesson\_18\_Fire Extinguishing Tank |

You could edit code step by step as follows:

（1）Click "Variables"to find and drag![](/media/6f172be17940bbd0c635924742208b16.png); click
"math"to find and
drag![](/media/6f172be17940bbd0c635924742208b16.png);
copy![](/media/c376f71ce273bc7c11f361d0dc8906a1.png) twice and item to L\_val、M\_val、R\_val
respectively; variable L\_val”saves the value of the line-tracking
sensor on the left; variable“M\_val”saves the value of the line-tracking
sensor in the middle；variable“R\_val”saves the value of the
line-tracking sensor on the right ; and copy it twice again and change
item to flame\_L and flame\_R respectively;

![](/media/aa4affa6d3f60fa190f87c9f53a7967c.png)

6.  （2）Click“Mini Tank Robot V3”of “robot”to find and
    drag![](/media/aa976a69a7767ef29b5c8507afa6c402.png);copy it twice and change to “center
    tracking”and “right tracking”respectively; then
    drag![](/media/b30a64e8383554beb1927b30d91568a2.png) and copy it once and change to “Left”
    and “Right”![](/media/db6c4ba702754dacac872aa0aefb921e.png);click“Variables”to
    drag![](/media/8fce82a76c53c50394b0f424c07baea5.png)
    and ![](/media/75cd784d03627885512529dcb59a1487.png)orderly;
    
    ![](/media/6e6433993d01d00a4d555dcdd77332a9.png)
    
    （3）Click“Control”to find and
    drag![](/media/24ea9c89bd1973f731b757a3bd4bd108.png);click“Logic”to find and drag
    ![](/media/34746166435649c6be2be4084ebe1574.png)and copy
    twice; place the ![](/media/e235dc52d6a1859e30e5192ef477ea30.png)of Variables to the left
    side of ≤ and click“Math”to drag ![](/media/9c862bf97ceb5a6c6fe0268d697c4b00.png), change 0
    to 700 and place it to the other side![](/media/6fe908781e92d2f5475a5c69f51e1c79.png); copy
    once,change flame\_L to flame\_R![](/media/a9da0b1af9f6a890b60e3ba006785a2c.png),and place
    them in the two sides of or![](/media/3184e6c9c542f2e1f72f234053df3e5b.png)and then put them
    in the top of if;
    
    （4）Click“Mini Tank Robot V3”of “robot”to find and
    drag![](/media/36f8c9fff6c8e5d7f039073ecec1e475.png)to the
    first do ![](/media/9a160ad437ed7518532a790d21aa3e4f.png);
    
    （5）Click“Mini Tank Robot V3”of “robot”to find and
    drag![](/media/5193874db83f97e7c6c20a3e2cb5ba4f.png)and change forward to
    stop![](/media/32308abab8b724a67bbe7e86738573e0.png)to get
    
    ![](/media/c56a561168c6b1d4cc9d79b549cfd88a.png)；

7.  Click“Control”to find and drag ![](/media/24ea9c89bd1973f731b757a3bd4bd108.png) and
    ![](/media/7dc84495a7fff09a3152845d1df725e7.png)once to place
    to do and else ![](/media/a5df8bb2374115e8028487c5dfa94922.png);click“Logic”to
    drag“Logic”![](/media/a3daf771aba53506fc26e8748dd15d22.png) and copy it twice; put
    ![](/media/f2fad7f7d0be28a9e5dc11f9cc7072c7.png) of “Variables” to one side of = and and
    click“Math” to drag ![](/media/9c862bf97ceb5a6c6fe0268d697c4b00.png) and change 0 to 20 and
    put it on the other side![](/media/e78aadc5fee5b73b43b9eaebe204043b.png); and place them on
    the top of if ![](/media/9a327385290f60d316b325e8fe8aeb2f.png);

8.  Click“Logic”to drag ![](/media/5d866efffe131dd34b392ff3b640da62.png) and copy it
    twice![](/media/b5e98487777fcf598f4c2de943276a3e.png);respectively change "M\_val" to
    "L\_val" and "R\_val", for R\_val change 1 to 0 and put them on both
    sides of and![](/media/46f5c143972d1baf718b3e14cad0b3d9.png); and place them on the second
    if;
    
    （5）Click“Mini Tank Robot V3”of “robot”to find and drag，to find and
    drag![](/media/11490c4a2a83f87b804a725ff39f3274.png); change 255 to 200;copy it once; change
    Left to Right, and the forward of the Left motor to back and place
    them into the second do![](/media/0bcbdf42f2de8939fddf2d7b6c7562e6.png);
    
    （6）Copy![](/media/46f5c143972d1baf718b3e14cad0b3d9.png) and change the 1 of L\_val to 0 and
    0 of R\_val to 1 and put them to else if;
    
    Copy ![](/media/0bcbdf42f2de8939fddf2d7b6c7562e6.png)once ;change the back of the Right
    motor to forward, and the forward of the Left motor to back and
    place them in the third do;
    
    ![](/media/b5733365dcc5a37854f3617df6082329.png)
    
    （7）copy![](/media/0bcbdf42f2de8939fddf2d7b6c7562e6.png)once,change the back of the Left
    motor to forward and put them to else;
    
    ![](/media/3a23a6bfb21f65604816cc5e5d49205e.png)
    
    （8）copy ![](/media/ded364e239da94982c070e404c9cb655.png)once,replace
    ![](/media/219a1f0cdf2942ad4aa42ef4d54dc539.png) to get
    ![](/media/6d8f34fe3525fdf54cf7a3ace92b8c1b.png)
    
    Complete code：
    
    ![](/media/6ed1c7f28778bde85a512f312187f2ef.png)
    
    ![](/media/89bc252e283f1b96aa335663503872bb.png)

**(5)Test Results:**

After uploading the test code successfully and powering it up, the smart
car puts out the fire when it detects flame and continues moving along
the black line.5P

**Project 19:** **IR Remote Control Tank**

![](/media/fe3319362c94d0bcf196e86b0de2b885.jpeg)

**(1)Description:**

Infrared remote control is one of the most common remote control found
applications in electric motors, electric fans, and many other household
appliances. In this project,we use the knowledge we learned before to
make an infrared remote control smart car.

In the 9th lesson, we have tested the corresponding key value of each
key of the infrared remote control. In the project, we can set the code
(key value) to make the corresponding button to control the movements of
the smart car, and display the movement patterns on the 8X16 LED dot
matrix.

The specific logic of the line-tracking smart car is shown in the table
blow:

<table>
<tbody>
<tr class="odd">
<td>Initial setting</td>
<td>Set the servo to 90°</td>
<td></td>
</tr>
<tr class="even">
<td></td>
<td>8X16 LED dot matrix shows the pattern“V”</td>
<td></td>
</tr>
<tr class="odd">
<td>Ultrasonic key</td>
<td>Key value</td>
<td>Instructions from the key</td>
</tr>
<tr class="even">
<td>Key:<img src="/media/b11dc5ffa6cccebc6088e5d557d76daf.png" style="width:0.57292in;height:0.61458in" /></td>
<td><p>Key value:</p>
<p>FF629D</p></td>
<td>Move forward（PWM设为200）</td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td>8X16 LED dot matrix displays the pattern going forward</td>
</tr>
<tr class="even">
<td>Key:<img src="/media/ae8110034aacb083151cfd882ee599ba.png" style="width:0.57292in;height:0.58333in" /></td>
<td><p>Key value:</p>
<p>FFA857</p></td>
<td>Turn back（set PWM to 200）</td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td>8X16 LEDdot matrix displays the pattern turning back</td>
</tr>
<tr class="even">
<td>Key:<img src="/media/bce9cba2c6d2465fbcce570ad4210eba.png" style="width:0.5625in;height:0.58333in" /></td>
<td><p>Key value:</p>
<p>FF22DD</p></td>
<td>Turn left</td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td>8X16 LED dot matrix displays the pattern turning left</td>
</tr>
<tr class="even">
<td>Key:<img src="/media/ad907a618af86f30d52986bbbd57ba76.png" style="width:0.5625in;height:0.57292in" /></td>
<td><p>Key value:</p>
<p>FFC23D</p></td>
<td>Turn right</td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td>8X16 LED dot matrix displays the pattern turning right</td>
</tr>
<tr class="even">
<td>Key:<img src="/media/9716a4ed61a4064d2f47a7b73eccaf87.png" style="width:0.5625in;height:0.54167in" /></td>
<td><p>Key value:</p>
<p>FF02FD</p></td>
<td>Stop</td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td>8X16 LED dot matrix displays the pattern “STOP”</td>
</tr>
<tr class="even">
<td>Key:<img src="/media/92499f5bf0b8a1e6ec85526b5293fbbf.png" style="width:0.55208in;height:0.54167in" /></td>
<td><p>Key value:</p>
<p>FF30CF</p></td>
<td>Rotate left（set PWM to 200）</td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td>8X16 LED dot matrix displays the pattern turning left</td>
</tr>
<tr class="even">
<td><p>Key:</p>
<p><img src="/media/dcada1dd0e8a75bc9f041e039bb15755.png" style="width:0.53125in;height:0.55208in" /></p></td>
<td><p>Key value:</p>
<p>FF7A85</p></td>
<td>Rotate right（set PWM to 200）</td>
</tr>
<tr class="odd">
<td></td>
<td></td>
<td>8X16 LED dot matrix displays the pattern turning right</td>
</tr>
</tbody>
</table>

**(2)Flow chart**

**(3)Connection Diagram:**

![](/media/66a2c26ffac90f8e7fa633b8613aa573.png)

Note: The GND, VCC, SDA, and SCL of the 8x16 LED dot matrix are
respectively connected to-(GND), + (VCC), SDA, SCL on the sensor
expansion board of V5.

The pins "-", "+" and S of the infrared receiving sensor module are
respectively connected to G (GND), V (VCC), and A0 of the Keyestudio
expansion board. When the digital port is not enough, the analog port
can be used as a digital port. And analog port A0 is equivalent to
digital port 14, A1 is equivalent to digital port 15, and so on.

**(4)Test Code**

The program will be generated if you find the following file and drag it
into Mixly software.

|           |                                                                     |                                    |
| --------- | ------------------------------------------------------------------- | ---------------------------------- |
| File Type | Route                                                               | File Name                          |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_19\_IR Remote Control Tank | lesson\_19\_IR Remote Control Tank |

You could edit code step by step as follows:

（1）Click “Control”to find and drag![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png)。

2.  Click“Mini Tank Robot V3”of “robot”to find and
    drag![](/media/2f996f40986807997788ac079439f960.png)and
    ![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png);click the
    little triangle of“↑”to choose“clear”![](/media/69c1eb0cc79361ecf61e0105734c21d5.png);
    
    (3)Copy![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png) once and
    place it into![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png) and click click the little
    triangle of“clear”to choose“V”;
    
    ![](/media/5d22cd02d07ffbfa62d6ea6c09d78170.png)
    
    （4）Click“Mini Tank Robot V3”of “robot”to find and
    drag![](/media/83e3f8ec823132eb456b4b158b7520db.png);
    
    (5)Click “Control”to find and drag![](/media/2ca74f70e4001ad5a00d135a596025ab.png);
    click“Logic”to find and drag![](/media/ba4beab2225dda3e12dc06a6f193731f.png) behind
    if;clic“Variables”to find and drag ![](/media/b358f4a37c9c416e6b197b2a9a7e3a30.png) into the
    left side of “=”;click“Math”to drag ![](/media/0171c9b9d68df2b854ebded805ca3371.png) to the
    right side of“=”; change 0 to 0xFF629D; click“Mini Tank Robot V3”of
    “robot”to find and
    drag![](/media/5278ae8b8a09163f266c0d288e564a10.png) and
    ![](/media/91c6947cc0e2b1eb892f7058ce7b7e2d.png) orderly and change all the 0s in front of
    PWM to 200:
    
    ![](/media/0cfe61f2a13336056c59d6b224e765ce.png);

<!-- end list -->

4.  Copy ![](/media/8415217b3dc30ca18db94b7076910510.png) four times; change 0xFF629D to
    0xFFA857, 0xFF22DD, 0xFFC23D and 0xFF02FD；click“Mini Tank Robot V3”
    to find and change ![](/media/010f70774ba3d9fe27c9a9099a5a7aca.png)to
    ![](/media/482e4facb6a7616b3f007f927721cdf0.png)and
    ![](/media/239bf78bc369ee44c26f7b940738a83a.png) respectively; click the little triangle
    behind“↑”to choose“↓”、“←”、“→” and “STOP”respectively;

5.  Copy ![](/media/a17d11a3467baa891593fe3025aeaacc.png) twice; change 0xFF629D to 0xFF30CF and
    0xFF7A85 respectively；click “Tank Robot”to find and replace
    ![](/media/75af050074ee7f0cca10b3457f09e887.png)and
    ![](/media/08dbcf4ddc06565fde0d7b2466eb0b28.png);change all the 0s in front of PWM to
    200；click the little triangle behind“↑” to choose“←” and “→”.
    
    Complete code：
    
    ![](/media/0fa55edb12f69e3e0f4d98274703d0a0.png)
    
    ![](/media/177cf3c5739f3217476dbfb2a6ad8bb1.png)

**(5)Test Results:**

（5）测试结果

After uploading the test code successfully and powering it up, the smart
car can be controlled to move by IR remote control and the 8\*16 shows
the corresponding patterns of its movements.

**Project 20: Bluetooth Control Tank**

![](/media/8472e049f0ac03340b68b64e7593d9a1.jpeg)

1)  **Description:**
    
    We have learned the basic knowledge of Bluetooth in the previous
    project . In this lesson, we will use Bluetooth to control the smart
    car. Since it involves Bluetooth, a sending end and a receiving end
    are needed. In the project, we use the mobile phone as the sender
    (master), and the smart car connected with the HM-10 Bluetooth
    module (slave) as the receiver.
    
    We have learned earlier that sending a bit can control LEDs. And the
    principle of controlling this robot car is the same.
    
    In order to better control the intelligent tank robot, we specially
    made an APP. In this lesson, we will read all the key value on this
    APP through code, and then introduce the exclusive APP of our tank
    robot.
    
    ）APP的下载安装与介绍：

**(2)About the APP KeyesRobot**

**Download instructions for Apple System**

Open App Store→search for KeyesRobot→download it to your phone.

![](/media/38b61289e05c2e37ee7e10890303f130.png)

Open the APP Motorhome →the following page pops up→select Tank Robot.

![](/media/31879907eebdbcf596766e1f87506189.png)

Turn on the Bluetooth on mobile phone → click the Bluetooth button in
the upper right corner of this APP →search and pair them.

(Note: we need to turn on the location permission when we pair
Bluetooth.)

![](/media/a368e3381590429b53bc7a17fbff6464.png)

Select TANK ROBOT and the following page appears:

![](/media/2a9b5222a3dd4ec16e2f479d00b82b24.png)

The usage of this App is almost the same for Apple system and Android
system. And here we intend to take Android system as an example to
explain how to use it properly.

**Download instructions for Android System**

Search KeyesRobot in Google Play or click following link:

https:/play.google.com/store/apps/details?id=com.keyestudio.keyestudio

![](/media/ec232996a18b4cad2a22379fc795f0ee.png)

Click Sign in to download the APP

![](/media/2ecba5bc20bf85129a394d2b9b99321a.png)

The following icon implies a successful installation.

![](/media/1e01c31ab01988cbcd9bd52554d8bc3b.png)

Click the icon to enter the APP and choose TANK ROBOT;

Enable "location and Bluetooth" permission, then connect and pair
Bluetooth;

Scan for Bluetooth devices and the name of Bluetooth BLE 4.0 is HMSoft
which does not have a pairing password.

![](/media/31879907eebdbcf596766e1f87506189.png)

After uploading the test code successfully, powering it up and
connecting it with Bluetooth, the LED on the Bluetooth module flashed;

Click icon ![](/media/a368e3381590429b53bc7a17fbff6464.png) and search for Bluetooth as shown
below.

![](/media/a32f0b37bea6bc13a2f785c6aeb35d22.png)

Click connect and the pairing is done and the LED remains on.

![](/media/afdedea4a9a7235766e67c22744d725f.png)

Connect the Bluetooth module and open the serial monitor to set the baud
rate to 9600;

Press the button of the Bluetooth APP, and the corresponding characters
are displayed in the serial monitor as shown in the picture below:

![](/media/6886bcc40850b08182b6970bdafd1ed0.png)

**(3)Test Code 1**

The program will be generated if you find the following file and drag it
into Mixly software.

|           |                                                                     |                                    |
| --------- | ------------------------------------------------------------------- | ---------------------------------- |
| File Type | Route                                                               | File Name                          |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_20\_Bluetooth Control Tank | lesson\_20\_Bluetooth Control Tank |

You could edit code step by step as follows:

（1）Click “Control”to find and drag![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png);

（2）Click“Serial”to find and
drag![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png);

![](/media/ab706faf61854a4bb27663a5cac4325c.png)

（3）Click“Mini Tank Robot V3”of “robot”to find and
drag![](/media/d0e5da46eafb0483a9891d870e2d9eae.png);

（4） Click“Serial”to find and
drag![](/media/d0e5da46eafb0483a9891d870e2d9eae.png);click“Variables”to
find and drag ![](/media/e833ec02bd6816cef1f10cb7ed2709e4.png);

![](/media/5d5aa6524d71b49b0bd7da0e1b63d0be.png)

Complete code：

![](/media/397731af0dc0cc46f408f812745d05a0.png)

First remove the Bluetooth module and upload the test code;

Then reconnect the Bluetooth module and open the serial monitor to set
the baud rate to 9600;

Press the button of the Bluetooth APP, and the corresponding characters
are displayed in the serial monitor as shown in the picture below:

![](/media/805f8ee5c8998a5d6cb8bcef9da09186.png)

The following table illustrates the functions of corresponding keys:

<table>
<tbody>
<tr class="odd">
<td>Keys</td>
<td>Functions</td>
<td></td>
</tr>
<tr class="even">
<td><img src="/media/1118dccd714c7988a51cf2dde58627e3.png" style="width:1.41319in;height:0.34306in" /></td>
<td>Pair and connect HM-10 Bluetooth module;click again to disconnect</td>
<td></td>
</tr>
<tr class="odd">
<td><img src="/media/b23e65f788685576275cc16bf0b679cc.png" style="width:1.22292in;height:0.32986in" /></td>
<td>select the robot to operate</td>
<td></td>
</tr>
<tr class="even">
<td><img src="/media/8d910d19cec4d03b5d9cb787425d8d7c.png" style="width:1.14583in;height:0.50069in" /></td>
<td>to control the movements of the robot by buttons</td>
<td></td>
</tr>
<tr class="odd">
<td><img src="/media/9c0c7230244e08fc5afa28b18e8b4241.png" style="width:1.15556in;height:0.475in" /></td>
<td>To control the movements of the robot by joystick</td>
<td></td>
</tr>
<tr class="even">
<td><img src="/media/3ab61154b4ae730a3757f40171846825.png" style="width:1.1375in;height:0.49097in" /></td>
<td>To control the movements of the robot by gravity</td>
<td></td>
</tr>
<tr class="odd">
<td><img src="/media/fe15b0e4a7e705027cb042d0fd2398ea.png" style="width:1.13611in;height:0.52708in" /></td>
<td>Send “F”when pressed and “S”when released</td>
<td>The car moves forward when it is pressed and stops when released</td>
</tr>
<tr class="even">
<td><img src="/media/b1765938932b8633bd5a96af0293ef24.png" style="width:0.57847in;height:1.02361in" /></td>
<td>Send “L”when pressed and “S”when released</td>
<td>The car turns left when it is pressed tight and stops when released</td>
</tr>
<tr class="odd">
<td><img src="/media/67f26bd7d2076922470e8805711f2ef9.png" style="width:0.54444in;height:1.05139in" /></td>
<td>Send “R”when pressed and “S”when released</td>
<td>The car turns right when it is pressed tight and stops when released</td>
</tr>
<tr class="even">
<td><img src="/media/77615a8ca984e538d58e02ac90bc5382.png" style="width:1.10903in;height:0.5875in" /></td>
<td>Send “B”when pressed and “S”when released</td>
<td>The car turns back when it is pressed tight and stops when released</td>
</tr>
<tr class="odd">
<td><img src="/media/f58421773a56c911b09c150d08b0fd67.png" style="width:1.7625in;height:0.16806in" /></td>
<td>Send “u”+digit+“#”when dragged</td>
<td>Drag to change the speed of the left motor</td>
</tr>
<tr class="even">
<td><img src="/media/a05432839507dd25b7dc7eb1bb9a02bb.png" style="width:1.75833in;height:0.13542in" /></td>
<td>Send “v”+digit+“#”when dragged</td>
<td>Drag to change the speed of the right motor</td>
</tr>
<tr class="odd">
<td><img src="/media/5dd730ab4d2299210dc2399303b94e33.png" style="width:1.27708in;height:0.44653in" /></td>
<td>Select to enter Function page</td>
<td></td>
</tr>
<tr class="even">
<td><img src="/media/a352ca9be952db2838540657b9a70f8c.png" style="width:0.65139in;height:0.66944in" /></td>
<td>Send “G”when pressed and “S”when pressed again</td>
<td>Enter obstacle avoidance mode when pressed and exit when pressed again</td>
</tr>
<tr class="odd">
<td><img src="/media/64da14a6ca501aa97f8eb8895e9f6b1c.png" style="width:0.65764in;height:0.70139in" /></td>
<td>Send “h”when pressed and “S”when pressed again</td>
<td>Enter following mode when pressed and exit when pressed again</td>
</tr>
<tr class="even">
<td><img src="/media/e4f3b211f8c8b06d1eab9dd2281dff74.png" style="width:0.65139in;height:0.72986in" /></td>
<td>Send “e”when pressed and “S”when pressed again</td>
<td>Enter line-tracking mode when pressed and exit when pressed again</td>
</tr>
<tr class="odd">
<td><img src="/media/3d662f37603a8f0c1c34ab2b9ff28c63.png" style="width:0.65069in;height:0.64306in" /></td>
<td>Send “f”when pressed and “S”when pressed again</td>
<td>Enter move-in-confined-space mode when pressed and exit when pressed again</td>
</tr>
<tr class="even">
<td><img src="/media/48ab7c8c488c61abc162dbda0fc75f27.png" style="width:0.66806in;height:0.64028in" /></td>
<td>Send “i”when pressed and “S”when pressed again</td>
<td>Enter light following mode when pressed and exit when pressed again</td>
</tr>
<tr class="odd">
<td><img src="/media/4250a152c647cc59f72bf51328943371.png" style="width:0.66806in;height:0.76319in" /></td>
<td>Send “j”when pressed and “S”when pressed again</td>
<td>Enter fire extinguishing mode when pressed and exit when pressed again</td>
</tr>
<tr class="even">
<td><img src="/media/cc420ba3d148bd6b720dd44df9a82768.png" style="width:0.95625in;height:0.40833in" /></td>
<td>Select to enter facial expression display mode</td>
<td></td>
</tr>
<tr class="odd">
<td><img src="/media/17261f134c25702ae129624860ab8fe1.png" style="width:0.64861in;height:0.73819in" /></td>
<td>Send “k”when pressed and “z”when pressed again</td>
<td>Show smiling pattern when clicked and clear expression when clicked again</td>
</tr>
<tr class="even">
<td><img src="/media/a8bff045e822a06a24bfd7599c9f142a.png" style="width:0.63125in;height:0.7875in" /></td>
<td>Send “l”when pressed and “z”when pressed again</td>
<td>Show disgusting pattern when clicked and clear expression when clicked again</td>
</tr>
<tr class="odd">
<td><img src="/media/8729f3ac4adf446b388221ae2e4cf71f.png" style="width:0.63333in;height:0.77153in" /></td>
<td>Send “m”when pressed and “z”when pressed again</td>
<td>Show happy face when clicked and clear expression when clicked again</td>
</tr>
<tr class="even">
<td><img src="/media/63d935cd1958863f862374ded9b87d6b.png" style="width:0.62639in;height:0.71944in" /></td>
<td>Send “n”when pressed and “z”when pressed again</td>
<td>Show sad pattern when clicked and clear expression when clicked again</td>
</tr>
<tr class="odd">
<td><img src="/media/5e84087020b919a85495831b231efa5a.png" style="width:0.63194in;height:0.71597in" /></td>
<td>Send “o”when pressed and “z”when pressed again</td>
<td>Show disparaging pattern when clicked and clear expression when clicked again</td>
</tr>
<tr class="even">
<td><img src="/media/3b7d99862c2d9a5e7337645b4548091e.png" style="width:0.66111in;height:0.77639in" /></td>
<td>Send “p”when pressed and “z”when pressed again</td>
<td>Show heart-shaped pattern when clicked and clear expression when clicked again</td>
</tr>
<tr class="odd">
<td><img src="/media/41bf8b28dea6061cea89b640f5646403.png" style="width:1.14375in;height:0.3875in" /></td>
<td>Choose to enter the custom function interface; there are six keys 1,2,3,4,5,6; with these keys, you can expand some functions by yourself</td>
<td></td>
</tr>
<tr class="even">
<td><img src="/media/06b8f32aae6c9914ef227d6966ea537f.png" style="width:1.4in;height:0.24931in" /></td>
<td>Click to send “w”</td>
<td>Click to display the analog value detected by the photoresistor on the left</td>
</tr>
<tr class="odd">
<td><img src="/media/a89df3c223e6a7d4eac29d4fe2ee14af.png" style="width:1.42153in;height:0.27708in" /></td>
<td>Click to send“y”</td>
<td>Click to display the analog value detected by the photoresistor on the right</td>
</tr>
<tr class="even">
<td><img src="/media/a76df707b84409e57a1167889c3510d9.png" style="width:1.40764in;height:0.26389in" /></td>
<td>Click to send“x”</td>
<td>Click to show the distance detected by ultrasonic sensor (unit: cm)</td>
</tr>
<tr class="odd">
<td><img src="/media/704e5c6a72d89ee8f78d79ff3cd9537c.png" style="width:1.12292in;height:0.36736in" /></td>
<td><p>Click to send“c”</p>
<p>Click again to send“d”</p></td>
<td>Press to turn on the fan and press again to turn off it</td>
</tr>
</tbody>
</table>

**(4)Flow chart**

**(5)Connection Diagram:**

![](/media/023d806ec3941e45450c684b914bac50.png) The GND, VCC, SDA, and SCL of the 8x16 LED
dot matrix are respectively connected to-(GND), + (VCC), SDA, SCL of the
expansion board;

The Bluetooth module is directly plugged into the expansion board.
Please pay attention to the direction of the pin. The STATE and BRK pins
of the Bluetooth module do not need to be connected.

**(6)Test Code 2**

The program will be generated if you find the following file and drag it
into Mixly software.

|           |                                                                     |                                      |
| --------- | ------------------------------------------------------------------- | ------------------------------------ |
| File Type | Route                                                               | File Name                            |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_20\_Bluetooth Control Tank | lesson\_20.2\_Bluetooth Control Tank |

You could edit code step by step as follows:

（1）Click “Control”to find and drag![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png);

（2）Click“SerialPort”to find and
drag![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png);

![](/media/ab706faf61854a4bb27663a5cac4325c.png)

（3） Click“Mini Tank Robot V3”of “robot”to find and
drag![](/media/840995e7b596b0ae85f549d14868fd5d.png);

（4） Click“SerialPort”to find and
drag![](/media/840995e7b596b0ae85f549d14868fd5d.png)；click“Variables”to
find and drag![](/media/e833ec02bd6816cef1f10cb7ed2709e4.png) to
get ![](/media/6a135644a2c9d6fde5a3c7e7a801339e.png)

（5）Click“Control”to find and
drag![](/media/86a19fdfc831358c605f99cf73254079.png)to get
![](/media/fe01b3e71a9cbf9b66658d604751bbc6.png) five times
into![](/media/f67c99f4f1a290e897f01b28ee2f6973.png);click
"Variables"to find and drag ![](/media/f96213ca92ee0843d9d1c42632bb1502.png) behind“switch”;

![](/media/4905388b9eddf60df6766aa3db5c2b28.png)

5.  Click“Text”to find and drag![](/media/ebfc14e6725fc11a7f791b043aa53580.png) behind the first
    case; change a to F；click“Mini Tank Robot V3”of “robot”to find and
    drag，![](/media/4a0d1810dbc923de8ca25ac89e568394.png)orderly and
    place them to the first case;change all the 0s in front of PWM to
    200;
    
    ![](/media/476b1d91ebb2163a0b76ca8d91dbe735.png)
    
    （7）Click“Text”to find and drag![](/media/ebfc14e6725fc11a7f791b043aa53580.png) behind the
    second case, changea to B；click“Mini Tank Robot V3”of “robot”to find
    and drag![](/media/e2afa255c8de135c2992aaf1412c0264.png)orderly
    and place them to the second case;change all the 0s in front of PWM
    to 200;
    
    ![](/media/8eb0eb8f5091b2b8943e6a7b8151f0b7.png)
    
    （8）Click“Text”to find and drag![](/media/ebfc14e6725fc11a7f791b043aa53580.png)behind the
    third case;change a to L；click“Mini Tank Robot V3”of “robot”to find
    and drag![](/media/371fb4f515ba4fd680b35e4ad443babd.png)orderly
    and place them to the third case;change all the 0s in front of PWM
    to 200;
    
    ![](/media/db587d6cbe8b6f7fb1f1a533ff90f8e0.png)
    
    （11）Click“Text”to find and drag![](/media/ebfc14e6725fc11a7f791b043aa53580.png)behind the
    forth case; change a to R；click“Mini Tank Robot V3”of “robot”to find
    and drag![](/media/9fe27ca005e8c65cf0895fafdc75288a.png)orderly
    and place them to the fourth case; change all the 0s in front of PWM
    to 200;
    
    ![](/media/adf1072120d0affe1cfe4e5443e2ca96.png)
    
    （12）Click“Text”to find and drag![](/media/ebfc14e6725fc11a7f791b043aa53580.png) behind the
    fifth case; change a to S；click“Mini Tank Robot V3”of “robot”to find
    and drag![](/media/c8e44e646d0c89ac2ca647f36861a91c.png)to the fifth case
    ![](/media/3c020f614b891baab8a098d79ed1eecf.png);

Complete code：

![](/media/d5543e3d381cb329d205833374e09987.png)

(Note:When uploading the code, the Bluetooth module must be unplugged,
and the Bluetooth can be reconnected after the uploading process.
Otherwise the code may not be burned.)

**(7)Test Results:**

After uploading the test code successfully, dialing the DIP switch to
the right end, powering it on, and pairing the APP with Bluetooth, the
smart car can be controlled to move by the APP.6）测

**Project 21: Speed-Controlled-by-Bluetooth Tank**

![](/media/bc6f346d0044194eff10034bf6de1032.jpeg)

**(1)Description:**

In the previous project, we have learned how to control a smart tank
with Bluetooth. The PWM value of the motor we used before is 200 (speed
is 200). In this lesson, we will use Bluetooth to adjust the speed of
the smart car, but the fixed speed of 200 cannot be changed. We should
define a variable speeds to store the speed value. Through the previous
study, we have known that the range of this value is from 0 to 255.

**(2)Flow chart**

**(3)Connection Diagram:**

![](/media/023d806ec3941e45450c684b914bac50.png)

The GND, VCC, SDA, and SCL of the 8x16 LED dot matrix are respectively
connected to-(GND), + (VCC), SDA, SCL of the expansion board;

The Bluetooth module is directly plugged into the expansion board.
Please pay attention to the direction of the pin. The STATE and BRK pins
of the Bluetooth module do not need to be connected.

**(4)Test Code**

(Note:When uploading the code, the Bluetooth module must be unplugged,
and the Bluetooth can be reconnected after the uploading process.
Otherwise the code may not be burned.)

The program will be generated if you find the following file and drag it
into Mixly software.

|           |                                                                                 |                                                |
| --------- | ------------------------------------------------------------------------------- | ---------------------------------------------- |
| File Type | Route                                                                           | File Name                                      |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_21\_Speed-Controlled-by-Bluetooth Tank | lesson\_21\_Speed-Controlled-by-Bluetooth Tank |

You could edit code step by step as follows:

（1）Click “Control”to find and drag![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png)。

（2）Click“SerialPort”to find and
drag![](/media/3b9464e5c3dd4437bc5486d58cc9e039.png);

![](/media/ab706faf61854a4bb27663a5cac4325c.png)

（3）Click“Mini Tank Robot V3”of “robot”to find and drag，to find and
drag![](/media/840995e7b596b0ae85f549d14868fd5d.png)。

（4） Click “SerialPort”to find and
drag![](/media/840995e7b596b0ae85f549d14868fd5d.png)；click“Variables”to
find and drag![](/media/e833ec02bd6816cef1f10cb7ed2709e4.png) to get
![](/media/6a135644a2c9d6fde5a3c7e7a801339e.png);

（5）Click“Control”to find and
drag![](/media/86a19fdfc831358c605f99cf73254079.png)to get
![](/media/fe01b3e71a9cbf9b66658d604751bbc6.png) five times
into![](/media/f67c99f4f1a290e897f01b28ee2f6973.png);click
"Variables" to find and drag ![](/media/f96213ca92ee0843d9d1c42632bb1502.png) behind “switch”;

![](/media/4905388b9eddf60df6766aa3db5c2b28.png)

6.  （6）Click“Text”to find and drag![](/media/ebfc14e6725fc11a7f791b043aa53580.png) behind the
    first case; change a to F；click“Mini Tank Robot V3”of “robot”to find
    and drag![](/media/4a0d1810dbc923de8ca25ac89e568394.png)orderly
    and place them to the first case;change all the 0s in front of PWM
    to 200;
    
    ![](/media/476b1d91ebb2163a0b76ca8d91dbe735.png)
    
    （7）Click“Text”to find and drag![](/media/ebfc14e6725fc11a7f791b043aa53580.png) behind the
    second case, changea to B；click“Mini Tank Robot V3”of “robot”to find
    and drag![](/media/e2afa255c8de135c2992aaf1412c0264.png)orderly
    and place them to the second case;change all the 0s in front of PWM
    to 200;
    
    ![](/media/8eb0eb8f5091b2b8943e6a7b8151f0b7.png)
    
    （8）Click“Text”to find and drag![](/media/ebfc14e6725fc11a7f791b043aa53580.png)behind the
    third case;change a to L；click“Mini Tank Robot V3”of “robot”to find
    and drag![](/media/371fb4f515ba4fd680b35e4ad443babd.png)orderly
    and place them to the third case;change all the 0s in front of PWM
    to 200;
    
    ![](/media/db587d6cbe8b6f7fb1f1a533ff90f8e0.png)
    
    （9）Click“Text”to find and drag![](/media/ebfc14e6725fc11a7f791b043aa53580.png)behind the
    forth case; change a to R；click“Mini Tank Robot V3”of “robot”to find
    and drag![](/media/9fe27ca005e8c65cf0895fafdc75288a.png)orderly
    and place them to the fourth case; change all the 0s in front of PWM
    to 200;
    
    ![](/media/adf1072120d0affe1cfe4e5443e2ca96.png)
    
    （10）Click“Text”to find and drag![](/media/ebfc14e6725fc11a7f791b043aa53580.png) behind the
    fifth case; change a to S；click“Mini Tank Robot V3”of “robot”to find
    and drag![](/media/c8e44e646d0c89ac2ca647f36861a91c.png)to the fifth case
    
    ![](/media/3c020f614b891baab8a098d79ed1eecf.png)

Complete code：

![](/media/d5543e3d381cb329d205833374e09987.png)

**(5)Test Results:**

After uploading the test code successfully, dialing the DIP switch to
the right end, powering it on, and pairing the APP with Bluetooth, the
smart car can be controlled to move by the APP. And the speed of the car
can be regulated by pulling the speed dials of the left and right
motors.

> (You can refer to function table in project 20 for help)测

**Project 22: Multifunctional Tank**

![](/media/55638241b5cef959d3f01494c82c2ea3.jpeg)

**(1)Description:**

The smart car has performed a single function in every previous project.
Can it display multiply functions at a time ? Positive. In this last big
project, we intend to use a once and place it behind else if to control
the smart car to show off all functions mentioned in previous projects.
We use the keys on the Bluetooth APP to automatically switch various
functions, quite simple and convenient.

**(2)Flow chart**

**(3)Connection Diagram:**

![](/media/06da9bf0b57e68b1300d1a1b33178285.png)

1.Please carefully check the wiring.When we want to show the fire
extinguishing function of this car, we need to detach the ultrasonic
sensor, servo, and photosensitive from it, and replace them with the fan
module and flame sensor;

2.The GND, VCC, SDA, and SCL of the 1.8x16 LED dot matrix are
respectively connected to-(GND), + (VCC), SDA, SCL of the expansion
board;

3.The VCC pin of the ultrasonic sensor (fan module) is connected to
5v(V), Trig pin to digital 12(S), Echo pin to digital 13(S), and Gnd pin
to Gnd(G);

4.The servo is connected to G, V, and 10. The brown wire of the servo is
connected to Gnd (G), the red wire is connected to 5v (V), and the
orange wire is connected to 10;

5.The RXD, TXD, GND, and VCC of the Bluetooth module are respectively
connected to TX, RX,-(GND), + (VCC), and the STATE and BRK pins of the
Bluetooth module do not need to be connected;

6.The "-", "+" and S pins of the infrared receiving sensor module are
respectively connected to the sensor expansion board G (GND), V (VCC),
A2 with wires;

7.  The pins "-" "+" and S of the left photoresistor (flame sensor)
    module are respectively connected to the G (GND), V (VCC), A0 of the
    expansion board and for the right photoresistor (flame sensor)
    module they are connected to G (GND), V (VCC), A1.
    
    **(4)Test Code**
    
    The program will be generated if you find the following file and
    drag it into Mixly software.

|           |                                                                   |                                  |
| --------- | ----------------------------------------------------------------- | -------------------------------- |
| File Type | Route                                                             | File Name                        |
| MIX File  | ../tutorial for Mixly/Mixly Code/lesson\_22\_Multifunctional Tank | lesson\_22\_Multifunctional Tank |

As the code is too complicated with lots of steps, it won’ t be
illustrated step by step. But you are encouraged to have a try.

Complete code 1:

(flame sensor and fan)

![](/media/c609ee6a2fbe62ce2cfffd540d08cf43.png)

![](/media/495c846300c754e47c1394fe20cb8141.png)

Complete code 2:

(photosensitive module, ultrasonic sensor and servo)

![](/media/2fd1daef8016f568e129095c7b9b2fba.png)

![](/media/93395b7a562cad47d32f45589ffcd006.png)

**(5)Test Results:**

测()试结果

(Note: before uploading the test code, you need to remove the Bluetooth
module. Otherwise the code will fail to upload. When the code uploading
process is done, open the GPS on your phone, and then reconnect the
Bluetooth module.)

After uploading the test code successfully, powering it on, and pairing
the APP with Bluetooth, the smart car can be controlled to perform
various functions by the APP.

We can realize the corresponding functions by pressing the corresponding
keys to select various modes, and finally end the operation of the smart
car with the key Stop. The above wiring diagram does not have a fan
module and a flame sensor module. When we show the fire extinguishing
function of the car, we need to replace the servo, the ultrasonic sensor
and the photoresistor with the fan module and flame module. Of course,
at that time we cannot enter the straight-line following, ultrasonic
obstacle avoidance and light-seeking modes. However, we use pins to fix
sensors and modules, which makes the detachment and assembly very
simple. No need worry about it. But we need to block the unused code for
some modules using the same IO port. The fan module and the flame sensor
module in the above code have been blocked.

All the projects have been completed. Hope you’d obtain some fresh
knowledge. If you encounter any problem involves this kit, please feel
free to contact our customer service professionals who will help you
timely.

And we strongly recommend you to have a go on the following products
rolled out by Keyestudio. Thank you for your attention.

|                                     |                                                                        |                                              |
| ----------------------------------- | ---------------------------------------------------------------------- | -------------------------------------------- |
| ![](/media/ac1b7dc172c3f335b5370eb3b9b8e173.jpeg) |
| ![](/media/a523f8f659b88422e6751233dfcf698e.jpeg)            |

7.  **Resources**
    
    [https:/fs.keyestudio.com/KS0](https:/fs.keyestudio.com/KS0426)526

#
